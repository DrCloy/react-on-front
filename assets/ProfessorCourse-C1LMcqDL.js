import{r as a,j as e,R as j,y as v,z as f,B as y,D as N,E as R,q as M,F as $,P as z,S as A,l as V,m as Z,k as Q,T as b,d as F}from"./index-CjbSPF6V.js";import{P as B,a as D,c as U}from"./courseAction-B7CIxiaS.js";import{u as W}from"./next-vector-Cz0T4Aox.js";import{S as G,a as J,b as K,c as O,d as X}from"./wish-emoji-BAqodR4b.js";const Y=o=>a.createElement("svg",{width:24,height:25,viewBox:"0 0 24 25",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...o},a.createElement("path",{d:"M5.25 11.7734H20.25C20.4489 11.7734 20.6397 11.8525 20.7803 11.9931C20.921 12.1338 21 12.3245 21 12.5234C21 12.7223 20.921 12.9131 20.7803 13.0538C20.6397 13.1944 20.4489 13.2734 20.25 13.2734H5.25C5.05109 13.2734 4.86032 13.1944 4.71967 13.0538C4.57902 12.9131 4.5 12.7223 4.5 12.5234C4.5 12.3245 4.57902 12.1338 4.71967 11.9931C4.86032 11.8525 5.05109 11.7734 5.25 11.7734Z",fill:"#8593B0"}),a.createElement("path",{d:"M5.56184 12.5244L11.7823 18.7434C11.9232 18.8842 12.0023 19.0752 12.0023 19.2744C12.0023 19.4735 11.9232 19.6646 11.7823 19.8054C11.6415 19.9462 11.4505 20.0253 11.2513 20.0253C11.0522 20.0253 10.8612 19.9462 10.7203 19.8054L3.97034 13.0554C3.9005 12.9857 3.84508 12.903 3.80727 12.8118C3.76946 12.7207 3.75 12.623 3.75 12.5244C3.75 12.4257 3.76946 12.3281 3.80727 12.2369C3.84508 12.1458 3.9005 12.0631 3.97034 11.9934L10.7203 5.24338C10.8612 5.10255 11.0522 5.02344 11.2513 5.02344C11.4505 5.02344 11.6415 5.10255 11.7823 5.24338C11.9232 5.38421 12.0023 5.57522 12.0023 5.77438C12.0023 5.97355 11.9232 6.16456 11.7823 6.30539L5.56184 12.5244Z",fill:"#8593B0"})),e1="_buttonContainer_f61n0_1",s1={buttonContainer:e1},t1=({onButtonClick:o})=>e.jsx("button",{className:s1.buttonContainer,onClick:o,children:e.jsx(Y,{height:"24px",color:"var(--gray-500)"})}),o1="_professorCourse_t1g2t_1",n1="_professorCourseHeader_t1g2t_8",r1="_backButton_t1g2t_18",c1="_professorCourseHeaderContainer_t1g2t_25",a1="_professorCourseHeaderInfo_t1g2t_32",i1="_infoText_t1g2t_38",l1="_courseUniversity_t1g2t_44",d1="_courseTitle_t1g2t_49",C1="_courseSubInfo_t1g2t_54",u1="_courseSchedule_t1g2t_59",_1="_clockIcon_t1g2t_65",g1="_subInfoText_t1g2t_70",h1="_divider_t1g2t_75",p1="_coursePeople_t1g2t_81",m1="_peopleIcon_t1g2t_87",x1="_courseCategory_t1g2t_92",j1="_right_t1g2t_99",v1="_courseAccessCode_t1g2t_104",f1="_accessCodeText_t1g2t_114",y1="_headerButtonContainer_t1g2t_119",N1="_professorCourseBody_t1g2t_124",b1="_bodyContainer_t1g2t_133",B1="_bodyHeader_t1g2t_140",k1="_bodyContent_t1g2t_145",S1="_courseBodyContainer_t1g2t_151",w1="_courseBodyTitle_t1g2t_164",L1="_bodyButtonContainer_t1g2t_169",t={professorCourse:o1,professorCourseHeader:n1,backButton:r1,professorCourseHeaderContainer:c1,professorCourseHeaderInfo:a1,infoText:i1,courseUniversity:l1,courseTitle:d1,courseSubInfo:C1,courseSchedule:u1,clockIcon:_1,subInfoText:g1,divider:h1,coursePeople:p1,peopleIcon:m1,courseCategory:x1,right:j1,courseAccessCode:v1,accessCodeText:f1,headerButtonContainer:y1,professorCourseBody:N1,bodyContainer:b1,bodyHeader:B1,bodyContent:k1,courseBodyContainer:S1,courseBodyTitle:w1,bodyButtonContainer:L1},E1=o=>a.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o},a.createElement("path",{d:"M13.2936 0C13.6464 0 13.962 0.219598 14.0808 0.548395L14.9279 2.89677C15.2311 2.97197 15.4927 3.04877 15.7127 3.12717C15.9527 3.21277 16.2647 3.34477 16.6487 3.52317L18.6214 2.47918C18.7823 2.39347 18.9668 2.36246 19.1469 2.39082C19.327 2.41918 19.493 2.50537 19.6198 2.63638L21.3549 4.43036C21.5853 4.66916 21.6501 5.01835 21.5205 5.32315L20.5953 7.49153C20.7481 7.77313 20.8713 8.01472 20.9649 8.21632C21.0657 8.43472 21.1905 8.73872 21.3393 9.12831L23.4956 10.0523C23.8196 10.1903 24.02 10.5143 23.9984 10.8611L23.84 13.3511C23.8292 13.5128 23.7711 13.6679 23.673 13.7969C23.5749 13.926 23.441 14.0234 23.288 14.0771L21.2457 14.8031C21.1873 15.0847 21.1257 15.3271 21.0609 15.5303C20.9561 15.8452 20.8367 16.1551 20.7033 16.459L21.7293 18.727C21.8023 18.8863 21.8221 19.0648 21.7858 19.2361C21.7495 19.4075 21.659 19.5627 21.5277 19.6786L19.5766 21.421C19.4483 21.5357 19.2879 21.6083 19.1171 21.6289C18.9463 21.6495 18.7732 21.6171 18.6214 21.5362L16.6103 20.4706C16.2959 20.6379 15.9713 20.785 15.6383 20.911L14.7599 21.2398L13.98 23.3998C13.9216 23.5576 13.8172 23.6942 13.6803 23.792C13.5433 23.8898 13.3802 23.9442 13.212 23.9482L10.9321 23.9998C10.7593 24.0038 10.5896 23.9544 10.4459 23.8584C10.3023 23.7625 10.1917 23.6245 10.1293 23.4634L9.21012 21.031C8.89659 20.9236 8.58608 20.8076 8.27895 20.683C8.02783 20.5743 7.78049 20.457 7.53738 20.3314L5.25746 21.3058C5.10729 21.3702 4.9416 21.3894 4.78068 21.3611C4.61977 21.3327 4.47061 21.258 4.35149 21.1462L2.66435 19.5634C2.53827 19.4464 2.45239 19.2925 2.41899 19.1238C2.38559 18.955 2.40637 18.7801 2.47836 18.6238L3.45872 16.4878C3.3288 16.2346 3.20793 15.9769 3.09633 15.7151C2.96635 15.3944 2.84629 15.0699 2.73635 14.7419L0.588421 14.0879C0.413828 14.0351 0.261545 13.9261 0.155223 13.7779C0.0489015 13.6297 -0.00550937 13.4506 0.000440948 13.2683L0.084438 10.9631C0.090678 10.8128 0.137766 10.667 0.220643 10.5414C0.30352 10.4158 0.419051 10.3152 0.554822 10.2503L2.80834 9.16791C2.91234 8.78552 3.00434 8.48632 3.08433 8.27032C3.19755 7.98023 3.32327 7.69516 3.46112 7.41593L2.48435 5.35195C2.40967 5.19533 2.38685 5.01897 2.41922 4.8485C2.45158 4.67802 2.53745 4.52231 2.66435 4.40396L4.34909 2.81277C4.46703 2.70112 4.61482 2.62605 4.77455 2.59666C4.93427 2.56727 5.0991 2.58482 5.24906 2.64718L7.52658 3.58797C7.77777 3.42077 8.00656 3.28317 8.21296 3.17517C8.45855 3.04557 8.78814 2.90717 9.20172 2.75997L9.99369 0.550795C10.0528 0.389507 10.16 0.250231 10.3008 0.151744C10.4415 0.0532573 10.6091 0.000295928 10.7809 0L13.2936 0ZM12.0288 8.42272C10.0285 8.42272 8.40735 10.0247 8.40735 12.0023C8.40735 13.9799 10.0285 15.5831 12.0288 15.5831C14.0292 15.5831 15.6491 13.9799 15.6491 12.0023C15.6491 10.0247 14.0292 8.42272 12.0288 8.42272Z",fill:"#4D586F"})),T1=o=>a.createElement("svg",{width:24,height:25,viewBox:"0 0 24 25",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...o},a.createElement("path",{d:"M23.097 4.4494H17.132V3.38087C17.1272 2.62427 16.8074 1.89978 16.2417 1.36386C15.9598 1.09688 15.6248 0.885172 15.2559 0.740935C14.887 0.596698 14.4915 0.522781 14.0922 0.523442H9.94595C9.54666 0.522781 9.15117 0.596698 8.78227 0.740935C8.41338 0.885172 8.07835 1.09688 7.7965 1.36386C7.23537 1.90172 6.92026 2.62598 6.91892 3.38087V4.4494H0.953895C0.700906 4.4494 0.458279 4.54427 0.279389 4.71314C0.100499 4.88201 0 5.11104 0 5.34985C0 5.58867 0.100499 5.8177 0.279389 5.98657C0.458279 6.15544 0.700906 6.2503 0.953895 6.2503H2.75994V20.3694C2.75475 20.9166 2.86448 21.4593 3.08278 21.9662C3.30108 22.4732 3.62363 22.9343 4.0318 23.3228C4.86401 24.0926 5.98275 24.5236 7.14785 24.5234H16.8394C18.0045 24.5236 19.1233 24.0926 19.9555 23.3228C20.3636 22.9343 20.6862 22.4732 20.9045 21.9662C21.1228 21.4593 21.2325 20.9166 21.2273 20.3694V6.2503H23.0461C23.2991 6.2503 23.5417 6.15544 23.7206 5.98657C23.8995 5.8177 24 5.58867 24 5.34985C24 5.11104 23.8995 4.88201 23.7206 4.71314C23.5417 4.54427 23.2991 4.4494 23.0461 4.4494H23.097ZM8.85215 3.38087C8.8522 3.24229 8.88147 3.10511 8.93824 2.97731C8.99501 2.84952 9.07816 2.73366 9.18283 2.6365C9.3931 2.4402 9.67568 2.32833 9.97138 2.32434H14.1176C14.2665 2.32347 14.414 2.35062 14.5516 2.40422C14.6892 2.45782 14.8141 2.53679 14.9189 2.6365C15.1269 2.83498 15.2454 3.10174 15.2496 3.38087V4.4494H8.8903L8.85215 3.38087ZM10.5437 18.5204C10.5437 18.8389 10.4097 19.1442 10.1712 19.3694C9.93268 19.5945 9.60918 19.721 9.27186 19.721C8.93454 19.721 8.61104 19.5945 8.37252 19.3694C8.134 19.1442 8 18.8389 8 18.5204V12.0012C8 11.6828 8.134 11.3774 8.37252 11.1522C8.61104 10.9271 8.93454 10.8006 9.27186 10.8006C9.60918 10.8006 9.93268 10.9271 10.1712 11.1522C10.4097 11.3774 10.5437 11.6828 10.5437 12.0012V18.5204ZM16.089 18.5204C16.089 18.8389 15.955 19.1442 15.7165 19.3694C15.478 19.5945 15.1545 19.721 14.8172 19.721C14.4799 19.721 14.1564 19.5945 13.9178 19.3694C13.6793 19.1442 13.5453 18.8389 13.5453 18.5204V12.0012C13.5453 11.6828 13.6793 11.3774 13.9178 11.1522C14.1564 10.9271 14.4799 10.8006 14.8172 10.8006C15.1545 10.8006 15.478 10.9271 15.7165 11.1522C15.955 11.3774 16.089 11.6828 16.089 12.0012V18.5204Z",fill:"white"})),H1="_buttonContainer_1t0tk_1",I1="_gray_1t0tk_7",P1="_red_1t0tk_11",k={buttonContainer:H1,gray:I1,red:P1},S=({onButtonClick:o,type:s,bg:n})=>{const r=k[n]||"";return e.jsxs("button",{className:`${k.buttonContainer} ${r}`,onClick:o,children:[s==="setting"&&e.jsx(E1,{}),s==="trash"&&e.jsx(T1,{})]})},q1="_container_ijaiy_1",R1="_page_ijaiy_9",M1="_pageNumber_ijaiy_16",$1="_currentPage_ijaiy_21",h={container:q1,page:R1,pageNumber:M1,currentPage:$1},z1="_page_brhf7_1",A1="_noQuestion_brhf7_9",V1="_question_brhf7_16",_={page:z1,noQuestion:A1,question:V1},w=({question:o})=>o===""?e.jsx("div",{className:`${_.page} ${_.noQuestion}`,children:e.jsx("p",{className:_.question,children:"답변되지 않은 질문이 없습니다."})}):e.jsx("div",{className:_.page,children:e.jsx("p",{className:_.question,children:o})}),Z1=({questions:o})=>{const{prevPage:s,nextPage:n,PaginationDiv:r,page:i,totalPages:l}=W();return e.jsxs("div",{className:h.container,children:[e.jsx(r,{children:o.length===0?e.jsx(w,{question:""}):o.map(g=>e.jsx(w,{question:g.content},g.id))}),e.jsxs("div",{className:h.page,children:[e.jsx(B,{type:"prev",onButtonClick:s,isActive:i>0}),e.jsxs("div",{className:h.pageNumber,children:[e.jsx("span",{className:h.currentPage,children:i+1})," /"," ",Math.max(1,l)]}),e.jsx(B,{type:"next",onButtonClick:n,isActive:i<l-1})]})]})},Q1="_courseRequest_3lmex_1",F1={courseRequest:Q1},D1="_container_13zh6_1",U1="_wrapper_13zh6_9",W1="_active_13zh6_18",G1="_percentage_13zh6_30",J1="_content_13zh6_42",K1="_main_13zh6_51",O1="_emojiBackground_13zh6_58",X1="_emoji_13zh6_58",Y1="_title_13zh6_75",e2="_count_13zh6_86",c={container:D1,wrapper:U1,active:W1,percentage:G1,content:J1,main:K1,emojiBackground:O1,emoji:X1,title:Y1,count:e2},d=({title:o,Emoji:s,count:n,percentage:r,isActive:i=!1})=>{const l=o.slice(0,-2);return e.jsx("div",{className:c.container,children:e.jsxs("div",{className:`${c.wrapper} ${i&&c.active}`,children:[e.jsx("div",{className:c.percentage,style:{width:`max(${r}%, 18px)`}}),e.jsxs("div",{className:c.content,children:[e.jsxs("div",{className:c.main,children:[e.jsx("div",{className:c.emojiBackground,children:e.jsx(s,{className:c.emoji})}),e.jsx("div",{className:c.title,children:e.jsx("span",{className:c.titleGreen,children:l})})]}),e.jsx("div",{className:c.count,children:e.jsx("span",{children:n})})]})]})})},C={[j.kind]:G,[v.kind]:J,[f.kind]:K,[y.kind]:O,[N.kind]:X},s2=(o,s)=>s===0?0:o/s*100,t2=(o,s)=>o[s].count===0?!1:o[s].count===o[0].count?!0:s<2,o2=({requests:o})=>{const s=o.sort((n,r)=>r.count-n.count);return e.jsx("div",{className:F1.courseRequest,children:s.length===0?e.jsxs(e.Fragment,{children:[e.jsx(d,{title:y.title,Emoji:C[y.kind],count:0,percentage:0}),e.jsx(d,{title:f.title,Emoji:C[f.kind],count:0,percentage:0}),e.jsx(d,{title:j.title,Emoji:C[j.kind],count:0,percentage:0}),e.jsx(d,{title:N.title,Emoji:C[N.kind],count:0,percentage:0}),e.jsx(d,{title:v.title,Emoji:C[v.kind],count:0,percentage:0})]}):s.map((n,r)=>e.jsx(d,{title:n.type.title,Emoji:C[n.type.kind],count:n.count,percentage:s2(n.count,s[0].count),isActive:t2(s,r)},r))})},i2=()=>{const{courseId:o}=R(),[s,n]=a.useState(null),[r,i]=a.useState(null),{openModal:l,closeModal:g,Modal:L}=M(),p=$(),{popupError:m,ErrorModal:E}=z(),{handleDeleteCourse:T,handleEditCourse:H,handleStartCourse:I,handleFileCourse:P}=U({setModal:i,openModal:l,closeModal:g,navigate:p,popupError:m}),q=()=>{p("/professor")};return a.useEffect(()=>{async function x(){try{if(!o){m(new Error("수업 정보를 불러올 수 없습니다."));return}const u=await F.getCourseById(o);n(u)}catch(u){m(u)}}x()},[o,p]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:t.professorCourse,children:[e.jsxs("div",{className:t.professorCourseHeader,children:[e.jsx("div",{className:t.backButton,children:e.jsx(t1,{onButtonClick:q})}),e.jsxs("div",{className:t.professorCourseHeaderContainer,children:[e.jsxs("div",{className:t.professorCourseHeaderInfo,children:[e.jsxs("div",{className:t.infoText,children:[e.jsx("h3",{className:t.courseUniversity,children:s==null?void 0:s.university}),e.jsx("h1",{className:t.courseTitle,children:s==null?void 0:s.name})]}),e.jsxs("div",{className:t.courseSubInfo,children:[e.jsxs("div",{className:t.courseSchedule,children:[e.jsx(A,{className:t.clockIcon}),e.jsx("span",{className:t.subInfoText,children:s==null?void 0:s.schedule.map((x,u)=>V(x,u===s.schedule.length-1))})]}),e.jsx("div",{className:t.divider}),e.jsxs("div",{className:t.coursePeople,children:[e.jsx(Z,{className:t.peopleIcon}),e.jsxs("span",{className:t.subInfoText,children:[s==null?void 0:s.capacity,"명"]})]}),e.jsx("div",{className:t.courseCategory,children:e.jsx(D,{color:Q((s==null?void 0:s.classType)||"기타"),text:(s==null?void 0:s.classType)||"기타",isActive:!0})})]})]}),e.jsxs("div",{className:t.right,children:[e.jsx("div",{className:t.courseAccessCode,children:e.jsxs("span",{className:t.accessCodeText,children:["입장코드 : ",s==null?void 0:s.accessCode]})}),e.jsxs("div",{className:t.headerButtonContainer,children:[e.jsx(S,{onButtonClick:()=>s&&H(s),type:"setting",bg:"gray"}),e.jsx(S,{onButtonClick:()=>s&&T(s),type:"trash",bg:"red"})]})]})]})]}),e.jsx("div",{className:t.professorCourseBody,children:e.jsxs("div",{className:t.bodyContainer,children:[e.jsx("h2",{className:t.bodyHeader,children:"지난번 수업 데이터"}),e.jsxs("div",{className:t.bodyContent,children:[e.jsxs("div",{className:t.courseBodyContainer,children:[e.jsx("h3",{className:t.courseBodyTitle,children:"💬 이전 수업에서 해결되지 못한 질문"}),e.jsx(Z1,{questions:(s==null?void 0:s.questions)||[]})]}),e.jsxs("div",{className:t.courseBodyContainer,children:[e.jsx("h3",{className:t.courseBodyTitle,children:"📊 이전 수업 반응 통계"}),e.jsx(o2,{requests:(s==null?void 0:s.requests)||[]})]})]}),e.jsxs("div",{className:t.bodyButtonContainer,children:[e.jsx(b,{color:"black",size:"web2",width:"328px",height:"81px",text:s!=null&&s.fileName?"파일 업로드 상태 수정":"자료 업로드",onClick:()=>P(s)}),e.jsx(b,{color:"blue",size:"web2",height:"81px",text:"오늘 수업 시작하기",onClick:()=>I(s)})]})]})})]}),r&&e.jsx(L,{children:r}),e.jsx(E,{})]})};export{i2 as default};
