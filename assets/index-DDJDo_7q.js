var v6=Object.defineProperty;var Fv=a=>{throw TypeError(a)};var y6=(a,e,t)=>e in a?v6(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var ye=(a,e,t)=>y6(a,typeof e!="symbol"?e+"":e,t),kg=(a,e,t)=>e.has(a)||Fv("Cannot "+t);var c=(a,e,t)=>(kg(a,e,"read from private field"),t?t.call(a):e.get(a)),k=(a,e,t)=>e.has(a)?Fv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,t),E=(a,e,t,n)=>(kg(a,e,"write to private field"),n?n.call(a,t):e.set(a,t),t),P=(a,e,t)=>(kg(a,e,"access private method"),t);var yn=(a,e,t,n)=>({set _(r){E(a,e,r,t)},get _(){return c(a,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function C6(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Tg={exports:{}},fd={},Pg={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function _6(){if(Ov)return Ie;Ov=1;var a=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),C=Symbol.iterator;function y(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,A={};function T(O,V,me){this.props=O,this.context=V,this.refs=A,this.updater=me||w}T.prototype.isReactComponent={},T.prototype.setState=function(O,V){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,V,"setState")},T.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function N(){}N.prototype=T.prototype;function L(O,V,me){this.props=O,this.context=V,this.refs=A,this.updater=me||w}var I=L.prototype=new N;I.constructor=L,x(I,T.prototype),I.isPureReactComponent=!0;var M=Array.isArray,F=Object.prototype.hasOwnProperty,z={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function q(O,V,me){var Te,Me={},Ee=null,we=null;if(V!=null)for(Te in V.ref!==void 0&&(we=V.ref),V.key!==void 0&&(Ee=""+V.key),V)F.call(V,Te)&&!U.hasOwnProperty(Te)&&(Me[Te]=V[Te]);var Oe=arguments.length-2;if(Oe===1)Me.children=me;else if(1<Oe){for(var Qe=Array(Oe),mn=0;mn<Oe;mn++)Qe[mn]=arguments[mn+2];Me.children=Qe}if(O&&O.defaultProps)for(Te in Oe=O.defaultProps,Oe)Me[Te]===void 0&&(Me[Te]=Oe[Te]);return{$$typeof:a,type:O,key:Ee,ref:we,props:Me,_owner:z.current}}function Y(O,V){return{$$typeof:a,type:O.type,key:V,ref:O.ref,props:O.props,_owner:O._owner}}function ie(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function he(O){var V={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(me){return V[me]})}var Fe=/\/+/g;function ue(O,V){return typeof O=="object"&&O!==null&&O.key!=null?he(""+O.key):V.toString(36)}function ae(O,V,me,Te,Me){var Ee=typeof O;(Ee==="undefined"||Ee==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(Ee){case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case a:case e:we=!0}}if(we)return we=O,Me=Me(we),O=Te===""?"."+ue(we,0):Te,M(Me)?(me="",O!=null&&(me=O.replace(Fe,"$&/")+"/"),ae(Me,V,me,"",function(mn){return mn})):Me!=null&&(ie(Me)&&(Me=Y(Me,me+(!Me.key||we&&we.key===Me.key?"":(""+Me.key).replace(Fe,"$&/")+"/")+O)),V.push(Me)),1;if(we=0,Te=Te===""?".":Te+":",M(O))for(var Oe=0;Oe<O.length;Oe++){Ee=O[Oe];var Qe=Te+ue(Ee,Oe);we+=ae(Ee,V,me,Qe,Me)}else if(Qe=y(O),typeof Qe=="function")for(O=Qe.call(O),Oe=0;!(Ee=O.next()).done;)Ee=Ee.value,Qe=Te+ue(Ee,Oe++),we+=ae(Ee,V,me,Qe,Me);else if(Ee==="object")throw V=String(O),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return we}function ke(O,V,me){if(O==null)return O;var Te=[],Me=0;return ae(O,Te,"","",function(Ee){return V.call(me,Ee,Me++)}),Te}function Q(O){if(O._status===-1){var V=O._result;V=V(),V.then(function(me){(O._status===0||O._status===-1)&&(O._status=1,O._result=me)},function(me){(O._status===0||O._status===-1)&&(O._status=2,O._result=me)}),O._status===-1&&(O._status=0,O._result=V)}if(O._status===1)return O._result.default;throw O._result}var te={current:null},Z={transition:null},fe={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:Z,ReactCurrentOwner:z};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:ke,forEach:function(O,V,me){ke(O,function(){V.apply(this,arguments)},me)},count:function(O){var V=0;return ke(O,function(){V++}),V},toArray:function(O){return ke(O,function(V){return V})||[]},only:function(O){if(!ie(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ie.Component=T,Ie.Fragment=t,Ie.Profiler=r,Ie.PureComponent=L,Ie.StrictMode=n,Ie.Suspense=h,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ie.act=ee,Ie.cloneElement=function(O,V,me){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Te=x({},O.props),Me=O.key,Ee=O.ref,we=O._owner;if(V!=null){if(V.ref!==void 0&&(Ee=V.ref,we=z.current),V.key!==void 0&&(Me=""+V.key),O.type&&O.type.defaultProps)var Oe=O.type.defaultProps;for(Qe in V)F.call(V,Qe)&&!U.hasOwnProperty(Qe)&&(Te[Qe]=V[Qe]===void 0&&Oe!==void 0?Oe[Qe]:V[Qe])}var Qe=arguments.length-2;if(Qe===1)Te.children=me;else if(1<Qe){Oe=Array(Qe);for(var mn=0;mn<Qe;mn++)Oe[mn]=arguments[mn+2];Te.children=Oe}return{$$typeof:a,type:O.type,key:Me,ref:Ee,props:Te,_owner:we}},Ie.createContext=function(O){return O={$$typeof:l,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:o,_context:O},O.Consumer=O},Ie.createElement=q,Ie.createFactory=function(O){var V=q.bind(null,O);return V.type=O,V},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:d,render:O}},Ie.isValidElement=ie,Ie.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:Q}},Ie.memo=function(O,V){return{$$typeof:p,type:O,compare:V===void 0?null:V}},Ie.startTransition=function(O){var V=Z.transition;Z.transition={};try{O()}finally{Z.transition=V}},Ie.unstable_act=ee,Ie.useCallback=function(O,V){return te.current.useCallback(O,V)},Ie.useContext=function(O){return te.current.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O){return te.current.useDeferredValue(O)},Ie.useEffect=function(O,V){return te.current.useEffect(O,V)},Ie.useId=function(){return te.current.useId()},Ie.useImperativeHandle=function(O,V,me){return te.current.useImperativeHandle(O,V,me)},Ie.useInsertionEffect=function(O,V){return te.current.useInsertionEffect(O,V)},Ie.useLayoutEffect=function(O,V){return te.current.useLayoutEffect(O,V)},Ie.useMemo=function(O,V){return te.current.useMemo(O,V)},Ie.useReducer=function(O,V,me){return te.current.useReducer(O,V,me)},Ie.useRef=function(O){return te.current.useRef(O)},Ie.useState=function(O){return te.current.useState(O)},Ie.useSyncExternalStore=function(O,V,me){return te.current.useSyncExternalStore(O,V,me)},Ie.useTransition=function(){return te.current.useTransition()},Ie.version="18.3.1",Ie}var Bv;function h3(){return Bv||(Bv=1,Pg.exports=_6()),Pg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function w6(){if($v)return fd;$v=1;var a=h3(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(d,h,p){var m,C={},y=null,w=null;p!==void 0&&(y=""+p),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(w=h.ref);for(m in h)n.call(h,m)&&!o.hasOwnProperty(m)&&(C[m]=h[m]);if(d&&d.defaultProps)for(m in h=d.defaultProps,h)C[m]===void 0&&(C[m]=h[m]);return{$$typeof:e,type:d,key:y,ref:w,props:C,_owner:r.current}}return fd.Fragment=t,fd.jsx=l,fd.jsxs=l,fd}var zv;function x6(){return zv||(zv=1,Tg.exports=w6()),Tg.exports}var g=x6(),Kp={},Ng={exports:{}},In={},Lg={exports:{}},Rg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function S6(){return Hv||(Hv=1,function(a){function e(Z,fe){var ee=Z.length;Z.push(fe);e:for(;0<ee;){var O=ee-1>>>1,V=Z[O];if(0<r(V,fe))Z[O]=fe,Z[ee]=V,ee=O;else break e}}function t(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var fe=Z[0],ee=Z.pop();if(ee!==fe){Z[0]=ee;e:for(var O=0,V=Z.length,me=V>>>1;O<me;){var Te=2*(O+1)-1,Me=Z[Te],Ee=Te+1,we=Z[Ee];if(0>r(Me,ee))Ee<V&&0>r(we,Me)?(Z[O]=we,Z[Ee]=ee,O=Ee):(Z[O]=Me,Z[Te]=ee,O=Te);else if(Ee<V&&0>r(we,ee))Z[O]=we,Z[Ee]=ee,O=Ee;else break e}}return fe}function r(Z,fe){var ee=Z.sortIndex-fe.sortIndex;return ee!==0?ee:Z.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();a.unstable_now=function(){return l.now()-d}}var h=[],p=[],m=1,C=null,y=3,w=!1,x=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(Z){for(var fe=t(p);fe!==null;){if(fe.callback===null)n(p);else if(fe.startTime<=Z)n(p),fe.sortIndex=fe.expirationTime,e(h,fe);else break;fe=t(p)}}function M(Z){if(A=!1,I(Z),!x)if(t(h)!==null)x=!0,Q(F);else{var fe=t(p);fe!==null&&te(M,fe.startTime-Z)}}function F(Z,fe){x=!1,A&&(A=!1,N(q),q=-1),w=!0;var ee=y;try{for(I(fe),C=t(h);C!==null&&(!(C.expirationTime>fe)||Z&&!he());){var O=C.callback;if(typeof O=="function"){C.callback=null,y=C.priorityLevel;var V=O(C.expirationTime<=fe);fe=a.unstable_now(),typeof V=="function"?C.callback=V:C===t(h)&&n(h),I(fe)}else n(h);C=t(h)}if(C!==null)var me=!0;else{var Te=t(p);Te!==null&&te(M,Te.startTime-fe),me=!1}return me}finally{C=null,y=ee,w=!1}}var z=!1,U=null,q=-1,Y=5,ie=-1;function he(){return!(a.unstable_now()-ie<Y)}function Fe(){if(U!==null){var Z=a.unstable_now();ie=Z;var fe=!0;try{fe=U(!0,Z)}finally{fe?ue():(z=!1,U=null)}}else z=!1}var ue;if(typeof L=="function")ue=function(){L(Fe)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ke=ae.port2;ae.port1.onmessage=Fe,ue=function(){ke.postMessage(null)}}else ue=function(){T(Fe,0)};function Q(Z){U=Z,z||(z=!0,ue())}function te(Z,fe){q=T(function(){Z(a.unstable_now())},fe)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Z){Z.callback=null},a.unstable_continueExecution=function(){x||w||(x=!0,Q(F))},a.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<Z?Math.floor(1e3/Z):5},a.unstable_getCurrentPriorityLevel=function(){return y},a.unstable_getFirstCallbackNode=function(){return t(h)},a.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var fe=3;break;default:fe=y}var ee=y;y=fe;try{return Z()}finally{y=ee}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(Z,fe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ee=y;y=Z;try{return fe()}finally{y=ee}},a.unstable_scheduleCallback=function(Z,fe,ee){var O=a.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?O+ee:O):ee=O,Z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ee+V,Z={id:m++,callback:fe,priorityLevel:Z,startTime:ee,expirationTime:V,sortIndex:-1},ee>O?(Z.sortIndex=ee,e(p,Z),t(h)===null&&Z===t(p)&&(A?(N(q),q=-1):A=!0,te(M,ee-O))):(Z.sortIndex=V,e(h,Z),x||w||(x=!0,Q(F))),Z},a.unstable_shouldYield=he,a.unstable_wrapCallback=function(Z){var fe=y;return function(){var ee=y;y=fe;try{return Z.apply(this,arguments)}finally{y=ee}}}}(Rg)),Rg}var Uv;function E6(){return Uv||(Uv=1,Lg.exports=S6()),Lg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function A6(){if(Vv)return In;Vv=1;var a=h3(),e=E6();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function o(s,i){l(s,i),l(s+"Capture",i)}function l(s,i){for(r[s]=i,s=0;s<i.length;s++)n.add(i[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},C={};function y(s){return h.call(C,s)?!0:h.call(m,s)?!1:p.test(s)?C[s]=!0:(m[s]=!0,!1)}function w(s,i,u,f){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function x(s,i,u,f){if(i===null||typeof i>"u"||w(s,i,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function A(s,i,u,f,v,_,b){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=s,this.type=i,this.sanitizeURL=_,this.removeEmptyString=b}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){T[s]=new A(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];T[i]=new A(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){T[s]=new A(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){T[s]=new A(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){T[s]=new A(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){T[s]=new A(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){T[s]=new A(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){T[s]=new A(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){T[s]=new A(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function L(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(N,L);T[i]=new A(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(N,L);T[i]=new A(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(N,L);T[i]=new A(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){T[s]=new A(s,1,!1,s.toLowerCase(),null,!1,!1)}),T.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){T[s]=new A(s,1,!1,s.toLowerCase(),null,!0,!0)});function I(s,i,u,f){var v=T.hasOwnProperty(i)?T[i]:null;(v!==null?v.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(x(i,u,v,f)&&(u=null),f||v===null?y(i)&&(u===null?s.removeAttribute(i):s.setAttribute(i,""+u)):v.mustUseProperty?s[v.propertyName]=u===null?v.type===3?!1:"":u:(i=v.attributeName,f=v.attributeNamespace,u===null?s.removeAttribute(i):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,f?s.setAttributeNS(f,i,u):s.setAttribute(i,u))))}var M=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),z=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),he=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),Z=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var ee=Object.assign,O;function V(s){if(O===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+s}var me=!1;function Te(s,i){if(!s||me)return"";me=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(H){var f=H}Reflect.construct(s,[],i)}else{try{i.call()}catch(H){f=H}s.call(i.prototype)}else{try{throw Error()}catch(H){f=H}s()}}catch(H){if(H&&f&&typeof H.stack=="string"){for(var v=H.stack.split(`
`),_=f.stack.split(`
`),b=v.length-1,R=_.length-1;1<=b&&0<=R&&v[b]!==_[R];)R--;for(;1<=b&&0<=R;b--,R--)if(v[b]!==_[R]){if(b!==1||R!==1)do if(b--,R--,0>R||v[b]!==_[R]){var D=`
`+v[b].replace(" at new "," at ");return s.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",s.displayName)),D}while(1<=b&&0<=R);break}}}finally{me=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?V(s):""}function Me(s){switch(s.tag){case 5:return V(s.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return s=Te(s.type,!1),s;case 11:return s=Te(s.type.render,!1),s;case 1:return s=Te(s.type,!0),s;default:return""}}function Ee(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case U:return"Fragment";case z:return"Portal";case Y:return"Profiler";case q:return"StrictMode";case ue:return"Suspense";case ae:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case he:return(s.displayName||"Context")+".Consumer";case ie:return(s._context.displayName||"Context")+".Provider";case Fe:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ke:return i=s.displayName||null,i!==null?i:Ee(s.type)||"Memo";case Q:i=s._payload,s=s._init;try{return Ee(s(i))}catch{}}return null}function we(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(i);case 8:return i===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qe(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function mn(s){var i=Qe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),f=""+s[i];if(!s.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,_=u.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return v.call(this)},set:function(b){f=""+b,_.call(this,b)}}),Object.defineProperty(s,i,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(b){f=""+b},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function $f(s){s._valueTracker||(s._valueTracker=mn(s))}function U3(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var u=i.getValue(),f="";return s&&(f=Qe(s)?s.checked?"true":"false":s.value),s=f,s!==u?(i.setValue(s),!0):!1}function zf(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Im(s,i){var u=i.checked;return ee({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function V3(s,i){var u=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;u=Oe(i.value!=null?i.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function W3(s,i){i=i.checked,i!=null&&I(s,"checked",i,!1)}function Dm(s,i){W3(s,i);var u=Oe(i.value),f=i.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?jm(s,i.type,u):i.hasOwnProperty("defaultValue")&&jm(s,i.type,Oe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function G3(s,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,u||i===s.value||(s.value=i),s.defaultValue=i}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function jm(s,i,u){(i!=="number"||zf(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Tu=Array.isArray;function Nl(s,i,u,f){if(s=s.options,i){i={};for(var v=0;v<u.length;v++)i["$"+u[v]]=!0;for(u=0;u<s.length;u++)v=i.hasOwnProperty("$"+s[u].value),s[u].selected!==v&&(s[u].selected=v),v&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Oe(u),i=null,v=0;v<s.length;v++){if(s[v].value===u){s[v].selected=!0,f&&(s[v].defaultSelected=!0);return}i!==null||s[v].disabled||(i=s[v])}i!==null&&(i.selected=!0)}}function Fm(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ee({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function q3(s,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(t(92));if(Tu(u)){if(1<u.length)throw Error(t(93));u=u[0]}i=u}i==null&&(i=""),u=i}s._wrapperState={initialValue:Oe(u)}}function X3(s,i){var u=Oe(i.value),f=Oe(i.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),i.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function Y3(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function K3(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Om(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?K3(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Hf,Z3=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,f,v){MSApp.execUnsafeLocalFunction(function(){return s(i,u,f,v)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Hf=Hf||document.createElement("div"),Hf.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Hf.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function Pu(s,i){if(i){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=i;return}}s.textContent=i}var Nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x8=["Webkit","ms","Moz","O"];Object.keys(Nu).forEach(function(s){x8.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),Nu[i]=Nu[s]})});function Q3(s,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||Nu.hasOwnProperty(s)&&Nu[s]?(""+i).trim():i+"px"}function J3(s,i){s=s.style;for(var u in i)if(i.hasOwnProperty(u)){var f=u.indexOf("--")===0,v=Q3(u,i[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,v):s[u]=v}}var S8=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bm(s,i){if(i){if(S8[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function $m(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zm=null;function Hm(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Um=null,Ll=null,Rl=null;function e4(s){if(s=Qu(s)){if(typeof Um!="function")throw Error(t(280));var i=s.stateNode;i&&(i=dp(i),Um(s.stateNode,s.type,i))}}function t4(s){Ll?Rl?Rl.push(s):Rl=[s]:Ll=s}function n4(){if(Ll){var s=Ll,i=Rl;if(Rl=Ll=null,e4(s),i)for(s=0;s<i.length;s++)e4(i[s])}}function s4(s,i){return s(i)}function i4(){}var Vm=!1;function r4(s,i,u){if(Vm)return s(i,u);Vm=!0;try{return s4(s,i,u)}finally{Vm=!1,(Ll!==null||Rl!==null)&&(i4(),n4())}}function Lu(s,i){var u=s.stateNode;if(u===null)return null;var f=dp(u);if(f===null)return null;u=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,i,typeof u));return u}var Wm=!1;if(d)try{var Ru={};Object.defineProperty(Ru,"passive",{get:function(){Wm=!0}}),window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{Wm=!1}function E8(s,i,u,f,v,_,b,R,D){var H=Array.prototype.slice.call(arguments,3);try{i.apply(u,H)}catch(G){this.onError(G)}}var Mu=!1,Uf=null,Vf=!1,Gm=null,A8={onError:function(s){Mu=!0,Uf=s}};function b8(s,i,u,f,v,_,b,R,D){Mu=!1,Uf=null,E8.apply(A8,arguments)}function k8(s,i,u,f,v,_,b,R,D){if(b8.apply(this,arguments),Mu){if(Mu){var H=Uf;Mu=!1,Uf=null}else throw Error(t(198));Vf||(Vf=!0,Gm=H)}}function Jo(s){var i=s,u=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,i.flags&4098&&(u=i.return),s=i.return;while(s)}return i.tag===3?u:null}function o4(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function a4(s){if(Jo(s)!==s)throw Error(t(188))}function T8(s){var i=s.alternate;if(!i){if(i=Jo(s),i===null)throw Error(t(188));return i!==s?null:s}for(var u=s,f=i;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return a4(v),s;if(_===f)return a4(v),i;_=_.sibling}throw Error(t(188))}if(u.return!==f.return)u=v,f=_;else{for(var b=!1,R=v.child;R;){if(R===u){b=!0,u=v,f=_;break}if(R===f){b=!0,f=v,u=_;break}R=R.sibling}if(!b){for(R=_.child;R;){if(R===u){b=!0,u=_,f=v;break}if(R===f){b=!0,f=_,u=v;break}R=R.sibling}if(!b)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:i}function l4(s){return s=T8(s),s!==null?c4(s):null}function c4(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=c4(s);if(i!==null)return i;s=s.sibling}return null}var u4=e.unstable_scheduleCallback,d4=e.unstable_cancelCallback,P8=e.unstable_shouldYield,N8=e.unstable_requestPaint,yt=e.unstable_now,L8=e.unstable_getCurrentPriorityLevel,qm=e.unstable_ImmediatePriority,h4=e.unstable_UserBlockingPriority,Wf=e.unstable_NormalPriority,R8=e.unstable_LowPriority,f4=e.unstable_IdlePriority,Gf=null,mi=null;function M8(s){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(Gf,s,void 0,(s.current.flags&128)===128)}catch{}}var Ds=Math.clz32?Math.clz32:j8,I8=Math.log,D8=Math.LN2;function j8(s){return s>>>=0,s===0?32:31-(I8(s)/D8|0)|0}var qf=64,Xf=4194304;function Iu(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Yf(s,i){var u=s.pendingLanes;if(u===0)return 0;var f=0,v=s.suspendedLanes,_=s.pingedLanes,b=u&268435455;if(b!==0){var R=b&~v;R!==0?f=Iu(R):(_&=b,_!==0&&(f=Iu(_)))}else b=u&~v,b!==0?f=Iu(b):_!==0&&(f=Iu(_));if(f===0)return 0;if(i!==0&&i!==f&&!(i&v)&&(v=f&-f,_=i&-i,v>=_||v===16&&(_&4194240)!==0))return i;if(f&4&&(f|=u&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=f;0<i;)u=31-Ds(i),v=1<<u,f|=s[u],i&=~v;return f}function F8(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O8(s,i){for(var u=s.suspendedLanes,f=s.pingedLanes,v=s.expirationTimes,_=s.pendingLanes;0<_;){var b=31-Ds(_),R=1<<b,D=v[b];D===-1?(!(R&u)||R&f)&&(v[b]=F8(R,i)):D<=i&&(s.expiredLanes|=R),_&=~R}}function Xm(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function p4(){var s=qf;return qf<<=1,!(qf&4194240)&&(qf=64),s}function Ym(s){for(var i=[],u=0;31>u;u++)i.push(s);return i}function Du(s,i,u){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Ds(i),s[i]=u}function B8(s,i){var u=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var v=31-Ds(u),_=1<<v;i[v]=0,f[v]=-1,s[v]=-1,u&=~_}}function Km(s,i){var u=s.entangledLanes|=i;for(s=s.entanglements;u;){var f=31-Ds(u),v=1<<f;v&i|s[f]&i&&(s[f]|=i),u&=~v}}var qe=0;function m4(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var g4,Zm,v4,y4,C4,Qm=!1,Kf=[],Wr=null,Gr=null,qr=null,ju=new Map,Fu=new Map,Xr=[],$8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _4(s,i){switch(s){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":ju.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(i.pointerId)}}function Ou(s,i,u,f,v,_){return s===null||s.nativeEvent!==_?(s={blockedOn:i,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[v]},i!==null&&(i=Qu(i),i!==null&&Zm(i)),s):(s.eventSystemFlags|=f,i=s.targetContainers,v!==null&&i.indexOf(v)===-1&&i.push(v),s)}function z8(s,i,u,f,v){switch(i){case"focusin":return Wr=Ou(Wr,s,i,u,f,v),!0;case"dragenter":return Gr=Ou(Gr,s,i,u,f,v),!0;case"mouseover":return qr=Ou(qr,s,i,u,f,v),!0;case"pointerover":var _=v.pointerId;return ju.set(_,Ou(ju.get(_)||null,s,i,u,f,v)),!0;case"gotpointercapture":return _=v.pointerId,Fu.set(_,Ou(Fu.get(_)||null,s,i,u,f,v)),!0}return!1}function w4(s){var i=ea(s.target);if(i!==null){var u=Jo(i);if(u!==null){if(i=u.tag,i===13){if(i=o4(u),i!==null){s.blockedOn=i,C4(s.priority,function(){v4(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zf(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var u=e2(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);zm=f,u.target.dispatchEvent(f),zm=null}else return i=Qu(u),i!==null&&Zm(i),s.blockedOn=u,!1;i.shift()}return!0}function x4(s,i,u){Zf(s)&&u.delete(i)}function H8(){Qm=!1,Wr!==null&&Zf(Wr)&&(Wr=null),Gr!==null&&Zf(Gr)&&(Gr=null),qr!==null&&Zf(qr)&&(qr=null),ju.forEach(x4),Fu.forEach(x4)}function Bu(s,i){s.blockedOn===i&&(s.blockedOn=null,Qm||(Qm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,H8)))}function $u(s){function i(v){return Bu(v,s)}if(0<Kf.length){Bu(Kf[0],s);for(var u=1;u<Kf.length;u++){var f=Kf[u];f.blockedOn===s&&(f.blockedOn=null)}}for(Wr!==null&&Bu(Wr,s),Gr!==null&&Bu(Gr,s),qr!==null&&Bu(qr,s),ju.forEach(i),Fu.forEach(i),u=0;u<Xr.length;u++)f=Xr[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<Xr.length&&(u=Xr[0],u.blockedOn===null);)w4(u),u.blockedOn===null&&Xr.shift()}var Ml=M.ReactCurrentBatchConfig,Qf=!0;function U8(s,i,u,f){var v=qe,_=Ml.transition;Ml.transition=null;try{qe=1,Jm(s,i,u,f)}finally{qe=v,Ml.transition=_}}function V8(s,i,u,f){var v=qe,_=Ml.transition;Ml.transition=null;try{qe=4,Jm(s,i,u,f)}finally{qe=v,Ml.transition=_}}function Jm(s,i,u,f){if(Qf){var v=e2(s,i,u,f);if(v===null)v2(s,i,f,Jf,u),_4(s,f);else if(z8(v,s,i,u,f))f.stopPropagation();else if(_4(s,f),i&4&&-1<$8.indexOf(s)){for(;v!==null;){var _=Qu(v);if(_!==null&&g4(_),_=e2(s,i,u,f),_===null&&v2(s,i,f,Jf,u),_===v)break;v=_}v!==null&&f.stopPropagation()}else v2(s,i,f,null,u)}}var Jf=null;function e2(s,i,u,f){if(Jf=null,s=Hm(f),s=ea(s),s!==null)if(i=Jo(s),i===null)s=null;else if(u=i.tag,u===13){if(s=o4(i),s!==null)return s;s=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Jf=s,null}function S4(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L8()){case qm:return 1;case h4:return 4;case Wf:case R8:return 16;case f4:return 536870912;default:return 16}default:return 16}}var Yr=null,t2=null,ep=null;function E4(){if(ep)return ep;var s,i=t2,u=i.length,f,v="value"in Yr?Yr.value:Yr.textContent,_=v.length;for(s=0;s<u&&i[s]===v[s];s++);var b=u-s;for(f=1;f<=b&&i[u-f]===v[_-f];f++);return ep=v.slice(s,1<f?1-f:void 0)}function tp(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function np(){return!0}function A4(){return!1}function Vn(s){function i(u,f,v,_,b){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=_,this.target=b,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(u=s[R],this[R]=u?u(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?np:A4,this.isPropagationStopped=A4,this}return ee(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=np)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=np)},persist:function(){},isPersistent:np}),i}var Il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n2=Vn(Il),zu=ee({},Il,{view:0,detail:0}),W8=Vn(zu),s2,i2,Hu,sp=ee({},zu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o2,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hu&&(Hu&&s.type==="mousemove"?(s2=s.screenX-Hu.screenX,i2=s.screenY-Hu.screenY):i2=s2=0,Hu=s),s2)},movementY:function(s){return"movementY"in s?s.movementY:i2}}),b4=Vn(sp),G8=ee({},sp,{dataTransfer:0}),q8=Vn(G8),X8=ee({},zu,{relatedTarget:0}),r2=Vn(X8),Y8=ee({},Il,{animationName:0,elapsedTime:0,pseudoElement:0}),K8=Vn(Y8),Z8=ee({},Il,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Q8=Vn(Z8),J8=ee({},Il,{data:0}),k4=Vn(J8),e9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s9(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=n9[s])?!!i[s]:!1}function o2(){return s9}var i9=ee({},zu,{key:function(s){if(s.key){var i=e9[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=tp(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?t9[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o2,charCode:function(s){return s.type==="keypress"?tp(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?tp(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),r9=Vn(i9),o9=ee({},sp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T4=Vn(o9),a9=ee({},zu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o2}),l9=Vn(a9),c9=ee({},Il,{propertyName:0,elapsedTime:0,pseudoElement:0}),u9=Vn(c9),d9=ee({},sp,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),h9=Vn(d9),f9=[9,13,27,32],a2=d&&"CompositionEvent"in window,Uu=null;d&&"documentMode"in document&&(Uu=document.documentMode);var p9=d&&"TextEvent"in window&&!Uu,P4=d&&(!a2||Uu&&8<Uu&&11>=Uu),N4=" ",L4=!1;function R4(s,i){switch(s){case"keyup":return f9.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M4(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Dl=!1;function m9(s,i){switch(s){case"compositionend":return M4(i);case"keypress":return i.which!==32?null:(L4=!0,N4);case"textInput":return s=i.data,s===N4&&L4?null:s;default:return null}}function g9(s,i){if(Dl)return s==="compositionend"||!a2&&R4(s,i)?(s=E4(),ep=t2=Yr=null,Dl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return P4&&i.locale!=="ko"?null:i.data;default:return null}}var v9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I4(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!v9[s.type]:i==="textarea"}function D4(s,i,u,f){t4(f),i=lp(i,"onChange"),0<i.length&&(u=new n2("onChange","change",null,u,f),s.push({event:u,listeners:i}))}var Vu=null,Wu=null;function y9(s){J4(s,0)}function ip(s){var i=$l(s);if(U3(i))return s}function C9(s,i){if(s==="change")return i}var j4=!1;if(d){var l2;if(d){var c2="oninput"in document;if(!c2){var F4=document.createElement("div");F4.setAttribute("oninput","return;"),c2=typeof F4.oninput=="function"}l2=c2}else l2=!1;j4=l2&&(!document.documentMode||9<document.documentMode)}function O4(){Vu&&(Vu.detachEvent("onpropertychange",B4),Wu=Vu=null)}function B4(s){if(s.propertyName==="value"&&ip(Wu)){var i=[];D4(i,Wu,s,Hm(s)),r4(y9,i)}}function _9(s,i,u){s==="focusin"?(O4(),Vu=i,Wu=u,Vu.attachEvent("onpropertychange",B4)):s==="focusout"&&O4()}function w9(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ip(Wu)}function x9(s,i){if(s==="click")return ip(i)}function S9(s,i){if(s==="input"||s==="change")return ip(i)}function E9(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var js=typeof Object.is=="function"?Object.is:E9;function Gu(s,i){if(js(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var u=Object.keys(s),f=Object.keys(i);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!h.call(i,v)||!js(s[v],i[v]))return!1}return!0}function $4(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function z4(s,i){var u=$4(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=i&&f>=i)return{node:u,offset:i-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=$4(u)}}function H4(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?H4(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function U4(){for(var s=window,i=zf();i instanceof s.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)s=i.contentWindow;else break;i=zf(s.document)}return i}function u2(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function A9(s){var i=U4(),u=s.focusedElem,f=s.selectionRange;if(i!==u&&u&&u.ownerDocument&&H4(u.ownerDocument.documentElement,u)){if(f!==null&&u2(u)){if(i=f.start,s=f.end,s===void 0&&(s=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(s,u.value.length);else if(s=(i=u.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var v=u.textContent.length,_=Math.min(f.start,v);f=f.end===void 0?_:Math.min(f.end,v),!s.extend&&_>f&&(v=f,f=_,_=v),v=z4(u,_);var b=z4(u,f);v&&b&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(v.node,v.offset),s.removeAllRanges(),_>f?(s.addRange(i),s.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),s.addRange(i)))}}for(i=[],s=u;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)s=i[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var b9=d&&"documentMode"in document&&11>=document.documentMode,jl=null,d2=null,qu=null,h2=!1;function V4(s,i,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;h2||jl==null||jl!==zf(f)||(f=jl,"selectionStart"in f&&u2(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),qu&&Gu(qu,f)||(qu=f,f=lp(d2,"onSelect"),0<f.length&&(i=new n2("onSelect","select",null,i,u),s.push({event:i,listeners:f}),i.target=jl)))}function rp(s,i){var u={};return u[s.toLowerCase()]=i.toLowerCase(),u["Webkit"+s]="webkit"+i,u["Moz"+s]="moz"+i,u}var Fl={animationend:rp("Animation","AnimationEnd"),animationiteration:rp("Animation","AnimationIteration"),animationstart:rp("Animation","AnimationStart"),transitionend:rp("Transition","TransitionEnd")},f2={},W4={};d&&(W4=document.createElement("div").style,"AnimationEvent"in window||(delete Fl.animationend.animation,delete Fl.animationiteration.animation,delete Fl.animationstart.animation),"TransitionEvent"in window||delete Fl.transitionend.transition);function op(s){if(f2[s])return f2[s];if(!Fl[s])return s;var i=Fl[s],u;for(u in i)if(i.hasOwnProperty(u)&&u in W4)return f2[s]=i[u];return s}var G4=op("animationend"),q4=op("animationiteration"),X4=op("animationstart"),Y4=op("transitionend"),K4=new Map,Z4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(s,i){K4.set(s,i),o(i,[s])}for(var p2=0;p2<Z4.length;p2++){var m2=Z4[p2],k9=m2.toLowerCase(),T9=m2[0].toUpperCase()+m2.slice(1);Kr(k9,"on"+T9)}Kr(G4,"onAnimationEnd"),Kr(q4,"onAnimationIteration"),Kr(X4,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(Y4,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P9=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xu));function Q4(s,i,u){var f=s.type||"unknown-event";s.currentTarget=u,k8(f,i,void 0,s),s.currentTarget=null}function J4(s,i){i=(i&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],v=f.event;f=f.listeners;e:{var _=void 0;if(i)for(var b=f.length-1;0<=b;b--){var R=f[b],D=R.instance,H=R.currentTarget;if(R=R.listener,D!==_&&v.isPropagationStopped())break e;Q4(v,R,H),_=D}else for(b=0;b<f.length;b++){if(R=f[b],D=R.instance,H=R.currentTarget,R=R.listener,D!==_&&v.isPropagationStopped())break e;Q4(v,R,H),_=D}}}if(Vf)throw s=Gm,Vf=!1,Gm=null,s}function st(s,i){var u=i[S2];u===void 0&&(u=i[S2]=new Set);var f=s+"__bubble";u.has(f)||(e5(i,s,2,!1),u.add(f))}function g2(s,i,u){var f=0;i&&(f|=4),e5(u,s,f,i)}var ap="_reactListening"+Math.random().toString(36).slice(2);function Yu(s){if(!s[ap]){s[ap]=!0,n.forEach(function(u){u!=="selectionchange"&&(P9.has(u)||g2(u,!1,s),g2(u,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[ap]||(i[ap]=!0,g2("selectionchange",!1,i))}}function e5(s,i,u,f){switch(S4(i)){case 1:var v=U8;break;case 4:v=V8;break;default:v=Jm}u=v.bind(null,i,u,s),v=void 0,!Wm||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(v=!0),f?v!==void 0?s.addEventListener(i,u,{capture:!0,passive:v}):s.addEventListener(i,u,!0):v!==void 0?s.addEventListener(i,u,{passive:v}):s.addEventListener(i,u,!1)}function v2(s,i,u,f,v){var _=f;if(!(i&1)&&!(i&2)&&f!==null)e:for(;;){if(f===null)return;var b=f.tag;if(b===3||b===4){var R=f.stateNode.containerInfo;if(R===v||R.nodeType===8&&R.parentNode===v)break;if(b===4)for(b=f.return;b!==null;){var D=b.tag;if((D===3||D===4)&&(D=b.stateNode.containerInfo,D===v||D.nodeType===8&&D.parentNode===v))return;b=b.return}for(;R!==null;){if(b=ea(R),b===null)return;if(D=b.tag,D===5||D===6){f=_=b;continue e}R=R.parentNode}}f=f.return}r4(function(){var H=_,G=Hm(u),X=[];e:{var W=K4.get(s);if(W!==void 0){var ne=n2,ce=s;switch(s){case"keypress":if(tp(u)===0)break e;case"keydown":case"keyup":ne=r9;break;case"focusin":ce="focus",ne=r2;break;case"focusout":ce="blur",ne=r2;break;case"beforeblur":case"afterblur":ne=r2;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=b4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=q8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=l9;break;case G4:case q4:case X4:ne=K8;break;case Y4:ne=u9;break;case"scroll":ne=W8;break;case"wheel":ne=h9;break;case"copy":case"cut":case"paste":ne=Q8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=T4}var de=(i&4)!==0,Ct=!de&&s==="scroll",B=de?W!==null?W+"Capture":null:W;de=[];for(var j=H,$;j!==null;){$=j;var K=$.stateNode;if($.tag===5&&K!==null&&($=K,B!==null&&(K=Lu(j,B),K!=null&&de.push(Ku(j,K,$)))),Ct)break;j=j.return}0<de.length&&(W=new ne(W,ce,null,u,G),X.push({event:W,listeners:de}))}}if(!(i&7)){e:{if(W=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",W&&u!==zm&&(ce=u.relatedTarget||u.fromElement)&&(ea(ce)||ce[qi]))break e;if((ne||W)&&(W=G.window===G?G:(W=G.ownerDocument)?W.defaultView||W.parentWindow:window,ne?(ce=u.relatedTarget||u.toElement,ne=H,ce=ce?ea(ce):null,ce!==null&&(Ct=Jo(ce),ce!==Ct||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(ne=null,ce=H),ne!==ce)){if(de=b4,K="onMouseLeave",B="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(de=T4,K="onPointerLeave",B="onPointerEnter",j="pointer"),Ct=ne==null?W:$l(ne),$=ce==null?W:$l(ce),W=new de(K,j+"leave",ne,u,G),W.target=Ct,W.relatedTarget=$,K=null,ea(G)===H&&(de=new de(B,j+"enter",ce,u,G),de.target=$,de.relatedTarget=Ct,K=de),Ct=K,ne&&ce)t:{for(de=ne,B=ce,j=0,$=de;$;$=Ol($))j++;for($=0,K=B;K;K=Ol(K))$++;for(;0<j-$;)de=Ol(de),j--;for(;0<$-j;)B=Ol(B),$--;for(;j--;){if(de===B||B!==null&&de===B.alternate)break t;de=Ol(de),B=Ol(B)}de=null}else de=null;ne!==null&&t5(X,W,ne,de,!1),ce!==null&&Ct!==null&&t5(X,Ct,ce,de,!0)}}e:{if(W=H?$l(H):window,ne=W.nodeName&&W.nodeName.toLowerCase(),ne==="select"||ne==="input"&&W.type==="file")var pe=C9;else if(I4(W))if(j4)pe=S9;else{pe=w9;var Ce=_9}else(ne=W.nodeName)&&ne.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(pe=x9);if(pe&&(pe=pe(s,H))){D4(X,pe,u,G);break e}Ce&&Ce(s,W,H),s==="focusout"&&(Ce=W._wrapperState)&&Ce.controlled&&W.type==="number"&&jm(W,"number",W.value)}switch(Ce=H?$l(H):window,s){case"focusin":(I4(Ce)||Ce.contentEditable==="true")&&(jl=Ce,d2=H,qu=null);break;case"focusout":qu=d2=jl=null;break;case"mousedown":h2=!0;break;case"contextmenu":case"mouseup":case"dragend":h2=!1,V4(X,u,G);break;case"selectionchange":if(b9)break;case"keydown":case"keyup":V4(X,u,G)}var _e;if(a2)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Dl?R4(s,u)&&(Ae="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(P4&&u.locale!=="ko"&&(Dl||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Dl&&(_e=E4()):(Yr=G,t2="value"in Yr?Yr.value:Yr.textContent,Dl=!0)),Ce=lp(H,Ae),0<Ce.length&&(Ae=new k4(Ae,s,null,u,G),X.push({event:Ae,listeners:Ce}),_e?Ae.data=_e:(_e=M4(u),_e!==null&&(Ae.data=_e)))),(_e=p9?m9(s,u):g9(s,u))&&(H=lp(H,"onBeforeInput"),0<H.length&&(G=new k4("onBeforeInput","beforeinput",null,u,G),X.push({event:G,listeners:H}),G.data=_e))}J4(X,i)})}function Ku(s,i,u){return{instance:s,listener:i,currentTarget:u}}function lp(s,i){for(var u=i+"Capture",f=[];s!==null;){var v=s,_=v.stateNode;v.tag===5&&_!==null&&(v=_,_=Lu(s,u),_!=null&&f.unshift(Ku(s,_,v)),_=Lu(s,i),_!=null&&f.push(Ku(s,_,v))),s=s.return}return f}function Ol(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function t5(s,i,u,f,v){for(var _=i._reactName,b=[];u!==null&&u!==f;){var R=u,D=R.alternate,H=R.stateNode;if(D!==null&&D===f)break;R.tag===5&&H!==null&&(R=H,v?(D=Lu(u,_),D!=null&&b.unshift(Ku(u,D,R))):v||(D=Lu(u,_),D!=null&&b.push(Ku(u,D,R)))),u=u.return}b.length!==0&&s.push({event:i,listeners:b})}var N9=/\r\n?/g,L9=/\u0000|\uFFFD/g;function n5(s){return(typeof s=="string"?s:""+s).replace(N9,`
`).replace(L9,"")}function cp(s,i,u){if(i=n5(i),n5(s)!==i&&u)throw Error(t(425))}function up(){}var y2=null,C2=null;function _2(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var w2=typeof setTimeout=="function"?setTimeout:void 0,R9=typeof clearTimeout=="function"?clearTimeout:void 0,s5=typeof Promise=="function"?Promise:void 0,M9=typeof queueMicrotask=="function"?queueMicrotask:typeof s5<"u"?function(s){return s5.resolve(null).then(s).catch(I9)}:w2;function I9(s){setTimeout(function(){throw s})}function x2(s,i){var u=i,f=0;do{var v=u.nextSibling;if(s.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(f===0){s.removeChild(v),$u(i);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=v}while(u);$u(i)}function Zr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function i5(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return s;i--}else u==="/$"&&i++}s=s.previousSibling}return null}var Bl=Math.random().toString(36).slice(2),gi="__reactFiber$"+Bl,Zu="__reactProps$"+Bl,qi="__reactContainer$"+Bl,S2="__reactEvents$"+Bl,D9="__reactListeners$"+Bl,j9="__reactHandles$"+Bl;function ea(s){var i=s[gi];if(i)return i;for(var u=s.parentNode;u;){if(i=u[qi]||u[gi]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(s=i5(s);s!==null;){if(u=s[gi])return u;s=i5(s)}return i}s=u,u=s.parentNode}return null}function Qu(s){return s=s[gi]||s[qi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function $l(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function dp(s){return s[Zu]||null}var E2=[],zl=-1;function Qr(s){return{current:s}}function it(s){0>zl||(s.current=E2[zl],E2[zl]=null,zl--)}function et(s,i){zl++,E2[zl]=s.current,s.current=i}var Jr={},Jt=Qr(Jr),Pn=Qr(!1),ta=Jr;function Hl(s,i){var u=s.type.contextTypes;if(!u)return Jr;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var v={},_;for(_ in u)v[_]=i[_];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=v),v}function Nn(s){return s=s.childContextTypes,s!=null}function hp(){it(Pn),it(Jt)}function r5(s,i,u){if(Jt.current!==Jr)throw Error(t(168));et(Jt,i),et(Pn,u)}function o5(s,i,u){var f=s.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var v in f)if(!(v in i))throw Error(t(108,we(s)||"Unknown",v));return ee({},u,f)}function fp(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Jr,ta=Jt.current,et(Jt,s),et(Pn,Pn.current),!0}function a5(s,i,u){var f=s.stateNode;if(!f)throw Error(t(169));u?(s=o5(s,i,ta),f.__reactInternalMemoizedMergedChildContext=s,it(Pn),it(Jt),et(Jt,s)):it(Pn),et(Pn,u)}var Xi=null,pp=!1,A2=!1;function l5(s){Xi===null?Xi=[s]:Xi.push(s)}function F9(s){pp=!0,l5(s)}function eo(){if(!A2&&Xi!==null){A2=!0;var s=0,i=qe;try{var u=Xi;for(qe=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}Xi=null,pp=!1}catch(v){throw Xi!==null&&(Xi=Xi.slice(s+1)),u4(qm,eo),v}finally{qe=i,A2=!1}}return null}var Ul=[],Vl=0,mp=null,gp=0,ms=[],gs=0,na=null,Yi=1,Ki="";function sa(s,i){Ul[Vl++]=gp,Ul[Vl++]=mp,mp=s,gp=i}function c5(s,i,u){ms[gs++]=Yi,ms[gs++]=Ki,ms[gs++]=na,na=s;var f=Yi;s=Ki;var v=32-Ds(f)-1;f&=~(1<<v),u+=1;var _=32-Ds(i)+v;if(30<_){var b=v-v%5;_=(f&(1<<b)-1).toString(32),f>>=b,v-=b,Yi=1<<32-Ds(i)+v|u<<v|f,Ki=_+s}else Yi=1<<_|u<<v|f,Ki=s}function b2(s){s.return!==null&&(sa(s,1),c5(s,1,0))}function k2(s){for(;s===mp;)mp=Ul[--Vl],Ul[Vl]=null,gp=Ul[--Vl],Ul[Vl]=null;for(;s===na;)na=ms[--gs],ms[gs]=null,Ki=ms[--gs],ms[gs]=null,Yi=ms[--gs],ms[gs]=null}var Wn=null,Gn=null,ot=!1,Fs=null;function u5(s,i){var u=_s(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=s,i=s.deletions,i===null?(s.deletions=[u],s.flags|=16):i.push(u)}function d5(s,i){switch(s.tag){case 5:var u=s.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Wn=s,Gn=Zr(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Wn=s,Gn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=na!==null?{id:Yi,overflow:Ki}:null,s.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=_s(18,null,null,0),u.stateNode=i,u.return=s,s.child=u,Wn=s,Gn=null,!0):!1;default:return!1}}function T2(s){return(s.mode&1)!==0&&(s.flags&128)===0}function P2(s){if(ot){var i=Gn;if(i){var u=i;if(!d5(s,i)){if(T2(s))throw Error(t(418));i=Zr(u.nextSibling);var f=Wn;i&&d5(s,i)?u5(f,u):(s.flags=s.flags&-4097|2,ot=!1,Wn=s)}}else{if(T2(s))throw Error(t(418));s.flags=s.flags&-4097|2,ot=!1,Wn=s}}}function h5(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Wn=s}function vp(s){if(s!==Wn)return!1;if(!ot)return h5(s),ot=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!_2(s.type,s.memoizedProps)),i&&(i=Gn)){if(T2(s))throw f5(),Error(t(418));for(;i;)u5(s,i),i=Zr(i.nextSibling)}if(h5(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(i===0){Gn=Zr(s.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}s=s.nextSibling}Gn=null}}else Gn=Wn?Zr(s.stateNode.nextSibling):null;return!0}function f5(){for(var s=Gn;s;)s=Zr(s.nextSibling)}function Wl(){Gn=Wn=null,ot=!1}function N2(s){Fs===null?Fs=[s]:Fs.push(s)}var O9=M.ReactCurrentBatchConfig;function Ju(s,i,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,s));var v=f,_=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===_?i.ref:(i=function(b){var R=v.refs;b===null?delete R[_]:R[_]=b},i._stringRef=_,i)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function yp(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function p5(s){var i=s._init;return i(s._payload)}function m5(s){function i(B,j){if(s){var $=B.deletions;$===null?(B.deletions=[j],B.flags|=16):$.push(j)}}function u(B,j){if(!s)return null;for(;j!==null;)i(B,j),j=j.sibling;return null}function f(B,j){for(B=new Map;j!==null;)j.key!==null?B.set(j.key,j):B.set(j.index,j),j=j.sibling;return B}function v(B,j){return B=lo(B,j),B.index=0,B.sibling=null,B}function _(B,j,$){return B.index=$,s?($=B.alternate,$!==null?($=$.index,$<j?(B.flags|=2,j):$):(B.flags|=2,j)):(B.flags|=1048576,j)}function b(B){return s&&B.alternate===null&&(B.flags|=2),B}function R(B,j,$,K){return j===null||j.tag!==6?(j=wg($,B.mode,K),j.return=B,j):(j=v(j,$),j.return=B,j)}function D(B,j,$,K){var pe=$.type;return pe===U?G(B,j,$.props.children,K,$.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Q&&p5(pe)===j.type)?(K=v(j,$.props),K.ref=Ju(B,j,$),K.return=B,K):(K=Hp($.type,$.key,$.props,null,B.mode,K),K.ref=Ju(B,j,$),K.return=B,K)}function H(B,j,$,K){return j===null||j.tag!==4||j.stateNode.containerInfo!==$.containerInfo||j.stateNode.implementation!==$.implementation?(j=xg($,B.mode,K),j.return=B,j):(j=v(j,$.children||[]),j.return=B,j)}function G(B,j,$,K,pe){return j===null||j.tag!==7?(j=da($,B.mode,K,pe),j.return=B,j):(j=v(j,$),j.return=B,j)}function X(B,j,$){if(typeof j=="string"&&j!==""||typeof j=="number")return j=wg(""+j,B.mode,$),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case F:return $=Hp(j.type,j.key,j.props,null,B.mode,$),$.ref=Ju(B,null,j),$.return=B,$;case z:return j=xg(j,B.mode,$),j.return=B,j;case Q:var K=j._init;return X(B,K(j._payload),$)}if(Tu(j)||fe(j))return j=da(j,B.mode,$,null),j.return=B,j;yp(B,j)}return null}function W(B,j,$,K){var pe=j!==null?j.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return pe!==null?null:R(B,j,""+$,K);if(typeof $=="object"&&$!==null){switch($.$$typeof){case F:return $.key===pe?D(B,j,$,K):null;case z:return $.key===pe?H(B,j,$,K):null;case Q:return pe=$._init,W(B,j,pe($._payload),K)}if(Tu($)||fe($))return pe!==null?null:G(B,j,$,K,null);yp(B,$)}return null}function ne(B,j,$,K,pe){if(typeof K=="string"&&K!==""||typeof K=="number")return B=B.get($)||null,R(j,B,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return B=B.get(K.key===null?$:K.key)||null,D(j,B,K,pe);case z:return B=B.get(K.key===null?$:K.key)||null,H(j,B,K,pe);case Q:var Ce=K._init;return ne(B,j,$,Ce(K._payload),pe)}if(Tu(K)||fe(K))return B=B.get($)||null,G(j,B,K,pe,null);yp(j,K)}return null}function ce(B,j,$,K){for(var pe=null,Ce=null,_e=j,Ae=j=0,Ot=null;_e!==null&&Ae<$.length;Ae++){_e.index>Ae?(Ot=_e,_e=null):Ot=_e.sibling;var Ue=W(B,_e,$[Ae],K);if(Ue===null){_e===null&&(_e=Ot);break}s&&_e&&Ue.alternate===null&&i(B,_e),j=_(Ue,j,Ae),Ce===null?pe=Ue:Ce.sibling=Ue,Ce=Ue,_e=Ot}if(Ae===$.length)return u(B,_e),ot&&sa(B,Ae),pe;if(_e===null){for(;Ae<$.length;Ae++)_e=X(B,$[Ae],K),_e!==null&&(j=_(_e,j,Ae),Ce===null?pe=_e:Ce.sibling=_e,Ce=_e);return ot&&sa(B,Ae),pe}for(_e=f(B,_e);Ae<$.length;Ae++)Ot=ne(_e,B,Ae,$[Ae],K),Ot!==null&&(s&&Ot.alternate!==null&&_e.delete(Ot.key===null?Ae:Ot.key),j=_(Ot,j,Ae),Ce===null?pe=Ot:Ce.sibling=Ot,Ce=Ot);return s&&_e.forEach(function(co){return i(B,co)}),ot&&sa(B,Ae),pe}function de(B,j,$,K){var pe=fe($);if(typeof pe!="function")throw Error(t(150));if($=pe.call($),$==null)throw Error(t(151));for(var Ce=pe=null,_e=j,Ae=j=0,Ot=null,Ue=$.next();_e!==null&&!Ue.done;Ae++,Ue=$.next()){_e.index>Ae?(Ot=_e,_e=null):Ot=_e.sibling;var co=W(B,_e,Ue.value,K);if(co===null){_e===null&&(_e=Ot);break}s&&_e&&co.alternate===null&&i(B,_e),j=_(co,j,Ae),Ce===null?pe=co:Ce.sibling=co,Ce=co,_e=Ot}if(Ue.done)return u(B,_e),ot&&sa(B,Ae),pe;if(_e===null){for(;!Ue.done;Ae++,Ue=$.next())Ue=X(B,Ue.value,K),Ue!==null&&(j=_(Ue,j,Ae),Ce===null?pe=Ue:Ce.sibling=Ue,Ce=Ue);return ot&&sa(B,Ae),pe}for(_e=f(B,_e);!Ue.done;Ae++,Ue=$.next())Ue=ne(_e,B,Ae,Ue.value,K),Ue!==null&&(s&&Ue.alternate!==null&&_e.delete(Ue.key===null?Ae:Ue.key),j=_(Ue,j,Ae),Ce===null?pe=Ue:Ce.sibling=Ue,Ce=Ue);return s&&_e.forEach(function(g6){return i(B,g6)}),ot&&sa(B,Ae),pe}function Ct(B,j,$,K){if(typeof $=="object"&&$!==null&&$.type===U&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case F:e:{for(var pe=$.key,Ce=j;Ce!==null;){if(Ce.key===pe){if(pe=$.type,pe===U){if(Ce.tag===7){u(B,Ce.sibling),j=v(Ce,$.props.children),j.return=B,B=j;break e}}else if(Ce.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Q&&p5(pe)===Ce.type){u(B,Ce.sibling),j=v(Ce,$.props),j.ref=Ju(B,Ce,$),j.return=B,B=j;break e}u(B,Ce);break}else i(B,Ce);Ce=Ce.sibling}$.type===U?(j=da($.props.children,B.mode,K,$.key),j.return=B,B=j):(K=Hp($.type,$.key,$.props,null,B.mode,K),K.ref=Ju(B,j,$),K.return=B,B=K)}return b(B);case z:e:{for(Ce=$.key;j!==null;){if(j.key===Ce)if(j.tag===4&&j.stateNode.containerInfo===$.containerInfo&&j.stateNode.implementation===$.implementation){u(B,j.sibling),j=v(j,$.children||[]),j.return=B,B=j;break e}else{u(B,j);break}else i(B,j);j=j.sibling}j=xg($,B.mode,K),j.return=B,B=j}return b(B);case Q:return Ce=$._init,Ct(B,j,Ce($._payload),K)}if(Tu($))return ce(B,j,$,K);if(fe($))return de(B,j,$,K);yp(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,j!==null&&j.tag===6?(u(B,j.sibling),j=v(j,$),j.return=B,B=j):(u(B,j),j=wg($,B.mode,K),j.return=B,B=j),b(B)):u(B,j)}return Ct}var Gl=m5(!0),g5=m5(!1),Cp=Qr(null),_p=null,ql=null,L2=null;function R2(){L2=ql=_p=null}function M2(s){var i=Cp.current;it(Cp),s._currentValue=i}function I2(s,i,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),s===u)break;s=s.return}}function Xl(s,i){_p=s,L2=ql=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&i&&(Ln=!0),s.firstContext=null)}function vs(s){var i=s._currentValue;if(L2!==s)if(s={context:s,memoizedValue:i,next:null},ql===null){if(_p===null)throw Error(t(308));ql=s,_p.dependencies={lanes:0,firstContext:s}}else ql=ql.next=s;return i}var ia=null;function D2(s){ia===null?ia=[s]:ia.push(s)}function v5(s,i,u,f){var v=i.interleaved;return v===null?(u.next=u,D2(i)):(u.next=v.next,v.next=u),i.interleaved=u,Zi(s,f)}function Zi(s,i){s.lanes|=i;var u=s.alternate;for(u!==null&&(u.lanes|=i),u=s,s=s.return;s!==null;)s.childLanes|=i,u=s.alternate,u!==null&&(u.childLanes|=i),u=s,s=s.return;return u.tag===3?u.stateNode:null}var to=!1;function j2(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y5(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Qi(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function no(s,i,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,ze&2){var v=f.pending;return v===null?i.next=i:(i.next=v.next,v.next=i),f.pending=i,Zi(s,u)}return v=f.interleaved,v===null?(i.next=i,D2(f)):(i.next=v.next,v.next=i),f.interleaved=i,Zi(s,u)}function wp(s,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var f=i.lanes;f&=s.pendingLanes,u|=f,i.lanes=u,Km(s,u)}}function C5(s,i){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var b={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?v=_=b:_=_.next=b,u=u.next}while(u!==null);_===null?v=_=i:_=_.next=i}else v=_=i;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=i:s.next=i,u.lastBaseUpdate=i}function xp(s,i,u,f){var v=s.updateQueue;to=!1;var _=v.firstBaseUpdate,b=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var D=R,H=D.next;D.next=null,b===null?_=H:b.next=H,b=D;var G=s.alternate;G!==null&&(G=G.updateQueue,R=G.lastBaseUpdate,R!==b&&(R===null?G.firstBaseUpdate=H:R.next=H,G.lastBaseUpdate=D))}if(_!==null){var X=v.baseState;b=0,G=H=D=null,R=_;do{var W=R.lane,ne=R.eventTime;if((f&W)===W){G!==null&&(G=G.next={eventTime:ne,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ce=s,de=R;switch(W=i,ne=u,de.tag){case 1:if(ce=de.payload,typeof ce=="function"){X=ce.call(ne,X,W);break e}X=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=de.payload,W=typeof ce=="function"?ce.call(ne,X,W):ce,W==null)break e;X=ee({},X,W);break e;case 2:to=!0}}R.callback!==null&&R.lane!==0&&(s.flags|=64,W=v.effects,W===null?v.effects=[R]:W.push(R))}else ne={eventTime:ne,lane:W,tag:R.tag,payload:R.payload,callback:R.callback,next:null},G===null?(H=G=ne,D=X):G=G.next=ne,b|=W;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;W=R,R=W.next,W.next=null,v.lastBaseUpdate=W,v.shared.pending=null}}while(!0);if(G===null&&(D=X),v.baseState=D,v.firstBaseUpdate=H,v.lastBaseUpdate=G,i=v.shared.interleaved,i!==null){v=i;do b|=v.lane,v=v.next;while(v!==i)}else _===null&&(v.shared.lanes=0);aa|=b,s.lanes=b,s.memoizedState=X}}function _5(s,i,u){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var f=s[i],v=f.callback;if(v!==null){if(f.callback=null,f=u,typeof v!="function")throw Error(t(191,v));v.call(f)}}}var ed={},vi=Qr(ed),td=Qr(ed),nd=Qr(ed);function ra(s){if(s===ed)throw Error(t(174));return s}function F2(s,i){switch(et(nd,i),et(td,s),et(vi,ed),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Om(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Om(i,s)}it(vi),et(vi,i)}function Yl(){it(vi),it(td),it(nd)}function w5(s){ra(nd.current);var i=ra(vi.current),u=Om(i,s.type);i!==u&&(et(td,s),et(vi,u))}function O2(s){td.current===s&&(it(vi),it(td))}var ut=Qr(0);function Sp(s){for(var i=s;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var B2=[];function $2(){for(var s=0;s<B2.length;s++)B2[s]._workInProgressVersionPrimary=null;B2.length=0}var Ep=M.ReactCurrentDispatcher,z2=M.ReactCurrentBatchConfig,oa=0,dt=null,Tt=null,jt=null,Ap=!1,sd=!1,id=0,B9=0;function en(){throw Error(t(321))}function H2(s,i){if(i===null)return!1;for(var u=0;u<i.length&&u<s.length;u++)if(!js(s[u],i[u]))return!1;return!0}function U2(s,i,u,f,v,_){if(oa=_,dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ep.current=s===null||s.memoizedState===null?U9:V9,s=u(f,v),sd){_=0;do{if(sd=!1,id=0,25<=_)throw Error(t(301));_+=1,jt=Tt=null,i.updateQueue=null,Ep.current=W9,s=u(f,v)}while(sd)}if(Ep.current=Tp,i=Tt!==null&&Tt.next!==null,oa=0,jt=Tt=dt=null,Ap=!1,i)throw Error(t(300));return s}function V2(){var s=id!==0;return id=0,s}function yi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?dt.memoizedState=jt=s:jt=jt.next=s,jt}function ys(){if(Tt===null){var s=dt.alternate;s=s!==null?s.memoizedState:null}else s=Tt.next;var i=jt===null?dt.memoizedState:jt.next;if(i!==null)jt=i,Tt=s;else{if(s===null)throw Error(t(310));Tt=s,s={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},jt===null?dt.memoizedState=jt=s:jt=jt.next=s}return jt}function rd(s,i){return typeof i=="function"?i(s):i}function W2(s){var i=ys(),u=i.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=Tt,v=f.baseQueue,_=u.pending;if(_!==null){if(v!==null){var b=v.next;v.next=_.next,_.next=b}f.baseQueue=v=_,u.pending=null}if(v!==null){_=v.next,f=f.baseState;var R=b=null,D=null,H=_;do{var G=H.lane;if((oa&G)===G)D!==null&&(D=D.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),f=H.hasEagerState?H.eagerState:s(f,H.action);else{var X={lane:G,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};D===null?(R=D=X,b=f):D=D.next=X,dt.lanes|=G,aa|=G}H=H.next}while(H!==null&&H!==_);D===null?b=f:D.next=R,js(f,i.memoizedState)||(Ln=!0),i.memoizedState=f,i.baseState=b,i.baseQueue=D,u.lastRenderedState=f}if(s=u.interleaved,s!==null){v=s;do _=v.lane,dt.lanes|=_,aa|=_,v=v.next;while(v!==s)}else v===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function G2(s){var i=ys(),u=i.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=u.dispatch,v=u.pending,_=i.memoizedState;if(v!==null){u.pending=null;var b=v=v.next;do _=s(_,b.action),b=b.next;while(b!==v);js(_,i.memoizedState)||(Ln=!0),i.memoizedState=_,i.baseQueue===null&&(i.baseState=_),u.lastRenderedState=_}return[_,f]}function x5(){}function S5(s,i){var u=dt,f=ys(),v=i(),_=!js(f.memoizedState,v);if(_&&(f.memoizedState=v,Ln=!0),f=f.queue,q2(b5.bind(null,u,f,s),[s]),f.getSnapshot!==i||_||jt!==null&&jt.memoizedState.tag&1){if(u.flags|=2048,od(9,A5.bind(null,u,f,v,i),void 0,null),Ft===null)throw Error(t(349));oa&30||E5(u,i,v)}return v}function E5(s,i,u){s.flags|=16384,s={getSnapshot:i,value:u},i=dt.updateQueue,i===null?(i={lastEffect:null,stores:null},dt.updateQueue=i,i.stores=[s]):(u=i.stores,u===null?i.stores=[s]:u.push(s))}function A5(s,i,u,f){i.value=u,i.getSnapshot=f,k5(i)&&T5(s)}function b5(s,i,u){return u(function(){k5(i)&&T5(s)})}function k5(s){var i=s.getSnapshot;s=s.value;try{var u=i();return!js(s,u)}catch{return!0}}function T5(s){var i=Zi(s,1);i!==null&&zs(i,s,1,-1)}function P5(s){var i=yi();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:s},i.queue=s,s=s.dispatch=H9.bind(null,dt,s),[i.memoizedState,s]}function od(s,i,u,f){return s={tag:s,create:i,destroy:u,deps:f,next:null},i=dt.updateQueue,i===null?(i={lastEffect:null,stores:null},dt.updateQueue=i,i.lastEffect=s.next=s):(u=i.lastEffect,u===null?i.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,i.lastEffect=s)),s}function N5(){return ys().memoizedState}function bp(s,i,u,f){var v=yi();dt.flags|=s,v.memoizedState=od(1|i,u,void 0,f===void 0?null:f)}function kp(s,i,u,f){var v=ys();f=f===void 0?null:f;var _=void 0;if(Tt!==null){var b=Tt.memoizedState;if(_=b.destroy,f!==null&&H2(f,b.deps)){v.memoizedState=od(i,u,_,f);return}}dt.flags|=s,v.memoizedState=od(1|i,u,_,f)}function L5(s,i){return bp(8390656,8,s,i)}function q2(s,i){return kp(2048,8,s,i)}function R5(s,i){return kp(4,2,s,i)}function M5(s,i){return kp(4,4,s,i)}function I5(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function D5(s,i,u){return u=u!=null?u.concat([s]):null,kp(4,4,I5.bind(null,i,s),u)}function X2(){}function j5(s,i){var u=ys();i=i===void 0?null:i;var f=u.memoizedState;return f!==null&&i!==null&&H2(i,f[1])?f[0]:(u.memoizedState=[s,i],s)}function F5(s,i){var u=ys();i=i===void 0?null:i;var f=u.memoizedState;return f!==null&&i!==null&&H2(i,f[1])?f[0]:(s=s(),u.memoizedState=[s,i],s)}function O5(s,i,u){return oa&21?(js(u,i)||(u=p4(),dt.lanes|=u,aa|=u,s.baseState=!0),i):(s.baseState&&(s.baseState=!1,Ln=!0),s.memoizedState=u)}function $9(s,i){var u=qe;qe=u!==0&&4>u?u:4,s(!0);var f=z2.transition;z2.transition={};try{s(!1),i()}finally{qe=u,z2.transition=f}}function B5(){return ys().memoizedState}function z9(s,i,u){var f=oo(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},$5(s))z5(i,u);else if(u=v5(s,i,u,f),u!==null){var v=vn();zs(u,s,f,v),H5(u,i,f)}}function H9(s,i,u){var f=oo(s),v={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if($5(s))z5(i,v);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=i.lastRenderedReducer,_!==null))try{var b=i.lastRenderedState,R=_(b,u);if(v.hasEagerState=!0,v.eagerState=R,js(R,b)){var D=i.interleaved;D===null?(v.next=v,D2(i)):(v.next=D.next,D.next=v),i.interleaved=v;return}}catch{}finally{}u=v5(s,i,v,f),u!==null&&(v=vn(),zs(u,s,f,v),H5(u,i,f))}}function $5(s){var i=s.alternate;return s===dt||i!==null&&i===dt}function z5(s,i){sd=Ap=!0;var u=s.pending;u===null?i.next=i:(i.next=u.next,u.next=i),s.pending=i}function H5(s,i,u){if(u&4194240){var f=i.lanes;f&=s.pendingLanes,u|=f,i.lanes=u,Km(s,u)}}var Tp={readContext:vs,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},U9={readContext:vs,useCallback:function(s,i){return yi().memoizedState=[s,i===void 0?null:i],s},useContext:vs,useEffect:L5,useImperativeHandle:function(s,i,u){return u=u!=null?u.concat([s]):null,bp(4194308,4,I5.bind(null,i,s),u)},useLayoutEffect:function(s,i){return bp(4194308,4,s,i)},useInsertionEffect:function(s,i){return bp(4,2,s,i)},useMemo:function(s,i){var u=yi();return i=i===void 0?null:i,s=s(),u.memoizedState=[s,i],s},useReducer:function(s,i,u){var f=yi();return i=u!==void 0?u(i):i,f.memoizedState=f.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},f.queue=s,s=s.dispatch=z9.bind(null,dt,s),[f.memoizedState,s]},useRef:function(s){var i=yi();return s={current:s},i.memoizedState=s},useState:P5,useDebugValue:X2,useDeferredValue:function(s){return yi().memoizedState=s},useTransition:function(){var s=P5(!1),i=s[0];return s=$9.bind(null,s[1]),yi().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,u){var f=dt,v=yi();if(ot){if(u===void 0)throw Error(t(407));u=u()}else{if(u=i(),Ft===null)throw Error(t(349));oa&30||E5(f,i,u)}v.memoizedState=u;var _={value:u,getSnapshot:i};return v.queue=_,L5(b5.bind(null,f,_,s),[s]),f.flags|=2048,od(9,A5.bind(null,f,_,u,i),void 0,null),u},useId:function(){var s=yi(),i=Ft.identifierPrefix;if(ot){var u=Ki,f=Yi;u=(f&~(1<<32-Ds(f)-1)).toString(32)+u,i=":"+i+"R"+u,u=id++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=B9++,i=":"+i+"r"+u.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},V9={readContext:vs,useCallback:j5,useContext:vs,useEffect:q2,useImperativeHandle:D5,useInsertionEffect:R5,useLayoutEffect:M5,useMemo:F5,useReducer:W2,useRef:N5,useState:function(){return W2(rd)},useDebugValue:X2,useDeferredValue:function(s){var i=ys();return O5(i,Tt.memoizedState,s)},useTransition:function(){var s=W2(rd)[0],i=ys().memoizedState;return[s,i]},useMutableSource:x5,useSyncExternalStore:S5,useId:B5,unstable_isNewReconciler:!1},W9={readContext:vs,useCallback:j5,useContext:vs,useEffect:q2,useImperativeHandle:D5,useInsertionEffect:R5,useLayoutEffect:M5,useMemo:F5,useReducer:G2,useRef:N5,useState:function(){return G2(rd)},useDebugValue:X2,useDeferredValue:function(s){var i=ys();return Tt===null?i.memoizedState=s:O5(i,Tt.memoizedState,s)},useTransition:function(){var s=G2(rd)[0],i=ys().memoizedState;return[s,i]},useMutableSource:x5,useSyncExternalStore:S5,useId:B5,unstable_isNewReconciler:!1};function Os(s,i){if(s&&s.defaultProps){i=ee({},i),s=s.defaultProps;for(var u in s)i[u]===void 0&&(i[u]=s[u]);return i}return i}function Y2(s,i,u,f){i=s.memoizedState,u=u(f,i),u=u==null?i:ee({},i,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Pp={isMounted:function(s){return(s=s._reactInternals)?Jo(s)===s:!1},enqueueSetState:function(s,i,u){s=s._reactInternals;var f=vn(),v=oo(s),_=Qi(f,v);_.payload=i,u!=null&&(_.callback=u),i=no(s,_,v),i!==null&&(zs(i,s,v,f),wp(i,s,v))},enqueueReplaceState:function(s,i,u){s=s._reactInternals;var f=vn(),v=oo(s),_=Qi(f,v);_.tag=1,_.payload=i,u!=null&&(_.callback=u),i=no(s,_,v),i!==null&&(zs(i,s,v,f),wp(i,s,v))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var u=vn(),f=oo(s),v=Qi(u,f);v.tag=2,i!=null&&(v.callback=i),i=no(s,v,f),i!==null&&(zs(i,s,f,u),wp(i,s,f))}};function U5(s,i,u,f,v,_,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,b):i.prototype&&i.prototype.isPureReactComponent?!Gu(u,f)||!Gu(v,_):!0}function V5(s,i,u){var f=!1,v=Jr,_=i.contextType;return typeof _=="object"&&_!==null?_=vs(_):(v=Nn(i)?ta:Jt.current,f=i.contextTypes,_=(f=f!=null)?Hl(s,v):Jr),i=new i(u,_),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Pp,s.stateNode=i,i._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=_),i}function W5(s,i,u,f){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,f),i.state!==s&&Pp.enqueueReplaceState(i,i.state,null)}function K2(s,i,u,f){var v=s.stateNode;v.props=u,v.state=s.memoizedState,v.refs={},j2(s);var _=i.contextType;typeof _=="object"&&_!==null?v.context=vs(_):(_=Nn(i)?ta:Jt.current,v.context=Hl(s,_)),v.state=s.memoizedState,_=i.getDerivedStateFromProps,typeof _=="function"&&(Y2(s,i,_,u),v.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(i=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),i!==v.state&&Pp.enqueueReplaceState(v,v.state,null),xp(s,u,v,f),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function Kl(s,i){try{var u="",f=i;do u+=Me(f),f=f.return;while(f);var v=u}catch(_){v=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:i,stack:v,digest:null}}function Z2(s,i,u){return{value:s,source:null,stack:u??null,digest:i??null}}function Q2(s,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var G9=typeof WeakMap=="function"?WeakMap:Map;function G5(s,i,u){u=Qi(-1,u),u.tag=3,u.payload={element:null};var f=i.value;return u.callback=function(){jp||(jp=!0,fg=f),Q2(s,i)},u}function q5(s,i,u){u=Qi(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var v=i.value;u.payload=function(){return f(v)},u.callback=function(){Q2(s,i)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Q2(s,i),typeof f!="function"&&(io===null?io=new Set([this]):io.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})}),u}function X5(s,i,u){var f=s.pingCache;if(f===null){f=s.pingCache=new G9;var v=new Set;f.set(i,v)}else v=f.get(i),v===void 0&&(v=new Set,f.set(i,v));v.has(u)||(v.add(u),s=o6.bind(null,s,i,u),i.then(s,s))}function Y5(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function K5(s,i,u,f,v){return s.mode&1?(s.flags|=65536,s.lanes=v,s):(s===i?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=Qi(-1,1),i.tag=2,no(u,i,1))),u.lanes|=1),s)}var q9=M.ReactCurrentOwner,Ln=!1;function gn(s,i,u,f){i.child=s===null?g5(i,null,u,f):Gl(i,s.child,u,f)}function Z5(s,i,u,f,v){u=u.render;var _=i.ref;return Xl(i,v),f=U2(s,i,u,f,_,v),u=V2(),s!==null&&!Ln?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~v,Ji(s,i,v)):(ot&&u&&b2(i),i.flags|=1,gn(s,i,f,v),i.child)}function Q5(s,i,u,f,v){if(s===null){var _=u.type;return typeof _=="function"&&!_g(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=_,J5(s,i,_,f,v)):(s=Hp(u.type,null,f,i,i.mode,v),s.ref=i.ref,s.return=i,i.child=s)}if(_=s.child,!(s.lanes&v)){var b=_.memoizedProps;if(u=u.compare,u=u!==null?u:Gu,u(b,f)&&s.ref===i.ref)return Ji(s,i,v)}return i.flags|=1,s=lo(_,f),s.ref=i.ref,s.return=i,i.child=s}function J5(s,i,u,f,v){if(s!==null){var _=s.memoizedProps;if(Gu(_,f)&&s.ref===i.ref)if(Ln=!1,i.pendingProps=f=_,(s.lanes&v)!==0)s.flags&131072&&(Ln=!0);else return i.lanes=s.lanes,Ji(s,i,v)}return J2(s,i,u,f,v)}function ev(s,i,u){var f=i.pendingProps,v=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Ql,qn),qn|=u;else{if(!(u&1073741824))return s=_!==null?_.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,et(Ql,qn),qn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,et(Ql,qn),qn|=f}else _!==null?(f=_.baseLanes|u,i.memoizedState=null):f=u,et(Ql,qn),qn|=f;return gn(s,i,v,u),i.child}function tv(s,i){var u=i.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function J2(s,i,u,f,v){var _=Nn(u)?ta:Jt.current;return _=Hl(i,_),Xl(i,v),u=U2(s,i,u,f,_,v),f=V2(),s!==null&&!Ln?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~v,Ji(s,i,v)):(ot&&f&&b2(i),i.flags|=1,gn(s,i,u,v),i.child)}function nv(s,i,u,f,v){if(Nn(u)){var _=!0;fp(i)}else _=!1;if(Xl(i,v),i.stateNode===null)Lp(s,i),V5(i,u,f),K2(i,u,f,v),f=!0;else if(s===null){var b=i.stateNode,R=i.memoizedProps;b.props=R;var D=b.context,H=u.contextType;typeof H=="object"&&H!==null?H=vs(H):(H=Nn(u)?ta:Jt.current,H=Hl(i,H));var G=u.getDerivedStateFromProps,X=typeof G=="function"||typeof b.getSnapshotBeforeUpdate=="function";X||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==f||D!==H)&&W5(i,b,f,H),to=!1;var W=i.memoizedState;b.state=W,xp(i,f,b,v),D=i.memoizedState,R!==f||W!==D||Pn.current||to?(typeof G=="function"&&(Y2(i,u,G,f),D=i.memoizedState),(R=to||U5(i,u,R,f,W,D,H))?(X||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=D),b.props=f,b.state=D,b.context=H,f=R):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{b=i.stateNode,y5(s,i),R=i.memoizedProps,H=i.type===i.elementType?R:Os(i.type,R),b.props=H,X=i.pendingProps,W=b.context,D=u.contextType,typeof D=="object"&&D!==null?D=vs(D):(D=Nn(u)?ta:Jt.current,D=Hl(i,D));var ne=u.getDerivedStateFromProps;(G=typeof ne=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==X||W!==D)&&W5(i,b,f,D),to=!1,W=i.memoizedState,b.state=W,xp(i,f,b,v);var ce=i.memoizedState;R!==X||W!==ce||Pn.current||to?(typeof ne=="function"&&(Y2(i,u,ne,f),ce=i.memoizedState),(H=to||U5(i,u,H,f,W,ce,D)||!1)?(G||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,ce,D),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,ce,D)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===s.memoizedProps&&W===s.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&W===s.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=ce),b.props=f,b.state=ce,b.context=D,f=H):(typeof b.componentDidUpdate!="function"||R===s.memoizedProps&&W===s.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&W===s.memoizedState||(i.flags|=1024),f=!1)}return eg(s,i,u,f,_,v)}function eg(s,i,u,f,v,_){tv(s,i);var b=(i.flags&128)!==0;if(!f&&!b)return v&&a5(i,u,!1),Ji(s,i,_);f=i.stateNode,q9.current=i;var R=b&&typeof u.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,s!==null&&b?(i.child=Gl(i,s.child,null,_),i.child=Gl(i,null,R,_)):gn(s,i,R,_),i.memoizedState=f.state,v&&a5(i,u,!0),i.child}function sv(s){var i=s.stateNode;i.pendingContext?r5(s,i.pendingContext,i.pendingContext!==i.context):i.context&&r5(s,i.context,!1),F2(s,i.containerInfo)}function iv(s,i,u,f,v){return Wl(),N2(v),i.flags|=256,gn(s,i,u,f),i.child}var tg={dehydrated:null,treeContext:null,retryLane:0};function ng(s){return{baseLanes:s,cachePool:null,transitions:null}}function rv(s,i,u){var f=i.pendingProps,v=ut.current,_=!1,b=(i.flags&128)!==0,R;if((R=b)||(R=s!==null&&s.memoizedState===null?!1:(v&2)!==0),R?(_=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),et(ut,v&1),s===null)return P2(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(i.mode&1?s.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(b=f.children,s=f.fallback,_?(f=i.mode,_=i.child,b={mode:"hidden",children:b},!(f&1)&&_!==null?(_.childLanes=0,_.pendingProps=b):_=Up(b,f,0,null),s=da(s,f,u,null),_.return=i,s.return=i,_.sibling=s,i.child=_,i.child.memoizedState=ng(u),i.memoizedState=tg,s):sg(i,b));if(v=s.memoizedState,v!==null&&(R=v.dehydrated,R!==null))return X9(s,i,b,f,R,v,u);if(_){_=f.fallback,b=i.mode,v=s.child,R=v.sibling;var D={mode:"hidden",children:f.children};return!(b&1)&&i.child!==v?(f=i.child,f.childLanes=0,f.pendingProps=D,i.deletions=null):(f=lo(v,D),f.subtreeFlags=v.subtreeFlags&14680064),R!==null?_=lo(R,_):(_=da(_,b,u,null),_.flags|=2),_.return=i,f.return=i,f.sibling=_,i.child=f,f=_,_=i.child,b=s.child.memoizedState,b=b===null?ng(u):{baseLanes:b.baseLanes|u,cachePool:null,transitions:b.transitions},_.memoizedState=b,_.childLanes=s.childLanes&~u,i.memoizedState=tg,f}return _=s.child,s=_.sibling,f=lo(_,{mode:"visible",children:f.children}),!(i.mode&1)&&(f.lanes=u),f.return=i,f.sibling=null,s!==null&&(u=i.deletions,u===null?(i.deletions=[s],i.flags|=16):u.push(s)),i.child=f,i.memoizedState=null,f}function sg(s,i){return i=Up({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Np(s,i,u,f){return f!==null&&N2(f),Gl(i,s.child,null,u),s=sg(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function X9(s,i,u,f,v,_,b){if(u)return i.flags&256?(i.flags&=-257,f=Z2(Error(t(422))),Np(s,i,b,f)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(_=f.fallback,v=i.mode,f=Up({mode:"visible",children:f.children},v,0,null),_=da(_,v,b,null),_.flags|=2,f.return=i,_.return=i,f.sibling=_,i.child=f,i.mode&1&&Gl(i,s.child,null,b),i.child.memoizedState=ng(b),i.memoizedState=tg,_);if(!(i.mode&1))return Np(s,i,b,null);if(v.data==="$!"){if(f=v.nextSibling&&v.nextSibling.dataset,f)var R=f.dgst;return f=R,_=Error(t(419)),f=Z2(_,f,void 0),Np(s,i,b,f)}if(R=(b&s.childLanes)!==0,Ln||R){if(f=Ft,f!==null){switch(b&-b){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(f.suspendedLanes|b)?0:v,v!==0&&v!==_.retryLane&&(_.retryLane=v,Zi(s,v),zs(f,s,v,-1))}return Cg(),f=Z2(Error(t(421))),Np(s,i,b,f)}return v.data==="$?"?(i.flags|=128,i.child=s.child,i=a6.bind(null,s),v._reactRetry=i,null):(s=_.treeContext,Gn=Zr(v.nextSibling),Wn=i,ot=!0,Fs=null,s!==null&&(ms[gs++]=Yi,ms[gs++]=Ki,ms[gs++]=na,Yi=s.id,Ki=s.overflow,na=i),i=sg(i,f.children),i.flags|=4096,i)}function ov(s,i,u){s.lanes|=i;var f=s.alternate;f!==null&&(f.lanes|=i),I2(s.return,i,u)}function ig(s,i,u,f,v){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=v)}function av(s,i,u){var f=i.pendingProps,v=f.revealOrder,_=f.tail;if(gn(s,i,f.children,u),f=ut.current,f&2)f=f&1|2,i.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ov(s,u,i);else if(s.tag===19)ov(s,u,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(et(ut,f),!(i.mode&1))i.memoizedState=null;else switch(v){case"forwards":for(u=i.child,v=null;u!==null;)s=u.alternate,s!==null&&Sp(s)===null&&(v=u),u=u.sibling;u=v,u===null?(v=i.child,i.child=null):(v=u.sibling,u.sibling=null),ig(i,!1,v,u,_);break;case"backwards":for(u=null,v=i.child,i.child=null;v!==null;){if(s=v.alternate,s!==null&&Sp(s)===null){i.child=v;break}s=v.sibling,v.sibling=u,u=v,v=s}ig(i,!0,u,null,_);break;case"together":ig(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Lp(s,i){!(i.mode&1)&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Ji(s,i,u){if(s!==null&&(i.dependencies=s.dependencies),aa|=i.lanes,!(u&i.childLanes))return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,u=lo(s,s.pendingProps),i.child=u,u.return=i;s.sibling!==null;)s=s.sibling,u=u.sibling=lo(s,s.pendingProps),u.return=i;u.sibling=null}return i.child}function Y9(s,i,u){switch(i.tag){case 3:sv(i),Wl();break;case 5:w5(i);break;case 1:Nn(i.type)&&fp(i);break;case 4:F2(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,v=i.memoizedProps.value;et(Cp,f._currentValue),f._currentValue=v;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(et(ut,ut.current&1),i.flags|=128,null):u&i.child.childLanes?rv(s,i,u):(et(ut,ut.current&1),s=Ji(s,i,u),s!==null?s.sibling:null);et(ut,ut.current&1);break;case 19:if(f=(u&i.childLanes)!==0,s.flags&128){if(f)return av(s,i,u);i.flags|=128}if(v=i.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),et(ut,ut.current),f)break;return null;case 22:case 23:return i.lanes=0,ev(s,i,u)}return Ji(s,i,u)}var lv,rg,cv,uv;lv=function(s,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},rg=function(){},cv=function(s,i,u,f){var v=s.memoizedProps;if(v!==f){s=i.stateNode,ra(vi.current);var _=null;switch(u){case"input":v=Im(s,v),f=Im(s,f),_=[];break;case"select":v=ee({},v,{value:void 0}),f=ee({},f,{value:void 0}),_=[];break;case"textarea":v=Fm(s,v),f=Fm(s,f),_=[];break;default:typeof v.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=up)}Bm(u,f);var b;u=null;for(H in v)if(!f.hasOwnProperty(H)&&v.hasOwnProperty(H)&&v[H]!=null)if(H==="style"){var R=v[H];for(b in R)R.hasOwnProperty(b)&&(u||(u={}),u[b]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(r.hasOwnProperty(H)?_||(_=[]):(_=_||[]).push(H,null));for(H in f){var D=f[H];if(R=v!=null?v[H]:void 0,f.hasOwnProperty(H)&&D!==R&&(D!=null||R!=null))if(H==="style")if(R){for(b in R)!R.hasOwnProperty(b)||D&&D.hasOwnProperty(b)||(u||(u={}),u[b]="");for(b in D)D.hasOwnProperty(b)&&R[b]!==D[b]&&(u||(u={}),u[b]=D[b])}else u||(_||(_=[]),_.push(H,u)),u=D;else H==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,R=R?R.__html:void 0,D!=null&&R!==D&&(_=_||[]).push(H,D)):H==="children"?typeof D!="string"&&typeof D!="number"||(_=_||[]).push(H,""+D):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(r.hasOwnProperty(H)?(D!=null&&H==="onScroll"&&st("scroll",s),_||R===D||(_=[])):(_=_||[]).push(H,D))}u&&(_=_||[]).push("style",u);var H=_;(i.updateQueue=H)&&(i.flags|=4)}},uv=function(s,i,u,f){u!==f&&(i.flags|=4)};function ad(s,i){if(!ot)switch(s.tailMode){case"hidden":i=s.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function tn(s){var i=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(i)for(var v=s.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&14680064,f|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=f,s.childLanes=u,i}function K9(s,i,u){var f=i.pendingProps;switch(k2(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(i),null;case 1:return Nn(i.type)&&hp(),tn(i),null;case 3:return f=i.stateNode,Yl(),it(Pn),it(Jt),$2(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(vp(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Fs!==null&&(gg(Fs),Fs=null))),rg(s,i),tn(i),null;case 5:O2(i);var v=ra(nd.current);if(u=i.type,s!==null&&i.stateNode!=null)cv(s,i,u,f,v),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(t(166));return tn(i),null}if(s=ra(vi.current),vp(i)){f=i.stateNode,u=i.type;var _=i.memoizedProps;switch(f[gi]=i,f[Zu]=_,s=(i.mode&1)!==0,u){case"dialog":st("cancel",f),st("close",f);break;case"iframe":case"object":case"embed":st("load",f);break;case"video":case"audio":for(v=0;v<Xu.length;v++)st(Xu[v],f);break;case"source":st("error",f);break;case"img":case"image":case"link":st("error",f),st("load",f);break;case"details":st("toggle",f);break;case"input":V3(f,_),st("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},st("invalid",f);break;case"textarea":q3(f,_),st("invalid",f)}Bm(u,_),v=null;for(var b in _)if(_.hasOwnProperty(b)){var R=_[b];b==="children"?typeof R=="string"?f.textContent!==R&&(_.suppressHydrationWarning!==!0&&cp(f.textContent,R,s),v=["children",R]):typeof R=="number"&&f.textContent!==""+R&&(_.suppressHydrationWarning!==!0&&cp(f.textContent,R,s),v=["children",""+R]):r.hasOwnProperty(b)&&R!=null&&b==="onScroll"&&st("scroll",f)}switch(u){case"input":$f(f),G3(f,_,!0);break;case"textarea":$f(f),Y3(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=up)}f=v,i.updateQueue=f,f!==null&&(i.flags|=4)}else{b=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=K3(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=b.createElement(u,{is:f.is}):(s=b.createElement(u),u==="select"&&(b=s,f.multiple?b.multiple=!0:f.size&&(b.size=f.size))):s=b.createElementNS(s,u),s[gi]=i,s[Zu]=f,lv(s,i,!1,!1),i.stateNode=s;e:{switch(b=$m(u,f),u){case"dialog":st("cancel",s),st("close",s),v=f;break;case"iframe":case"object":case"embed":st("load",s),v=f;break;case"video":case"audio":for(v=0;v<Xu.length;v++)st(Xu[v],s);v=f;break;case"source":st("error",s),v=f;break;case"img":case"image":case"link":st("error",s),st("load",s),v=f;break;case"details":st("toggle",s),v=f;break;case"input":V3(s,f),v=Im(s,f),st("invalid",s);break;case"option":v=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},v=ee({},f,{value:void 0}),st("invalid",s);break;case"textarea":q3(s,f),v=Fm(s,f),st("invalid",s);break;default:v=f}Bm(u,v),R=v;for(_ in R)if(R.hasOwnProperty(_)){var D=R[_];_==="style"?J3(s,D):_==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Z3(s,D)):_==="children"?typeof D=="string"?(u!=="textarea"||D!=="")&&Pu(s,D):typeof D=="number"&&Pu(s,""+D):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(r.hasOwnProperty(_)?D!=null&&_==="onScroll"&&st("scroll",s):D!=null&&I(s,_,D,b))}switch(u){case"input":$f(s),G3(s,f,!1);break;case"textarea":$f(s),Y3(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Oe(f.value));break;case"select":s.multiple=!!f.multiple,_=f.value,_!=null?Nl(s,!!f.multiple,_,!1):f.defaultValue!=null&&Nl(s,!!f.multiple,f.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=up)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return tn(i),null;case 6:if(s&&i.stateNode!=null)uv(s,i,s.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(t(166));if(u=ra(nd.current),ra(vi.current),vp(i)){if(f=i.stateNode,u=i.memoizedProps,f[gi]=i,(_=f.nodeValue!==u)&&(s=Wn,s!==null))switch(s.tag){case 3:cp(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&cp(f.nodeValue,u,(s.mode&1)!==0)}_&&(i.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[gi]=i,i.stateNode=f}return tn(i),null;case 13:if(it(ut),f=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ot&&Gn!==null&&i.mode&1&&!(i.flags&128))f5(),Wl(),i.flags|=98560,_=!1;else if(_=vp(i),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=i.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[gi]=i}else Wl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;tn(i),_=!1}else Fs!==null&&(gg(Fs),Fs=null),_=!0;if(!_)return i.flags&65536?i:null}return i.flags&128?(i.lanes=u,i):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(i.child.flags|=8192,i.mode&1&&(s===null||ut.current&1?Pt===0&&(Pt=3):Cg())),i.updateQueue!==null&&(i.flags|=4),tn(i),null);case 4:return Yl(),rg(s,i),s===null&&Yu(i.stateNode.containerInfo),tn(i),null;case 10:return M2(i.type._context),tn(i),null;case 17:return Nn(i.type)&&hp(),tn(i),null;case 19:if(it(ut),_=i.memoizedState,_===null)return tn(i),null;if(f=(i.flags&128)!==0,b=_.rendering,b===null)if(f)ad(_,!1);else{if(Pt!==0||s!==null&&s.flags&128)for(s=i.child;s!==null;){if(b=Sp(s),b!==null){for(i.flags|=128,ad(_,!1),f=b.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=u,u=i.child;u!==null;)_=u,s=f,_.flags&=14680066,b=_.alternate,b===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=b.childLanes,_.lanes=b.lanes,_.child=b.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=b.memoizedProps,_.memoizedState=b.memoizedState,_.updateQueue=b.updateQueue,_.type=b.type,s=b.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return et(ut,ut.current&1|2),i.child}s=s.sibling}_.tail!==null&&yt()>Jl&&(i.flags|=128,f=!0,ad(_,!1),i.lanes=4194304)}else{if(!f)if(s=Sp(b),s!==null){if(i.flags|=128,f=!0,u=s.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),ad(_,!0),_.tail===null&&_.tailMode==="hidden"&&!b.alternate&&!ot)return tn(i),null}else 2*yt()-_.renderingStartTime>Jl&&u!==1073741824&&(i.flags|=128,f=!0,ad(_,!1),i.lanes=4194304);_.isBackwards?(b.sibling=i.child,i.child=b):(u=_.last,u!==null?u.sibling=b:i.child=b,_.last=b)}return _.tail!==null?(i=_.tail,_.rendering=i,_.tail=i.sibling,_.renderingStartTime=yt(),i.sibling=null,u=ut.current,et(ut,f?u&1|2:u&1),i):(tn(i),null);case 22:case 23:return yg(),f=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(i.flags|=8192),f&&i.mode&1?qn&1073741824&&(tn(i),i.subtreeFlags&6&&(i.flags|=8192)):tn(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Z9(s,i){switch(k2(i),i.tag){case 1:return Nn(i.type)&&hp(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Yl(),it(Pn),it(Jt),$2(),s=i.flags,s&65536&&!(s&128)?(i.flags=s&-65537|128,i):null;case 5:return O2(i),null;case 13:if(it(ut),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Wl()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return it(ut),null;case 4:return Yl(),null;case 10:return M2(i.type._context),null;case 22:case 23:return yg(),null;case 24:return null;default:return null}}var Rp=!1,nn=!1,Q9=typeof WeakSet=="function"?WeakSet:Set,re=null;function Zl(s,i){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){gt(s,i,f)}else u.current=null}function og(s,i,u){try{u()}catch(f){gt(s,i,f)}}var dv=!1;function J9(s,i){if(y2=Qf,s=U4(),u2(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var b=0,R=-1,D=-1,H=0,G=0,X=s,W=null;t:for(;;){for(var ne;X!==u||v!==0&&X.nodeType!==3||(R=b+v),X!==_||f!==0&&X.nodeType!==3||(D=b+f),X.nodeType===3&&(b+=X.nodeValue.length),(ne=X.firstChild)!==null;)W=X,X=ne;for(;;){if(X===s)break t;if(W===u&&++H===v&&(R=b),W===_&&++G===f&&(D=b),(ne=X.nextSibling)!==null)break;X=W,W=X.parentNode}X=ne}u=R===-1||D===-1?null:{start:R,end:D}}else u=null}u=u||{start:0,end:0}}else u=null;for(C2={focusedElem:s,selectionRange:u},Qf=!1,re=i;re!==null;)if(i=re,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,re=s;else for(;re!==null;){i=re;try{var ce=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var de=ce.memoizedProps,Ct=ce.memoizedState,B=i.stateNode,j=B.getSnapshotBeforeUpdate(i.elementType===i.type?de:Os(i.type,de),Ct);B.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var $=i.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(K){gt(i,i.return,K)}if(s=i.sibling,s!==null){s.return=i.return,re=s;break}re=i.return}return ce=dv,dv=!1,ce}function ld(s,i,u){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&s)===s){var _=v.destroy;v.destroy=void 0,_!==void 0&&og(i,u,_)}v=v.next}while(v!==f)}}function Mp(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==i)}}function ag(s){var i=s.ref;if(i!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof i=="function"?i(s):i.current=s}}function hv(s){var i=s.alternate;i!==null&&(s.alternate=null,hv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[gi],delete i[Zu],delete i[S2],delete i[D9],delete i[j9])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function fv(s){return s.tag===5||s.tag===3||s.tag===4}function pv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||fv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function lg(s,i,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(s,i):u.insertBefore(s,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(s,u)):(i=u,i.appendChild(s)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=up));else if(f!==4&&(s=s.child,s!==null))for(lg(s,i,u),s=s.sibling;s!==null;)lg(s,i,u),s=s.sibling}function cg(s,i,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?u.insertBefore(s,i):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(cg(s,i,u),s=s.sibling;s!==null;)cg(s,i,u),s=s.sibling}var Wt=null,Bs=!1;function so(s,i,u){for(u=u.child;u!==null;)mv(s,i,u),u=u.sibling}function mv(s,i,u){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(Gf,u)}catch{}switch(u.tag){case 5:nn||Zl(u,i);case 6:var f=Wt,v=Bs;Wt=null,so(s,i,u),Wt=f,Bs=v,Wt!==null&&(Bs?(s=Wt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Wt.removeChild(u.stateNode));break;case 18:Wt!==null&&(Bs?(s=Wt,u=u.stateNode,s.nodeType===8?x2(s.parentNode,u):s.nodeType===1&&x2(s,u),$u(s)):x2(Wt,u.stateNode));break;case 4:f=Wt,v=Bs,Wt=u.stateNode.containerInfo,Bs=!0,so(s,i,u),Wt=f,Bs=v;break;case 0:case 11:case 14:case 15:if(!nn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){v=f=f.next;do{var _=v,b=_.destroy;_=_.tag,b!==void 0&&(_&2||_&4)&&og(u,i,b),v=v.next}while(v!==f)}so(s,i,u);break;case 1:if(!nn&&(Zl(u,i),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(R){gt(u,i,R)}so(s,i,u);break;case 21:so(s,i,u);break;case 22:u.mode&1?(nn=(f=nn)||u.memoizedState!==null,so(s,i,u),nn=f):so(s,i,u);break;default:so(s,i,u)}}function gv(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new Q9),i.forEach(function(f){var v=l6.bind(null,s,f);u.has(f)||(u.add(f),f.then(v,v))})}}function $s(s,i){var u=i.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f];try{var _=s,b=i,R=b;e:for(;R!==null;){switch(R.tag){case 5:Wt=R.stateNode,Bs=!1;break e;case 3:Wt=R.stateNode.containerInfo,Bs=!0;break e;case 4:Wt=R.stateNode.containerInfo,Bs=!0;break e}R=R.return}if(Wt===null)throw Error(t(160));mv(_,b,v),Wt=null,Bs=!1;var D=v.alternate;D!==null&&(D.return=null),v.return=null}catch(H){gt(v,i,H)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)vv(i,s),i=i.sibling}function vv(s,i){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if($s(i,s),Ci(s),f&4){try{ld(3,s,s.return),Mp(3,s)}catch(de){gt(s,s.return,de)}try{ld(5,s,s.return)}catch(de){gt(s,s.return,de)}}break;case 1:$s(i,s),Ci(s),f&512&&u!==null&&Zl(u,u.return);break;case 5:if($s(i,s),Ci(s),f&512&&u!==null&&Zl(u,u.return),s.flags&32){var v=s.stateNode;try{Pu(v,"")}catch(de){gt(s,s.return,de)}}if(f&4&&(v=s.stateNode,v!=null)){var _=s.memoizedProps,b=u!==null?u.memoizedProps:_,R=s.type,D=s.updateQueue;if(s.updateQueue=null,D!==null)try{R==="input"&&_.type==="radio"&&_.name!=null&&W3(v,_),$m(R,b);var H=$m(R,_);for(b=0;b<D.length;b+=2){var G=D[b],X=D[b+1];G==="style"?J3(v,X):G==="dangerouslySetInnerHTML"?Z3(v,X):G==="children"?Pu(v,X):I(v,G,X,H)}switch(R){case"input":Dm(v,_);break;case"textarea":X3(v,_);break;case"select":var W=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!_.multiple;var ne=_.value;ne!=null?Nl(v,!!_.multiple,ne,!1):W!==!!_.multiple&&(_.defaultValue!=null?Nl(v,!!_.multiple,_.defaultValue,!0):Nl(v,!!_.multiple,_.multiple?[]:"",!1))}v[Zu]=_}catch(de){gt(s,s.return,de)}}break;case 6:if($s(i,s),Ci(s),f&4){if(s.stateNode===null)throw Error(t(162));v=s.stateNode,_=s.memoizedProps;try{v.nodeValue=_}catch(de){gt(s,s.return,de)}}break;case 3:if($s(i,s),Ci(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{$u(i.containerInfo)}catch(de){gt(s,s.return,de)}break;case 4:$s(i,s),Ci(s);break;case 13:$s(i,s),Ci(s),v=s.child,v.flags&8192&&(_=v.memoizedState!==null,v.stateNode.isHidden=_,!_||v.alternate!==null&&v.alternate.memoizedState!==null||(hg=yt())),f&4&&gv(s);break;case 22:if(G=u!==null&&u.memoizedState!==null,s.mode&1?(nn=(H=nn)||G,$s(i,s),nn=H):$s(i,s),Ci(s),f&8192){if(H=s.memoizedState!==null,(s.stateNode.isHidden=H)&&!G&&s.mode&1)for(re=s,G=s.child;G!==null;){for(X=re=G;re!==null;){switch(W=re,ne=W.child,W.tag){case 0:case 11:case 14:case 15:ld(4,W,W.return);break;case 1:Zl(W,W.return);var ce=W.stateNode;if(typeof ce.componentWillUnmount=="function"){f=W,u=W.return;try{i=f,ce.props=i.memoizedProps,ce.state=i.memoizedState,ce.componentWillUnmount()}catch(de){gt(f,u,de)}}break;case 5:Zl(W,W.return);break;case 22:if(W.memoizedState!==null){_v(X);continue}}ne!==null?(ne.return=W,re=ne):_v(X)}G=G.sibling}e:for(G=null,X=s;;){if(X.tag===5){if(G===null){G=X;try{v=X.stateNode,H?(_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(R=X.stateNode,D=X.memoizedProps.style,b=D!=null&&D.hasOwnProperty("display")?D.display:null,R.style.display=Q3("display",b))}catch(de){gt(s,s.return,de)}}}else if(X.tag===6){if(G===null)try{X.stateNode.nodeValue=H?"":X.memoizedProps}catch(de){gt(s,s.return,de)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===s)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===s)break e;for(;X.sibling===null;){if(X.return===null||X.return===s)break e;G===X&&(G=null),X=X.return}G===X&&(G=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:$s(i,s),Ci(s),f&4&&gv(s);break;case 21:break;default:$s(i,s),Ci(s)}}function Ci(s){var i=s.flags;if(i&2){try{e:{for(var u=s.return;u!==null;){if(fv(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var v=f.stateNode;f.flags&32&&(Pu(v,""),f.flags&=-33);var _=pv(s);cg(s,_,v);break;case 3:case 4:var b=f.stateNode.containerInfo,R=pv(s);lg(s,R,b);break;default:throw Error(t(161))}}catch(D){gt(s,s.return,D)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function e6(s,i,u){re=s,yv(s)}function yv(s,i,u){for(var f=(s.mode&1)!==0;re!==null;){var v=re,_=v.child;if(v.tag===22&&f){var b=v.memoizedState!==null||Rp;if(!b){var R=v.alternate,D=R!==null&&R.memoizedState!==null||nn;R=Rp;var H=nn;if(Rp=b,(nn=D)&&!H)for(re=v;re!==null;)b=re,D=b.child,b.tag===22&&b.memoizedState!==null?wv(v):D!==null?(D.return=b,re=D):wv(v);for(;_!==null;)re=_,yv(_),_=_.sibling;re=v,Rp=R,nn=H}Cv(s)}else v.subtreeFlags&8772&&_!==null?(_.return=v,re=_):Cv(s)}}function Cv(s){for(;re!==null;){var i=re;if(i.flags&8772){var u=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:nn||Mp(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!nn)if(u===null)f.componentDidMount();else{var v=i.elementType===i.type?u.memoizedProps:Os(i.type,u.memoizedProps);f.componentDidUpdate(v,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=i.updateQueue;_!==null&&_5(i,_,f);break;case 3:var b=i.updateQueue;if(b!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}_5(i,b,u)}break;case 5:var R=i.stateNode;if(u===null&&i.flags&4){u=R;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&u.focus();break;case"img":D.src&&(u.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var H=i.alternate;if(H!==null){var G=H.memoizedState;if(G!==null){var X=G.dehydrated;X!==null&&$u(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}nn||i.flags&512&&ag(i)}catch(W){gt(i,i.return,W)}}if(i===s){re=null;break}if(u=i.sibling,u!==null){u.return=i.return,re=u;break}re=i.return}}function _v(s){for(;re!==null;){var i=re;if(i===s){re=null;break}var u=i.sibling;if(u!==null){u.return=i.return,re=u;break}re=i.return}}function wv(s){for(;re!==null;){var i=re;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{Mp(4,i)}catch(D){gt(i,u,D)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var v=i.return;try{f.componentDidMount()}catch(D){gt(i,v,D)}}var _=i.return;try{ag(i)}catch(D){gt(i,_,D)}break;case 5:var b=i.return;try{ag(i)}catch(D){gt(i,b,D)}}}catch(D){gt(i,i.return,D)}if(i===s){re=null;break}var R=i.sibling;if(R!==null){R.return=i.return,re=R;break}re=i.return}}var t6=Math.ceil,Ip=M.ReactCurrentDispatcher,ug=M.ReactCurrentOwner,Cs=M.ReactCurrentBatchConfig,ze=0,Ft=null,St=null,Gt=0,qn=0,Ql=Qr(0),Pt=0,cd=null,aa=0,Dp=0,dg=0,ud=null,Rn=null,hg=0,Jl=1/0,er=null,jp=!1,fg=null,io=null,Fp=!1,ro=null,Op=0,dd=0,pg=null,Bp=-1,$p=0;function vn(){return ze&6?yt():Bp!==-1?Bp:Bp=yt()}function oo(s){return s.mode&1?ze&2&&Gt!==0?Gt&-Gt:O9.transition!==null?($p===0&&($p=p4()),$p):(s=qe,s!==0||(s=window.event,s=s===void 0?16:S4(s.type)),s):1}function zs(s,i,u,f){if(50<dd)throw dd=0,pg=null,Error(t(185));Du(s,u,f),(!(ze&2)||s!==Ft)&&(s===Ft&&(!(ze&2)&&(Dp|=u),Pt===4&&ao(s,Gt)),Mn(s,f),u===1&&ze===0&&!(i.mode&1)&&(Jl=yt()+500,pp&&eo()))}function Mn(s,i){var u=s.callbackNode;O8(s,i);var f=Yf(s,s===Ft?Gt:0);if(f===0)u!==null&&d4(u),s.callbackNode=null,s.callbackPriority=0;else if(i=f&-f,s.callbackPriority!==i){if(u!=null&&d4(u),i===1)s.tag===0?F9(Sv.bind(null,s)):l5(Sv.bind(null,s)),M9(function(){!(ze&6)&&eo()}),u=null;else{switch(m4(f)){case 1:u=qm;break;case 4:u=h4;break;case 16:u=Wf;break;case 536870912:u=f4;break;default:u=Wf}u=Lv(u,xv.bind(null,s))}s.callbackPriority=i,s.callbackNode=u}}function xv(s,i){if(Bp=-1,$p=0,ze&6)throw Error(t(327));var u=s.callbackNode;if(ec()&&s.callbackNode!==u)return null;var f=Yf(s,s===Ft?Gt:0);if(f===0)return null;if(f&30||f&s.expiredLanes||i)i=zp(s,f);else{i=f;var v=ze;ze|=2;var _=Av();(Ft!==s||Gt!==i)&&(er=null,Jl=yt()+500,ca(s,i));do try{i6();break}catch(R){Ev(s,R)}while(!0);R2(),Ip.current=_,ze=v,St!==null?i=0:(Ft=null,Gt=0,i=Pt)}if(i!==0){if(i===2&&(v=Xm(s),v!==0&&(f=v,i=mg(s,v))),i===1)throw u=cd,ca(s,0),ao(s,f),Mn(s,yt()),u;if(i===6)ao(s,f);else{if(v=s.current.alternate,!(f&30)&&!n6(v)&&(i=zp(s,f),i===2&&(_=Xm(s),_!==0&&(f=_,i=mg(s,_))),i===1))throw u=cd,ca(s,0),ao(s,f),Mn(s,yt()),u;switch(s.finishedWork=v,s.finishedLanes=f,i){case 0:case 1:throw Error(t(345));case 2:ua(s,Rn,er);break;case 3:if(ao(s,f),(f&130023424)===f&&(i=hg+500-yt(),10<i)){if(Yf(s,0)!==0)break;if(v=s.suspendedLanes,(v&f)!==f){vn(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=w2(ua.bind(null,s,Rn,er),i);break}ua(s,Rn,er);break;case 4:if(ao(s,f),(f&4194240)===f)break;for(i=s.eventTimes,v=-1;0<f;){var b=31-Ds(f);_=1<<b,b=i[b],b>v&&(v=b),f&=~_}if(f=v,f=yt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*t6(f/1960))-f,10<f){s.timeoutHandle=w2(ua.bind(null,s,Rn,er),f);break}ua(s,Rn,er);break;case 5:ua(s,Rn,er);break;default:throw Error(t(329))}}}return Mn(s,yt()),s.callbackNode===u?xv.bind(null,s):null}function mg(s,i){var u=ud;return s.current.memoizedState.isDehydrated&&(ca(s,i).flags|=256),s=zp(s,i),s!==2&&(i=Rn,Rn=u,i!==null&&gg(i)),s}function gg(s){Rn===null?Rn=s:Rn.push.apply(Rn,s)}function n6(s){for(var i=s;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var v=u[f],_=v.getSnapshot;v=v.value;try{if(!js(_(),v))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ao(s,i){for(i&=~dg,i&=~Dp,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var u=31-Ds(i),f=1<<u;s[u]=-1,i&=~f}}function Sv(s){if(ze&6)throw Error(t(327));ec();var i=Yf(s,0);if(!(i&1))return Mn(s,yt()),null;var u=zp(s,i);if(s.tag!==0&&u===2){var f=Xm(s);f!==0&&(i=f,u=mg(s,f))}if(u===1)throw u=cd,ca(s,0),ao(s,i),Mn(s,yt()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,ua(s,Rn,er),Mn(s,yt()),null}function vg(s,i){var u=ze;ze|=1;try{return s(i)}finally{ze=u,ze===0&&(Jl=yt()+500,pp&&eo())}}function la(s){ro!==null&&ro.tag===0&&!(ze&6)&&ec();var i=ze;ze|=1;var u=Cs.transition,f=qe;try{if(Cs.transition=null,qe=1,s)return s()}finally{qe=f,Cs.transition=u,ze=i,!(ze&6)&&eo()}}function yg(){qn=Ql.current,it(Ql)}function ca(s,i){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,R9(u)),St!==null)for(u=St.return;u!==null;){var f=u;switch(k2(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&hp();break;case 3:Yl(),it(Pn),it(Jt),$2();break;case 5:O2(f);break;case 4:Yl();break;case 13:it(ut);break;case 19:it(ut);break;case 10:M2(f.type._context);break;case 22:case 23:yg()}u=u.return}if(Ft=s,St=s=lo(s.current,null),Gt=qn=i,Pt=0,cd=null,dg=Dp=aa=0,Rn=ud=null,ia!==null){for(i=0;i<ia.length;i++)if(u=ia[i],f=u.interleaved,f!==null){u.interleaved=null;var v=f.next,_=u.pending;if(_!==null){var b=_.next;_.next=v,f.next=b}u.pending=f}ia=null}return s}function Ev(s,i){do{var u=St;try{if(R2(),Ep.current=Tp,Ap){for(var f=dt.memoizedState;f!==null;){var v=f.queue;v!==null&&(v.pending=null),f=f.next}Ap=!1}if(oa=0,jt=Tt=dt=null,sd=!1,id=0,ug.current=null,u===null||u.return===null){Pt=1,cd=i,St=null;break}e:{var _=s,b=u.return,R=u,D=i;if(i=Gt,R.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var H=D,G=R,X=G.tag;if(!(G.mode&1)&&(X===0||X===11||X===15)){var W=G.alternate;W?(G.updateQueue=W.updateQueue,G.memoizedState=W.memoizedState,G.lanes=W.lanes):(G.updateQueue=null,G.memoizedState=null)}var ne=Y5(b);if(ne!==null){ne.flags&=-257,K5(ne,b,R,_,i),ne.mode&1&&X5(_,H,i),i=ne,D=H;var ce=i.updateQueue;if(ce===null){var de=new Set;de.add(D),i.updateQueue=de}else ce.add(D);break e}else{if(!(i&1)){X5(_,H,i),Cg();break e}D=Error(t(426))}}else if(ot&&R.mode&1){var Ct=Y5(b);if(Ct!==null){!(Ct.flags&65536)&&(Ct.flags|=256),K5(Ct,b,R,_,i),N2(Kl(D,R));break e}}_=D=Kl(D,R),Pt!==4&&(Pt=2),ud===null?ud=[_]:ud.push(_),_=b;do{switch(_.tag){case 3:_.flags|=65536,i&=-i,_.lanes|=i;var B=G5(_,D,i);C5(_,B);break e;case 1:R=D;var j=_.type,$=_.stateNode;if(!(_.flags&128)&&(typeof j.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(io===null||!io.has($)))){_.flags|=65536,i&=-i,_.lanes|=i;var K=q5(_,R,i);C5(_,K);break e}}_=_.return}while(_!==null)}kv(u)}catch(pe){i=pe,St===u&&u!==null&&(St=u=u.return);continue}break}while(!0)}function Av(){var s=Ip.current;return Ip.current=Tp,s===null?Tp:s}function Cg(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Ft===null||!(aa&268435455)&&!(Dp&268435455)||ao(Ft,Gt)}function zp(s,i){var u=ze;ze|=2;var f=Av();(Ft!==s||Gt!==i)&&(er=null,ca(s,i));do try{s6();break}catch(v){Ev(s,v)}while(!0);if(R2(),ze=u,Ip.current=f,St!==null)throw Error(t(261));return Ft=null,Gt=0,Pt}function s6(){for(;St!==null;)bv(St)}function i6(){for(;St!==null&&!P8();)bv(St)}function bv(s){var i=Nv(s.alternate,s,qn);s.memoizedProps=s.pendingProps,i===null?kv(s):St=i,ug.current=null}function kv(s){var i=s;do{var u=i.alternate;if(s=i.return,i.flags&32768){if(u=Z9(u,i),u!==null){u.flags&=32767,St=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Pt=6,St=null;return}}else if(u=K9(u,i,qn),u!==null){St=u;return}if(i=i.sibling,i!==null){St=i;return}St=i=s}while(i!==null);Pt===0&&(Pt=5)}function ua(s,i,u){var f=qe,v=Cs.transition;try{Cs.transition=null,qe=1,r6(s,i,u,f)}finally{Cs.transition=v,qe=f}return null}function r6(s,i,u,f){do ec();while(ro!==null);if(ze&6)throw Error(t(327));u=s.finishedWork;var v=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(B8(s,_),s===Ft&&(St=Ft=null,Gt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Fp||(Fp=!0,Lv(Wf,function(){return ec(),null})),_=(u.flags&15990)!==0,u.subtreeFlags&15990||_){_=Cs.transition,Cs.transition=null;var b=qe;qe=1;var R=ze;ze|=4,ug.current=null,J9(s,u),vv(u,s),A9(C2),Qf=!!y2,C2=y2=null,s.current=u,e6(u),N8(),ze=R,qe=b,Cs.transition=_}else s.current=u;if(Fp&&(Fp=!1,ro=s,Op=v),_=s.pendingLanes,_===0&&(io=null),M8(u.stateNode),Mn(s,yt()),i!==null)for(f=s.onRecoverableError,u=0;u<i.length;u++)v=i[u],f(v.value,{componentStack:v.stack,digest:v.digest});if(jp)throw jp=!1,s=fg,fg=null,s;return Op&1&&s.tag!==0&&ec(),_=s.pendingLanes,_&1?s===pg?dd++:(dd=0,pg=s):dd=0,eo(),null}function ec(){if(ro!==null){var s=m4(Op),i=Cs.transition,u=qe;try{if(Cs.transition=null,qe=16>s?16:s,ro===null)var f=!1;else{if(s=ro,ro=null,Op=0,ze&6)throw Error(t(331));var v=ze;for(ze|=4,re=s.current;re!==null;){var _=re,b=_.child;if(re.flags&16){var R=_.deletions;if(R!==null){for(var D=0;D<R.length;D++){var H=R[D];for(re=H;re!==null;){var G=re;switch(G.tag){case 0:case 11:case 15:ld(8,G,_)}var X=G.child;if(X!==null)X.return=G,re=X;else for(;re!==null;){G=re;var W=G.sibling,ne=G.return;if(hv(G),G===H){re=null;break}if(W!==null){W.return=ne,re=W;break}re=ne}}}var ce=_.alternate;if(ce!==null){var de=ce.child;if(de!==null){ce.child=null;do{var Ct=de.sibling;de.sibling=null,de=Ct}while(de!==null)}}re=_}}if(_.subtreeFlags&2064&&b!==null)b.return=_,re=b;else e:for(;re!==null;){if(_=re,_.flags&2048)switch(_.tag){case 0:case 11:case 15:ld(9,_,_.return)}var B=_.sibling;if(B!==null){B.return=_.return,re=B;break e}re=_.return}}var j=s.current;for(re=j;re!==null;){b=re;var $=b.child;if(b.subtreeFlags&2064&&$!==null)$.return=b,re=$;else e:for(b=j;re!==null;){if(R=re,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:Mp(9,R)}}catch(pe){gt(R,R.return,pe)}if(R===b){re=null;break e}var K=R.sibling;if(K!==null){K.return=R.return,re=K;break e}re=R.return}}if(ze=v,eo(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(Gf,s)}catch{}f=!0}return f}finally{qe=u,Cs.transition=i}}return!1}function Tv(s,i,u){i=Kl(u,i),i=G5(s,i,1),s=no(s,i,1),i=vn(),s!==null&&(Du(s,1,i),Mn(s,i))}function gt(s,i,u){if(s.tag===3)Tv(s,s,u);else for(;i!==null;){if(i.tag===3){Tv(i,s,u);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(io===null||!io.has(f))){s=Kl(u,s),s=q5(i,s,1),i=no(i,s,1),s=vn(),i!==null&&(Du(i,1,s),Mn(i,s));break}}i=i.return}}function o6(s,i,u){var f=s.pingCache;f!==null&&f.delete(i),i=vn(),s.pingedLanes|=s.suspendedLanes&u,Ft===s&&(Gt&u)===u&&(Pt===4||Pt===3&&(Gt&130023424)===Gt&&500>yt()-hg?ca(s,0):dg|=u),Mn(s,i)}function Pv(s,i){i===0&&(s.mode&1?(i=Xf,Xf<<=1,!(Xf&130023424)&&(Xf=4194304)):i=1);var u=vn();s=Zi(s,i),s!==null&&(Du(s,i,u),Mn(s,u))}function a6(s){var i=s.memoizedState,u=0;i!==null&&(u=i.retryLane),Pv(s,u)}function l6(s,i){var u=0;switch(s.tag){case 13:var f=s.stateNode,v=s.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(i),Pv(s,u)}var Nv;Nv=function(s,i,u){if(s!==null)if(s.memoizedProps!==i.pendingProps||Pn.current)Ln=!0;else{if(!(s.lanes&u)&&!(i.flags&128))return Ln=!1,Y9(s,i,u);Ln=!!(s.flags&131072)}else Ln=!1,ot&&i.flags&1048576&&c5(i,gp,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;Lp(s,i),s=i.pendingProps;var v=Hl(i,Jt.current);Xl(i,u),v=U2(null,i,f,s,v,u);var _=V2();return i.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Nn(f)?(_=!0,fp(i)):_=!1,i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,j2(i),v.updater=Pp,i.stateNode=v,v._reactInternals=i,K2(i,f,s,u),i=eg(null,i,f,!0,_,u)):(i.tag=0,ot&&_&&b2(i),gn(null,i,v,u),i=i.child),i;case 16:f=i.elementType;e:{switch(Lp(s,i),s=i.pendingProps,v=f._init,f=v(f._payload),i.type=f,v=i.tag=u6(f),s=Os(f,s),v){case 0:i=J2(null,i,f,s,u);break e;case 1:i=nv(null,i,f,s,u);break e;case 11:i=Z5(null,i,f,s,u);break e;case 14:i=Q5(null,i,f,Os(f.type,s),u);break e}throw Error(t(306,f,""))}return i;case 0:return f=i.type,v=i.pendingProps,v=i.elementType===f?v:Os(f,v),J2(s,i,f,v,u);case 1:return f=i.type,v=i.pendingProps,v=i.elementType===f?v:Os(f,v),nv(s,i,f,v,u);case 3:e:{if(sv(i),s===null)throw Error(t(387));f=i.pendingProps,_=i.memoizedState,v=_.element,y5(s,i),xp(i,f,null,u);var b=i.memoizedState;if(f=b.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},i.updateQueue.baseState=_,i.memoizedState=_,i.flags&256){v=Kl(Error(t(423)),i),i=iv(s,i,f,u,v);break e}else if(f!==v){v=Kl(Error(t(424)),i),i=iv(s,i,f,u,v);break e}else for(Gn=Zr(i.stateNode.containerInfo.firstChild),Wn=i,ot=!0,Fs=null,u=g5(i,null,f,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Wl(),f===v){i=Ji(s,i,u);break e}gn(s,i,f,u)}i=i.child}return i;case 5:return w5(i),s===null&&P2(i),f=i.type,v=i.pendingProps,_=s!==null?s.memoizedProps:null,b=v.children,_2(f,v)?b=null:_!==null&&_2(f,_)&&(i.flags|=32),tv(s,i),gn(s,i,b,u),i.child;case 6:return s===null&&P2(i),null;case 13:return rv(s,i,u);case 4:return F2(i,i.stateNode.containerInfo),f=i.pendingProps,s===null?i.child=Gl(i,null,f,u):gn(s,i,f,u),i.child;case 11:return f=i.type,v=i.pendingProps,v=i.elementType===f?v:Os(f,v),Z5(s,i,f,v,u);case 7:return gn(s,i,i.pendingProps,u),i.child;case 8:return gn(s,i,i.pendingProps.children,u),i.child;case 12:return gn(s,i,i.pendingProps.children,u),i.child;case 10:e:{if(f=i.type._context,v=i.pendingProps,_=i.memoizedProps,b=v.value,et(Cp,f._currentValue),f._currentValue=b,_!==null)if(js(_.value,b)){if(_.children===v.children&&!Pn.current){i=Ji(s,i,u);break e}}else for(_=i.child,_!==null&&(_.return=i);_!==null;){var R=_.dependencies;if(R!==null){b=_.child;for(var D=R.firstContext;D!==null;){if(D.context===f){if(_.tag===1){D=Qi(-1,u&-u),D.tag=2;var H=_.updateQueue;if(H!==null){H=H.shared;var G=H.pending;G===null?D.next=D:(D.next=G.next,G.next=D),H.pending=D}}_.lanes|=u,D=_.alternate,D!==null&&(D.lanes|=u),I2(_.return,u,i),R.lanes|=u;break}D=D.next}}else if(_.tag===10)b=_.type===i.type?null:_.child;else if(_.tag===18){if(b=_.return,b===null)throw Error(t(341));b.lanes|=u,R=b.alternate,R!==null&&(R.lanes|=u),I2(b,u,i),b=_.sibling}else b=_.child;if(b!==null)b.return=_;else for(b=_;b!==null;){if(b===i){b=null;break}if(_=b.sibling,_!==null){_.return=b.return,b=_;break}b=b.return}_=b}gn(s,i,v.children,u),i=i.child}return i;case 9:return v=i.type,f=i.pendingProps.children,Xl(i,u),v=vs(v),f=f(v),i.flags|=1,gn(s,i,f,u),i.child;case 14:return f=i.type,v=Os(f,i.pendingProps),v=Os(f.type,v),Q5(s,i,f,v,u);case 15:return J5(s,i,i.type,i.pendingProps,u);case 17:return f=i.type,v=i.pendingProps,v=i.elementType===f?v:Os(f,v),Lp(s,i),i.tag=1,Nn(f)?(s=!0,fp(i)):s=!1,Xl(i,u),V5(i,f,v),K2(i,f,v,u),eg(null,i,f,!0,s,u);case 19:return av(s,i,u);case 22:return ev(s,i,u)}throw Error(t(156,i.tag))};function Lv(s,i){return u4(s,i)}function c6(s,i,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(s,i,u,f){return new c6(s,i,u,f)}function _g(s){return s=s.prototype,!(!s||!s.isReactComponent)}function u6(s){if(typeof s=="function")return _g(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Fe)return 11;if(s===ke)return 14}return 2}function lo(s,i){var u=s.alternate;return u===null?(u=_s(s.tag,i,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=i,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,i=s.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Hp(s,i,u,f,v,_){var b=2;if(f=s,typeof s=="function")_g(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case U:return da(u.children,v,_,i);case q:b=8,v|=8;break;case Y:return s=_s(12,u,i,v|2),s.elementType=Y,s.lanes=_,s;case ue:return s=_s(13,u,i,v),s.elementType=ue,s.lanes=_,s;case ae:return s=_s(19,u,i,v),s.elementType=ae,s.lanes=_,s;case te:return Up(u,v,_,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case ie:b=10;break e;case he:b=9;break e;case Fe:b=11;break e;case ke:b=14;break e;case Q:b=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=_s(b,u,i,v),i.elementType=s,i.type=f,i.lanes=_,i}function da(s,i,u,f){return s=_s(7,s,f,i),s.lanes=u,s}function Up(s,i,u,f){return s=_s(22,s,f,i),s.elementType=te,s.lanes=u,s.stateNode={isHidden:!1},s}function wg(s,i,u){return s=_s(6,s,null,i),s.lanes=u,s}function xg(s,i,u){return i=_s(4,s.children!==null?s.children:[],s.key,i),i.lanes=u,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function d6(s,i,u,f,v){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ym(0),this.expirationTimes=Ym(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ym(0),this.identifierPrefix=f,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Sg(s,i,u,f,v,_,b,R,D){return s=new d6(s,i,u,R,D),i===1?(i=1,_===!0&&(i|=8)):i=0,_=_s(3,null,null,i),s.current=_,_.stateNode=s,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},j2(_),s}function h6(s,i,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:f==null?null:""+f,children:s,containerInfo:i,implementation:u}}function Rv(s){if(!s)return Jr;s=s._reactInternals;e:{if(Jo(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Nn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(Nn(u))return o5(s,u,i)}return i}function Mv(s,i,u,f,v,_,b,R,D){return s=Sg(u,f,!0,s,v,_,b,R,D),s.context=Rv(null),u=s.current,f=vn(),v=oo(u),_=Qi(f,v),_.callback=i??null,no(u,_,v),s.current.lanes=v,Du(s,v,f),Mn(s,f),s}function Vp(s,i,u,f){var v=i.current,_=vn(),b=oo(v);return u=Rv(u),i.context===null?i.context=u:i.pendingContext=u,i=Qi(_,b),i.payload={element:s},f=f===void 0?null:f,f!==null&&(i.callback=f),s=no(v,i,b),s!==null&&(zs(s,v,b,_),wp(s,v,b)),b}function Wp(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Iv(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<i?u:i}}function Eg(s,i){Iv(s,i),(s=s.alternate)&&Iv(s,i)}var Dv=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ag(s){this._internalRoot=s}Gp.prototype.render=Ag.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));Vp(s,i,null,null)},Gp.prototype.unmount=Ag.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;la(function(){Vp(null,s,null,null)}),i[qi]=null}};function Gp(s){this._internalRoot=s}Gp.prototype.unstable_scheduleHydration=function(s){if(s){var i=y4();s={blockedOn:null,target:s,priority:i};for(var u=0;u<Xr.length&&i!==0&&i<Xr[u].priority;u++);Xr.splice(u,0,s),u===0&&w4(s)}};function bg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function qp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function jv(){}function f6(s,i,u,f,v){if(v){if(typeof f=="function"){var _=f;f=function(){var H=Wp(b);_.call(H)}}var b=Mv(i,f,s,0,null,!1,!1,"",jv);return s._reactRootContainer=b,s[qi]=b.current,Yu(s.nodeType===8?s.parentNode:s),la(),b}for(;v=s.lastChild;)s.removeChild(v);if(typeof f=="function"){var R=f;f=function(){var H=Wp(D);R.call(H)}}var D=Sg(s,0,!1,null,null,!1,!1,"",jv);return s._reactRootContainer=D,s[qi]=D.current,Yu(s.nodeType===8?s.parentNode:s),la(function(){Vp(i,D,u,f)}),D}function Xp(s,i,u,f,v){var _=u._reactRootContainer;if(_){var b=_;if(typeof v=="function"){var R=v;v=function(){var D=Wp(b);R.call(D)}}Vp(i,b,s,v)}else b=f6(u,i,s,v,f);return Wp(b)}g4=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var u=Iu(i.pendingLanes);u!==0&&(Km(i,u|1),Mn(i,yt()),!(ze&6)&&(Jl=yt()+500,eo()))}break;case 13:la(function(){var f=Zi(s,1);if(f!==null){var v=vn();zs(f,s,1,v)}}),Eg(s,1)}},Zm=function(s){if(s.tag===13){var i=Zi(s,134217728);if(i!==null){var u=vn();zs(i,s,134217728,u)}Eg(s,134217728)}},v4=function(s){if(s.tag===13){var i=oo(s),u=Zi(s,i);if(u!==null){var f=vn();zs(u,s,i,f)}Eg(s,i)}},y4=function(){return qe},C4=function(s,i){var u=qe;try{return qe=s,i()}finally{qe=u}},Um=function(s,i,u){switch(i){case"input":if(Dm(s,u),i=u.name,u.type==="radio"&&i!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var f=u[i];if(f!==s&&f.form===s.form){var v=dp(f);if(!v)throw Error(t(90));U3(f),Dm(f,v)}}}break;case"textarea":X3(s,u);break;case"select":i=u.value,i!=null&&Nl(s,!!u.multiple,i,!1)}},s4=vg,i4=la;var p6={usingClientEntryPoint:!1,Events:[Qu,$l,dp,t4,n4,vg]},hd={findFiberByHostInstance:ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m6={bundleType:hd.bundleType,version:hd.version,rendererPackageName:hd.rendererPackageName,rendererConfig:hd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=l4(s),s===null?null:s.stateNode},findFiberByHostInstance:hd.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{Gf=Yp.inject(m6),mi=Yp}catch{}}return In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p6,In.createPortal=function(s,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bg(i))throw Error(t(200));return h6(s,i,null,u)},In.createRoot=function(s,i){if(!bg(s))throw Error(t(299));var u=!1,f="",v=Dv;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Sg(s,1,!1,null,null,u,!1,f,v),s[qi]=i.current,Yu(s.nodeType===8?s.parentNode:s),new Ag(i)},In.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=l4(i),s=s===null?null:s.stateNode,s},In.flushSync=function(s){return la(s)},In.hydrate=function(s,i,u){if(!qp(i))throw Error(t(200));return Xp(null,s,i,!0,u)},In.hydrateRoot=function(s,i,u){if(!bg(s))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,v=!1,_="",b=Dv;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),i=Mv(i,null,s,1,u??null,v,!1,_,b),s[qi]=i.current,Yu(s),f)for(s=0;s<f.length;s++)u=f[s],v=u._getVersion,v=v(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,v]:i.mutableSourceEagerHydrationData.push(u,v);return new Gp(i)},In.render=function(s,i,u){if(!qp(i))throw Error(t(200));return Xp(null,s,i,!1,u)},In.unmountComponentAtNode=function(s){if(!qp(s))throw Error(t(40));return s._reactRootContainer?(la(function(){Xp(null,null,s,!1,function(){s._reactRootContainer=null,s[qi]=null})}),!0):!1},In.unstable_batchedUpdates=vg,In.unstable_renderSubtreeIntoContainer=function(s,i,u,f){if(!qp(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Xp(s,i,u,!1,f)},In.version="18.3.1-next-f1338f8080-20240426",In}var Wv;function By(){if(Wv)return Ng.exports;Wv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Ng.exports=A6(),Ng.exports}var Gv;function b6(){if(Gv)return Kp;Gv=1;var a=By();return Kp.createRoot=a.createRoot,Kp.hydrateRoot=a.hydrateRoot,Kp}var k6=b6(),S=h3();const Nd=C6(S);var pd={},qv;function T6(){if(qv)return pd;qv=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.parse=l,pd.serialize=p;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,w){const x=new o,A=y.length;if(A<2)return x;const T=(w==null?void 0:w.decode)||m;let N=0;do{const L=y.indexOf("=",N);if(L===-1)break;const I=y.indexOf(";",N),M=I===-1?A:I;if(L>M){N=y.lastIndexOf(";",L-1)+1;continue}const F=d(y,N,L),z=h(y,L,F),U=y.slice(F,z);if(x[U]===void 0){let q=d(y,L+1,M),Y=h(y,M,q);const ie=T(y.slice(q,Y));x[U]=ie}N=M+1}while(N<A);return x}function d(y,w,x){do{const A=y.charCodeAt(w);if(A!==32&&A!==9)return w}while(++w<x);return x}function h(y,w,x){for(;w>x;){const A=y.charCodeAt(--w);if(A!==32&&A!==9)return w+1}return x}function p(y,w,x){const A=(x==null?void 0:x.encode)||encodeURIComponent;if(!a.test(y))throw new TypeError(`argument name is invalid: ${y}`);const T=A(w);if(!e.test(T))throw new TypeError(`argument val is invalid: ${w}`);let N=y+"="+T;if(!x)return N;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);N+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);N+="; Domain="+x.domain}if(x.path){if(!n.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);N+="; Path="+x.path}if(x.expires){if(!C(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);N+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(N+="; HttpOnly"),x.secure&&(N+="; Secure"),x.partitioned&&(N+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return N}function m(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function C(y){return r.call(y)==="[object Date]"}return pd}T6();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xv="popstate";function P6(a={}){function e(n,r){let{pathname:o,search:l,hash:d}=n.location;return qg("",{pathname:o,search:l,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:Qd(r)}return L6(e,t,null,a)}function mt(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function di(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N6(){return Math.random().toString(36).substring(2,10)}function Yv(a,e){return{usr:a.state,key:a.key,idx:e}}function qg(a,e,t=null,n){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?bu(e):e,state:t,key:e&&e.key||n||N6()}}function Qd({pathname:a="/",search:e="",hash:t=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(a+=t.charAt(0)==="#"?t:"#"+t),a}function bu(a){let e={};if(a){let t=a.indexOf("#");t>=0&&(e.hash=a.substring(t),a=a.substring(0,t));let n=a.indexOf("?");n>=0&&(e.search=a.substring(n),a=a.substring(0,n)),a&&(e.pathname=a)}return e}function L6(a,e,t,n={}){let{window:r=document.defaultView,v5Compat:o=!1}=n,l=r.history,d="POP",h=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function C(){d="POP";let T=m(),N=T==null?null:T-p;p=T,h&&h({action:d,location:A.location,delta:N})}function y(T,N){d="PUSH";let L=qg(A.location,T,N);p=m()+1;let I=Yv(L,p),M=A.createHref(L);try{l.pushState(I,"",M)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;r.location.assign(M)}o&&h&&h({action:d,location:A.location,delta:1})}function w(T,N){d="REPLACE";let L=qg(A.location,T,N);p=m();let I=Yv(L,p),M=A.createHref(L);l.replaceState(I,"",M),o&&h&&h({action:d,location:A.location,delta:0})}function x(T){let N=r.location.origin!=="null"?r.location.origin:r.location.href,L=typeof T=="string"?T:Qd(T);return L=L.replace(/ $/,"%20"),mt(N,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,N)}let A={get action(){return d},get location(){return a(r,l)},listen(T){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(Xv,C),h=T,()=>{r.removeEventListener(Xv,C),h=null}},createHref(T){return e(r,T)},createURL:x,encodeLocation(T){let N=x(T);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:w,go(T){return l.go(T)}};return A}function $y(a,e,t="/"){return R6(a,e,t,!1)}function R6(a,e,t,n){let r=typeof e=="string"?bu(e):e,o=qo(r.pathname||"/",t);if(o==null)return null;let l=zy(a);M6(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let p=V6(o);d=H6(l[h],p,n)}return d}function zy(a,e=[],t=[],n=""){let r=(o,l,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(mt(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let p=Fr([n,h.relativePath]),m=t.concat(h);o.children&&o.children.length>0&&(mt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),zy(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:$6(p,o.index),routesMeta:m})};return a.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))r(o,l);else for(let h of Hy(o.path))r(o,l,h)}),e}function Hy(a){let e=a.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return r?[o,""]:[o];let l=Hy(n.join("/")),d=[];return d.push(...l.map(h=>h===""?o:[o,h].join("/"))),r&&d.push(...l),d.map(h=>a.startsWith("/")&&h===""?"/":h)}function M6(a){a.sort((e,t)=>e.score!==t.score?t.score-e.score:z6(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var I6=/^:[\w-]+$/,D6=3,j6=2,F6=1,O6=10,B6=-2,Kv=a=>a==="*";function $6(a,e){let t=a.split("/"),n=t.length;return t.some(Kv)&&(n+=B6),e&&(n+=j6),t.filter(r=>!Kv(r)).reduce((r,o)=>r+(I6.test(o)?D6:o===""?F6:O6),n)}function z6(a,e){return a.length===e.length&&a.slice(0,-1).every((n,r)=>n===e[r])?a[a.length-1]-e[e.length-1]:0}function H6(a,e,t=!1){let{routesMeta:n}=a,r={},o="/",l=[];for(let d=0;d<n.length;++d){let h=n[d],p=d===n.length-1,m=o==="/"?e:e.slice(o.length)||"/",C=z1({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),y=h.route;if(!C&&p&&t&&!n[n.length-1].route.index&&(C=z1({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!C)return null;Object.assign(r,C.params),l.push({params:r,pathname:Fr([o,C.pathname]),pathnameBase:X6(Fr([o,C.pathnameBase])),route:y}),C.pathnameBase!=="/"&&(o=Fr([o,C.pathnameBase]))}return l}function z1(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[t,n]=U6(a.path,a.caseSensitive,a.end),r=e.match(t);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:n.reduce((p,{paramName:m,isOptional:C},y)=>{if(m==="*"){let x=d[y]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=d[y];return C&&!w?p[m]=void 0:p[m]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:a}}function U6(a,e=!1,t=!0){di(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let n=[],r="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(n.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(n.push({paramName:"*"}),r+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":a!==""&&a!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function V6(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return di(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function qo(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=a.charAt(t);return n&&n!=="/"?null:a.slice(t)||"/"}function W6(a,e="/"){let{pathname:t,search:n="",hash:r=""}=typeof a=="string"?bu(a):a;return{pathname:t?t.startsWith("/")?t:G6(t,e):e,search:Y6(n),hash:K6(r)}}function G6(a,e){let t=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Mg(a,e,t,n){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function q6(a){return a.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Uy(a){let e=q6(a);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Vy(a,e,t,n=!1){let r;typeof a=="string"?r=bu(a):(r={...a},mt(!r.pathname||!r.pathname.includes("?"),Mg("?","pathname","search",r)),mt(!r.pathname||!r.pathname.includes("#"),Mg("#","pathname","hash",r)),mt(!r.search||!r.search.includes("#"),Mg("#","search","hash",r)));let o=a===""||r.pathname==="",l=o?"/":r.pathname,d;if(l==null)d=t;else{let C=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),C-=1;r.pathname=y.join("/")}d=C>=0?e[C]:"/"}let h=W6(r,d),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var Fr=a=>a.join("/").replace(/\/\/+/g,"/"),X6=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Y6=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,K6=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Z6(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var Wy=["POST","PUT","PATCH","DELETE"];new Set(Wy);var Q6=["GET",...Wy];new Set(Q6);var ku=S.createContext(null);ku.displayName="DataRouter";var ym=S.createContext(null);ym.displayName="DataRouterState";var Gy=S.createContext({isTransitioning:!1});Gy.displayName="ViewTransition";var J6=S.createContext(new Map);J6.displayName="Fetchers";var e7=S.createContext(null);e7.displayName="Await";var Gi=S.createContext(null);Gi.displayName="Navigation";var Lf=S.createContext(null);Lf.displayName="Location";var pi=S.createContext({outlet:null,matches:[],isDataRoute:!1});pi.displayName="Route";var f3=S.createContext(null);f3.displayName="RouteError";function t7(a,{relative:e}={}){mt(Rf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=S.useContext(Gi),{hash:r,pathname:o,search:l}=Mf(a,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:Fr([t,o])),n.createHref({pathname:d,search:l,hash:r})}function Rf(){return S.useContext(Lf)!=null}function Ur(){return mt(Rf(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Lf).location}var qy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xy(a){S.useContext(Gi).static||S.useLayoutEffect(a)}function Vr(){let{isDataRoute:a}=S.useContext(pi);return a?m7():n7()}function n7(){mt(Rf(),"useNavigate() may be used only in the context of a <Router> component.");let a=S.useContext(ku),{basename:e,navigator:t}=S.useContext(Gi),{matches:n}=S.useContext(pi),{pathname:r}=Ur(),o=JSON.stringify(Uy(n)),l=S.useRef(!1);return Xy(()=>{l.current=!0}),S.useCallback((h,p={})=>{if(di(l.current,qy),!l.current)return;if(typeof h=="number"){t.go(h);return}let m=Vy(h,JSON.parse(o),r,p.relative==="path");a==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Fr([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,o,r,a])}var Yy=S.createContext(null);function p3(){return S.useContext(Yy)}function s7(a){let e=S.useContext(pi).outlet;return e&&S.createElement(Yy.Provider,{value:a},e)}function Ky(){let{matches:a}=S.useContext(pi),e=a[a.length-1];return e?e.params:{}}function Mf(a,{relative:e}={}){let{matches:t}=S.useContext(pi),{pathname:n}=Ur(),r=JSON.stringify(Uy(t));return S.useMemo(()=>Vy(a,JSON.parse(r),n,e==="path"),[a,r,n,e])}function i7(a,e){return Zy(a,e)}function Zy(a,e,t,n){var N;mt(Rf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=S.useContext(Gi),{matches:o}=S.useContext(pi),l=o[o.length-1],d=l?l.params:{},h=l?l.pathname:"/",p=l?l.pathnameBase:"/",m=l&&l.route;{let L=m&&m.path||"";Qy(h,!m||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let C=Ur(),y;if(e){let L=typeof e=="string"?bu(e):e;mt(p==="/"||((N=L.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${L.pathname}" was given in the \`location\` prop.`),y=L}else y=C;let w=y.pathname||"/",x=w;if(p!=="/"){let L=p.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(L.length).join("/")}let A=$y(a,{pathname:x});di(m||A!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),di(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=c7(A&&A.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:Fr([p,r.encodeLocation?r.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:Fr([p,r.encodeLocation?r.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),o,t,n);return e&&T?S.createElement(Lf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function r7(){let a=p7(),e=Z6(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),t=a instanceof Error?a.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",a),l=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:r},t):null,l)}var o7=S.createElement(r7,null),a7=class extends S.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?S.createElement(pi.Provider,{value:this.props.routeContext},S.createElement(f3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function l7({routeContext:a,match:e,children:t}){let n=S.useContext(ku);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(pi.Provider,{value:a},t)}function c7(a,e=[],t=null,n=null){if(a==null){if(!t)return null;if(t.errors)a=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)a=t.matches;else return null}let r=a,o=t==null?void 0:t.errors;if(o!=null){let h=r.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);mt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let l=!1,d=-1;if(t)for(let h=0;h<r.length;h++){let p=r[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:m,errors:C}=t,y=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!C||C[p.route.id]===void 0);if(p.route.lazy||y){l=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((h,p,m)=>{let C,y=!1,w=null,x=null;t&&(C=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||o7,l&&(d<0&&m===0?(Qy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):d===m&&(y=!0,x=p.route.hydrateFallbackElement||null)));let A=e.concat(r.slice(0,m+1)),T=()=>{let N;return C?N=w:y?N=x:p.route.Component?N=S.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=h,S.createElement(l7,{match:p,routeContext:{outlet:h,matches:A,isDataRoute:t!=null},children:N})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?S.createElement(a7,{location:t.location,revalidation:t.revalidation,component:w,error:C,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):T()},null)}function m3(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u7(a){let e=S.useContext(ku);return mt(e,m3(a)),e}function d7(a){let e=S.useContext(ym);return mt(e,m3(a)),e}function h7(a){let e=S.useContext(pi);return mt(e,m3(a)),e}function g3(a){let e=h7(a),t=e.matches[e.matches.length-1];return mt(t.route.id,`${a} can only be used on routes that contain a unique "id"`),t.route.id}function f7(){return g3("useRouteId")}function p7(){var n;let a=S.useContext(f3),e=d7("useRouteError"),t=g3("useRouteError");return a!==void 0?a:(n=e.errors)==null?void 0:n[t]}function m7(){let{router:a}=u7("useNavigate"),e=g3("useNavigate"),t=S.useRef(!1);return Xy(()=>{t.current=!0}),S.useCallback(async(r,o={})=>{di(t.current,qy),t.current&&(typeof r=="number"?a.navigate(r):await a.navigate(r,{fromRouteId:e,...o}))},[a,e])}var Zv={};function Qy(a,e,t){!e&&!Zv[a]&&(Zv[a]=!0,di(!1,t))}S.memo(g7);function g7({routes:a,future:e,state:t}){return Zy(a,void 0,t,e)}function v3(a){return s7(a.context)}function sn(a){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function v7({basename:a="/",children:e=null,location:t,navigationType:n="POP",navigator:r,static:o=!1}){mt(!Rf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=a.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof t=="string"&&(t=bu(t));let{pathname:h="/",search:p="",hash:m="",state:C=null,key:y="default"}=t,w=S.useMemo(()=>{let x=qo(h,l);return x==null?null:{location:{pathname:x,search:p,hash:m,state:C,key:y},navigationType:n}},[l,h,p,m,C,y,n]);return di(w!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:S.createElement(Gi.Provider,{value:d},S.createElement(Lf.Provider,{children:e,value:w}))}function y7({children:a,location:e}){return i7(Xg(a),e)}function Xg(a,e=[]){let t=[];return S.Children.forEach(a,(n,r)=>{if(!S.isValidElement(n))return;let o=[...e,r];if(n.type===S.Fragment){t.push.apply(t,Xg(n.props.children,o));return}mt(n.type===sn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Xg(n.props.children,o)),t.push(l)}),t}var c1="get",u1="application/x-www-form-urlencoded";function Cm(a){return a!=null&&typeof a.tagName=="string"}function C7(a){return Cm(a)&&a.tagName.toLowerCase()==="button"}function _7(a){return Cm(a)&&a.tagName.toLowerCase()==="form"}function w7(a){return Cm(a)&&a.tagName.toLowerCase()==="input"}function x7(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function S7(a,e){return a.button===0&&(!e||e==="_self")&&!x7(a)}function Yg(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((e,t)=>{let n=a[t];return e.concat(Array.isArray(n)?n.map(r=>[t,r]):[[t,n]])},[]))}function E7(a,e){let t=Yg(a);return e&&e.forEach((n,r)=>{t.has(r)||e.getAll(r).forEach(o=>{t.append(r,o)})}),t}var Zp=null;function A7(){if(Zp===null)try{new FormData(document.createElement("form"),0),Zp=!1}catch{Zp=!0}return Zp}var b7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ig(a){return a!=null&&!b7.has(a)?(di(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${u1}"`),null):a}function k7(a,e){let t,n,r,o,l;if(_7(a)){let d=a.getAttribute("action");n=d?qo(d,e):null,t=a.getAttribute("method")||c1,r=Ig(a.getAttribute("enctype"))||u1,o=new FormData(a)}else if(C7(a)||w7(a)&&(a.type==="submit"||a.type==="image")){let d=a.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=a.getAttribute("formaction")||d.getAttribute("action");if(n=h?qo(h,e):null,t=a.getAttribute("formmethod")||d.getAttribute("method")||c1,r=Ig(a.getAttribute("formenctype"))||Ig(d.getAttribute("enctype"))||u1,o=new FormData(d,a),!A7()){let{name:p,type:m,value:C}=a;if(m==="image"){let y=p?`${p}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else p&&o.append(p,C)}}else{if(Cm(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=c1,n=null,r=u1,l=a}return o&&r==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:r,formData:o,body:l}}function y3(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function T7(a,e){if(a.id in e)return e[a.id];try{let t=await import(a.module);return e[a.id]=t,t}catch(t){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P7(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function N7(a,e,t){let n=await Promise.all(a.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await T7(o,t);return l.links?l.links():[]}return[]}));return I7(n.flat(1).filter(P7).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Qv(a,e,t,n,r,o){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,d=(h,p)=>{var m;return t[p].pathname!==h.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>l(h,p)||d(h,p)):o==="data"?e.filter((h,p)=>{var C;let m=n.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((C=t[0])==null?void 0:C.params)||{},nextUrl:new URL(a,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function L7(a,e){return R7(a.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r}).flat(1))}function R7(a){return[...new Set(a)]}function M7(a){let e={},t=Object.keys(a).sort();for(let n of t)e[n]=a[n];return e}function I7(a,e){let t=new Set;return new Set(e),a.reduce((n,r)=>{let o=JSON.stringify(M7(r));return t.has(o)||(t.add(o),n.push({key:o,link:r})),n},[])}function D7(a){let e=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function j7(){let a=S.useContext(ku);return y3(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function F7(){let a=S.useContext(ym);return y3(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var C3=S.createContext(void 0);C3.displayName="FrameworkContext";function Jy(){let a=S.useContext(C3);return y3(a,"You must render this element inside a <HydratedRouter> element"),a}function O7(a,e){let t=S.useContext(C3),[n,r]=S.useState(!1),[o,l]=S.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:C}=e,y=S.useRef(null);S.useEffect(()=>{if(a==="render"&&l(!0),a==="viewport"){let A=N=>{N.forEach(L=>{l(L.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[a]),S.useEffect(()=>{if(n){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[n]);let w=()=>{r(!0)},x=()=>{r(!1),l(!1)};return t?a!=="intent"?[o,y,{}]:[o,y,{onFocus:md(d,w),onBlur:md(h,x),onMouseEnter:md(p,w),onMouseLeave:md(m,x),onTouchStart:md(C,w)}]:[!1,y,{}]}function md(a,e){return t=>{a&&a(t),t.defaultPrevented||e(t)}}function B7({page:a,...e}){let{router:t}=j7(),n=S.useMemo(()=>$y(t.routes,a,t.basename),[t.routes,a,t.basename]);return n?S.createElement(z7,{page:a,matches:n,...e}):null}function $7(a){let{manifest:e,routeModules:t}=Jy(),[n,r]=S.useState([]);return S.useEffect(()=>{let o=!1;return N7(a,e,t).then(l=>{o||r(l)}),()=>{o=!0}},[a,e,t]),n}function z7({page:a,matches:e,...t}){let n=Ur(),{manifest:r,routeModules:o}=Jy(),{loaderData:l,matches:d}=F7(),h=S.useMemo(()=>Qv(a,e,d,r,n,"data"),[a,e,d,r,n]),p=S.useMemo(()=>Qv(a,e,d,r,n,"assets"),[a,e,d,r,n]),m=S.useMemo(()=>{if(a===n.pathname+n.search+n.hash)return[];let w=new Set,x=!1;if(e.forEach(T=>{var L;let N=r.routes[T.route.id];!N||!N.hasLoader||(!h.some(I=>I.route.id===T.route.id)&&T.route.id in l&&((L=o[T.route.id])!=null&&L.shouldRevalidate)||N.hasClientLoader?x=!0:w.add(T.route.id))}),w.size===0)return[];let A=D7(a);return x&&w.size>0&&A.searchParams.set("_routes",e.filter(T=>w.has(T.route.id)).map(T=>T.route.id).join(",")),[A.pathname+A.search]},[l,n,r,h,e,a,o]),C=S.useMemo(()=>L7(p,r),[p,r]),y=$7(p);return S.createElement(S.Fragment,null,m.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),C.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),y.map(({key:w,link:x})=>S.createElement("link",{key:w,...x})))}function H7(...a){return e=>{a.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var eC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eC&&(window.__reactRouterVersion="7.1.3")}catch{}function U7({basename:a,children:e,window:t}){let n=S.useRef();n.current==null&&(n.current=P6({window:t,v5Compat:!0}));let r=n.current,[o,l]=S.useState({action:r.action,location:r.location}),d=S.useCallback(h=>{S.startTransition(()=>l(h))},[l]);return S.useLayoutEffect(()=>r.listen(d),[r,d]),S.createElement(v7,{basename:a,children:e,location:o.location,navigationType:o.action,navigator:r})}var tC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nC=S.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:o,replace:l,state:d,target:h,to:p,preventScrollReset:m,viewTransition:C,...y},w){let{basename:x}=S.useContext(Gi),A=typeof p=="string"&&tC.test(p),T,N=!1;if(typeof p=="string"&&A&&(T=p,eC))try{let Y=new URL(window.location.href),ie=p.startsWith("//")?new URL(Y.protocol+p):new URL(p),he=qo(ie.pathname,x);ie.origin===Y.origin&&he!=null?p=he+ie.search+ie.hash:N=!0}catch{di(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=t7(p,{relative:r}),[I,M,F]=O7(n,y),z=q7(p,{replace:l,state:d,target:h,preventScrollReset:m,relative:r,viewTransition:C});function U(Y){e&&e(Y),Y.defaultPrevented||z(Y)}let q=S.createElement("a",{...y,...F,href:T||L,onClick:N||o?e:U,ref:H7(w,M),target:h,"data-discover":!A&&t==="render"?"true":void 0});return I&&!A?S.createElement(S.Fragment,null,q,S.createElement(B7,{page:L})):q});nC.displayName="Link";var V7=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:o,to:l,viewTransition:d,children:h,...p},m){let C=Mf(l,{relative:p.relative}),y=Ur(),w=S.useContext(ym),{navigator:x,basename:A}=S.useContext(Gi),T=w!=null&&Q7(C)&&d===!0,N=x.encodeLocation?x.encodeLocation(C).pathname:C.pathname,L=y.pathname,I=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(L=L.toLowerCase(),I=I?I.toLowerCase():null,N=N.toLowerCase()),I&&A&&(I=qo(I,A)||I);const M=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let F=L===N||!r&&L.startsWith(N)&&L.charAt(M)==="/",z=I!=null&&(I===N||!r&&I.startsWith(N)&&I.charAt(N.length)==="/"),U={isActive:F,isPending:z,isTransitioning:T},q=F?e:void 0,Y;typeof n=="function"?Y=n(U):Y=[n,F?"active":null,z?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let ie=typeof o=="function"?o(U):o;return S.createElement(nC,{...p,"aria-current":q,className:Y,ref:m,style:ie,to:l,viewTransition:d},typeof h=="function"?h(U):h)});V7.displayName="NavLink";var W7=S.forwardRef(({discover:a="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:r,state:o,method:l=c1,action:d,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:C,...y},w)=>{let x=K7(),A=Z7(d,{relative:p}),T=l.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&tC.test(d),L=I=>{if(h&&h(I),I.defaultPrevented)return;I.preventDefault();let M=I.nativeEvent.submitter,F=(M==null?void 0:M.getAttribute("formmethod"))||l;x(M||I.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:r,state:o,relative:p,preventScrollReset:m,viewTransition:C})};return S.createElement("form",{ref:w,method:T,action:A,onSubmit:n?h:L,...y,"data-discover":!N&&a==="render"?"true":void 0})});W7.displayName="Form";function G7(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sC(a){let e=S.useContext(ku);return mt(e,G7(a)),e}function q7(a,{target:e,replace:t,state:n,preventScrollReset:r,relative:o,viewTransition:l}={}){let d=Vr(),h=Ur(),p=Mf(a,{relative:o});return S.useCallback(m=>{if(S7(m,e)){m.preventDefault();let C=t!==void 0?t:Qd(h)===Qd(p);d(a,{replace:C,state:n,preventScrollReset:r,relative:o,viewTransition:l})}},[h,d,p,t,n,e,a,r,o,l])}function iC(a){di(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=S.useRef(Yg(a)),t=S.useRef(!1),n=Ur(),r=S.useMemo(()=>E7(n.search,t.current?null:e.current),[n.search]),o=Vr(),l=S.useCallback((d,h)=>{const p=Yg(typeof d=="function"?d(r):d);t.current=!0,o("?"+p,h)},[o,r]);return[r,l]}var X7=0,Y7=()=>`__${String(++X7)}__`;function K7(){let{router:a}=sC("useSubmit"),{basename:e}=S.useContext(Gi),t=f7();return S.useCallback(async(n,r={})=>{let{action:o,method:l,encType:d,formData:h,body:p}=k7(n,e);if(r.navigate===!1){let m=r.fetcherKey||Y7();await a.fetch(m,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:p,formMethod:r.method||l,formEncType:r.encType||d,flushSync:r.flushSync})}else await a.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:p,formMethod:r.method||l,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[a,e,t])}function Z7(a,{relative:e}={}){let{basename:t}=S.useContext(Gi),n=S.useContext(pi);mt(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),o={...Mf(a||".",{relative:e})},l=Ur();if(a==null){o.search=l.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(m=>m==="")){d.delete("index"),h.filter(C=>C).forEach(C=>d.append("index",C));let m=d.toString();o.search=m?`?${m}`:""}}return(!a||a===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Fr([t,o.pathname])),Qd(o)}function Q7(a,e={}){let t=S.useContext(Gy);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=sC("useViewTransitionState"),r=Mf(a,{relative:e.relative});if(!t.isTransitioning)return!1;let o=qo(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=qo(t.nextLocation.pathname,n)||t.nextLocation.pathname;return z1(r.pathname,l)!=null||z1(r.pathname,o)!=null}new TextEncoder;const J7="_homeLayout_15r47_1",ew="_logo_15r47_10",tw="_buttonContainer_15r47_15",nw="_professorButton_15r47_22",sw="_studentButton_15r47_35",gd={homeLayout:J7,logo:ew,buttonContainer:tw,professorButton:nw,studentButton:sw},If=a=>S.createElement("svg",{width:1162,height:182,viewBox:"0 0 1162 182",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M99.0723 179.001L49.2496 121.647H44.514V167.001C44.514 173.629 39.1414 179.001 32.514 179.001H12C5.37258 179.001 0 173.629 0 167.001V35.4824C0 28.855 5.37258 23.4824 12 23.4824H70.2753C83.156 23.4824 94.0477 25.6884 103.045 30.0083C111.948 34.3283 118.767 40.3027 123.313 47.8397C127.859 55.3767 130.132 63.9247 130.132 73.3C130.132 83.8701 127.102 93.1535 121.135 101.242C115.168 109.238 106.36 114.937 94.9001 118.338L131.223 159.008C138.129 166.74 132.641 179.001 122.273 179.001H81.2618H99.0723ZM44.514 92.0505H66.5816C72.6431 92.0505 77.1892 90.6718 80.22 87.8224C83.2507 85.065 84.7661 81.0208 84.7661 75.6897C84.7661 70.7264 83.2507 66.7741 80.1252 63.9247C76.9998 61.0754 72.5484 59.6047 66.5816 59.6047H44.514V92.0505Z",fill:"#0028FD"}),S.createElement("path",{d:"M271.317 125.875H187.025C187.498 132.677 189.393 137.641 192.802 140.949C196.212 144.258 200.568 145.913 205.872 145.913C210.51 145.913 214.327 144.645 217.323 142.086C220.796 139.119 224.676 136.17 229.244 136.17H254.216C261.942 136.17 267.705 143.488 263.953 150.242C262.245 153.318 260.219 156.228 257.868 158.965C252.186 165.582 244.988 170.913 236.369 174.774C227.75 178.634 218.185 180.473 207.767 180.473C195.17 180.473 183.994 177.899 174.239 172.752C164.484 167.605 156.812 160.251 151.319 150.692C145.826 141.133 142.984 129.92 142.984 116.96C142.984 104 145.731 92.7863 151.129 83.3192C156.623 73.852 164.2 66.4988 173.955 61.3516C183.71 56.2044 194.981 53.6309 207.672 53.6309C220.363 53.6309 231.349 56.1125 241.105 61.1678C250.86 66.2231 258.342 73.3005 263.835 82.6758C269.328 92.051 271.98 102.989 271.98 115.673C271.98 119.074 271.791 122.475 271.317 125.784V125.875ZM226.519 104.919C226.519 99.588 224.72 95.4519 221.026 92.4187C217.427 89.3855 212.881 87.9149 207.388 87.9149C201.894 87.9149 197.443 89.3855 193.939 92.2349C190.434 95.0842 188.161 99.3123 187.12 104.919H226.425H226.519Z",fill:"#0028FD"}),S.createElement("path",{d:"M290.071 83.5029C294.807 73.9438 301.342 66.5907 309.581 61.4435C317.821 56.2963 327.008 53.7227 337.237 53.7227C346.045 53.7227 353.622 55.3771 359.968 58.778C366.313 62.1788 371.238 66.6826 374.742 72.4732V67.2852C374.742 60.6578 380.115 55.2852 386.742 55.2852H407.256C413.884 55.2852 419.256 60.6578 419.256 67.2852V167.002C419.256 173.629 413.884 179.002 407.256 179.002H386.742C380.115 179.002 374.742 173.629 374.742 167.002V161.814C371.238 167.513 366.313 172.108 359.873 175.509C353.432 178.91 345.856 180.564 337.237 180.564C327.103 180.564 317.916 177.991 309.581 172.844C301.247 167.696 294.807 160.343 290.071 150.692C285.335 141.041 282.873 129.828 282.873 117.052C282.873 104.276 285.241 93.062 290.071 83.5029ZM362.018 100.301C357.567 95.7054 352.073 93.4994 345.538 93.4994C339.003 93.4994 333.321 95.7054 328.964 100.209C324.607 104.713 322.334 110.963 322.334 119.052C322.334 127.14 324.513 133.298 328.964 137.894C333.415 142.49 338.909 144.88 345.538 144.88C352.168 144.88 357.567 142.582 362.018 138.078C366.469 133.482 368.742 127.232 368.742 119.144C368.742 111.055 366.469 104.989 362.018 100.393V100.301Z",fill:"#0028FD"}),S.createElement("path",{d:"M445.68 83.5029C451.173 73.9438 458.75 66.5907 468.506 61.4435C478.261 56.2963 489.437 53.7227 502.033 53.7227C518.229 53.7227 531.867 58.0426 542.948 66.5907C550.399 72.4003 556.052 79.7059 559.935 88.5635C562.991 95.5358 557.205 102.621 549.592 102.621H525.69C520.55 102.621 516.388 98.9585 512.89 95.1917C509.978 92.0562 506.075 90.4884 501.181 90.4884C495.593 90.4884 491.141 92.6943 487.921 97.1981C484.701 101.702 482.996 108.228 482.996 116.96C482.996 125.692 484.606 132.217 487.921 136.813C491.141 141.409 495.593 143.615 501.181 143.615C506.093 143.615 509.983 142.109 512.85 139.097C516.458 135.306 520.65 131.482 525.884 131.482H549.556C557.18 131.482 562.964 138.587 559.879 145.56C555.998 154.333 550.364 161.639 542.948 167.421C531.867 176.061 518.229 180.472 502.033 180.472C489.437 180.472 478.261 177.899 468.506 172.752C458.75 167.604 451.079 160.251 445.68 150.692C440.282 141.133 437.535 129.92 437.535 116.96C437.535 104 440.282 92.9701 445.68 83.411V83.5029Z",fill:"#0028FD"}),S.createElement("path",{d:"M646.058 142.143C652.686 142.143 658.058 147.516 658.058 154.143V167.001C658.058 173.628 652.686 179.001 646.058 179.001H638.737C606.157 179.001 589.866 163.376 589.866 132.033V91.2228H586.145C579.517 91.2228 574.145 85.8503 574.145 79.2228V67.2844C574.145 60.6569 579.517 55.2844 586.145 55.2844H589.866V37.3203C589.866 30.6929 595.239 25.3203 601.866 25.3203H622.665C629.292 25.3203 634.665 30.6929 634.665 37.3203V55.2844H645.869C652.496 55.2844 657.869 60.6569 657.869 67.2844V79.2228C657.869 85.8503 652.496 91.2228 645.869 91.2228H634.665V132.676C634.665 136.077 635.422 138.467 637.032 139.937C638.642 141.408 641.294 142.143 645.083 142.143H646.058Z",fill:"#0028FD"}),S.createElement("path",{d:"M724.548 85.7992C719.812 81.5712 717.35 76.2401 717.35 69.8061C717.35 63.3721 719.717 57.9492 724.548 53.7211C729.378 49.493 735.629 47.2871 743.49 47.2871C751.351 47.2871 757.507 49.4011 762.243 53.7211C766.978 58.0411 769.44 63.3721 769.44 69.8061C769.44 76.2401 767.073 81.3873 762.243 85.7073C757.412 90.0273 751.256 92.1413 743.49 92.1413C735.724 92.1413 729.283 90.0273 724.548 85.8911V85.7992ZM724.548 174.497C719.812 170.268 717.35 164.937 717.35 158.503C717.35 152.069 719.717 146.646 724.548 142.418C729.283 138.19 735.629 135.984 743.49 135.984C751.351 135.984 757.507 138.098 762.243 142.418C766.978 146.646 769.44 152.069 769.44 158.503C769.44 164.937 767.073 170.085 762.243 174.405C757.507 178.633 751.256 180.839 743.49 180.839C735.724 180.839 729.283 178.725 724.548 174.588V174.497Z",fill:"#0028FD"}),S.createElement("path",{d:"M1161.21 167.001C1161.21 173.629 1155.84 179.001 1149.21 179.001H1123.04C1119.07 179.001 1115.36 177.04 1113.12 173.762L1057.41 92.0505V167.001C1057.41 173.629 1052.04 179.001 1045.41 179.001H1024.89C1018.27 179.001 1012.89 173.629 1012.89 167.001V35.4824C1012.89 28.855 1018.27 23.4824 1024.89 23.4824H1051.02C1055.01 23.4824 1058.75 25.4683 1060.98 28.7802L1116.7 111.536V35.4824C1116.7 28.855 1122.07 23.4824 1128.7 23.4824H1149.21C1155.84 23.4824 1161.21 28.855 1161.21 35.4824V167.001Z",fill:"#0028FD"}),S.createElement("rect",{x:894.348,width:34,height:52,rx:17,fill:"url(#paint0_linear_2284_12309)"}),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M933.525 67.901C935.202 69.1224 936.767 70.5191 938.222 72.0929C944.757 79.2623 948.072 89.2809 948.072 101.322C948.072 113.362 944.852 123.013 938.222 130.183C931.687 137.444 922.879 141.029 911.324 141.029C899.769 141.029 890.772 137.536 884.237 130.367C877.702 123.197 874.482 113.638 874.482 101.322C874.482 89.0052 877.702 79.2623 884.237 72.0929C885.957 70.2301 887.861 68.6093 889.94 67.2321L874.797 29.2734C873.125 30.0381 871.474 30.861 869.841 31.7426C857.244 38.4523 847.3 47.9195 839.912 60.0522C832.62 72.1849 828.926 85.8801 828.926 101.23C828.926 116.579 832.525 130.275 839.912 142.407C847.3 154.54 857.244 164.099 869.841 170.901C882.437 177.794 896.17 181.195 911.229 181.195C926.288 181.195 940.022 177.702 952.618 170.901C965.12 164.007 975.064 154.54 982.357 142.407C989.65 130.275 993.249 116.579 993.249 101.23C993.249 85.8801 989.65 72.1849 982.357 60.0522C975.064 47.9195 965.214 38.5442 952.713 31.7426C951.431 31.0546 950.134 30.4015 948.823 29.7832L933.525 67.901Z",fill:"url(#paint1_linear_2284_12309)"}),S.createElement("defs",null,S.createElement("linearGradient",{id:"paint0_linear_2284_12309",x1:911.348,y1:289247e-14,x2:911.496,y2:104,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#B0BCFE"}),S.createElement("stop",{offset:1,stopColor:"#0028FD"})),S.createElement("linearGradient",{id:"paint1_linear_2284_12309",x1:911.087,y1:21.6318,x2:911.087,y2:181.195,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#0028FD"}),S.createElement("stop",{offset:1,stopColor:"#0028FD"})))),iw=()=>{const a=Vr();return g.jsxs("div",{className:gd.homeLayout,children:[g.jsx(If,{className:gd.logo}),g.jsxs("div",{className:gd.buttonContainer,children:[g.jsx("button",{type:"button",className:gd.professorButton,onClick:()=>a("/professor/login"),children:"교수 페이지로 이동"}),g.jsx("button",{type:"button",className:gd.studentButton,onClick:()=>a("/student"),children:"학생 페이지로 이동"})]})]})},rw="_gnb_oqa7s_1",ow="_left_oqa7s_11",aw="_logo_oqa7s_18",lw="_inputContainer_oqa7s_23",cw="_input_oqa7s_23",uw="_searchButton_oqa7s_49",dw="_closeIcon_oqa7s_61",hw="_searchIcon_oqa7s_68",fw="_profile_oqa7s_87",pw="_profileImage_oqa7s_99",mw="_container_oqa7s_111",Dn={gnb:rw,left:ow,logo:aw,inputContainer:lw,input:cw,searchButton:uw,closeIcon:dw,searchIcon:hw,profile:fw,profileImage:pw,container:mw},_3=a=>S.createElement("svg",{width:36,height:36,viewBox:"0 0 36 36",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M18 18C15.525 18 13.4062 17.1187 11.6437 15.3562C9.88125 13.5937 9 11.475 9 9C9 6.525 9.88125 4.40625 11.6437 2.64375C13.4062 0.88125 15.525 0 18 0C20.475 0 22.5937 0.88125 24.3562 2.64375C26.1187 4.40625 27 6.525 27 9C27 11.475 26.1187 13.5937 24.3562 15.3562C22.5937 17.1187 20.475 18 18 18ZM0 31.5V29.7C0 28.425 0.3285 27.2535 0.9855 26.1855C1.6425 25.1175 2.514 24.3015 3.6 23.7375C5.925 22.575 8.2875 21.7035 10.6875 21.123C13.0875 20.5425 15.525 20.2515 18 20.25C20.475 20.2485 22.9125 20.5395 25.3125 21.123C27.7125 21.7065 30.075 22.578 32.4 23.7375C33.4875 24.3 34.3597 25.116 35.0167 26.1855C35.6737 27.255 36.0015 28.4265 36 29.7V31.5C36 32.7375 35.5597 33.7972 34.6792 34.6792C33.7987 35.5612 32.739 36.0015 31.5 36H4.5C3.2625 36 2.2035 35.5597 1.323 34.6792C0.4425 33.7987 0.0015 32.739 0 31.5Z",fill:"#B0BCFE"})),gw=a=>S.createElement("svg",{width:27,height:26,viewBox:"0 0 27 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M24.626 24.25L17.1261 16.75M19.626 10.5C19.626 15.3325 15.7085 19.25 10.876 19.25C6.04348 19.25 2.12598 15.3325 2.12598 10.5C2.12598 5.66751 6.04348 1.75 10.876 1.75C15.7085 1.75 19.626 5.66751 19.626 10.5Z",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"})),Vi=a=>S.createElement("svg",{width:22,height:22,viewBox:"0 0 22 22",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M20 2L2 20M2 2L20 20",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"})),vw="https://softeer-reacton.shop";class yw{login(e){window.location.href=`${vw}/auth/${e}/url`}}class Ms extends Error{constructor(t){super(t.message);ye(this,"errorCode");this.name="ClientError",this.errorCode=t.errorCode}}class Eu extends Error{constructor(t){super(t.message);ye(this,"errorCode");this.name="ServerError",this.errorCode=t.errorCode}}const Cw=["image/png","image/jpeg","image/jpg","image/webp"],Kg=a=>{if(!Cw.includes(a.type))throw new Ms({success:!1,errorCode:"INVALID_IMAGE_TYPE",message:"이미지 파일만 업로드 가능합니다."});if(a.size>5*1024*1024)throw new Ms({success:!1,errorCode:"INVALID_IMAGE_SIZE",message:"이미지 파일은 5MB 이하만 업로드 가능합니다."})},_w=a=>{if(!a)throw new Ms({success:!1,errorCode:"INVALID_NAME",message:"이름을 입력해주세요."});if(a.length>20)throw new Ms({success:!1,errorCode:"INVALID_NAME_LENGTH",message:"이름은 20자 이하로 입력해주세요."});if(!/^[A-Za-z가-힣]+$/.test(a))throw new Ms({success:!1,errorCode:"INVALID_NAME_REGEX",message:"이름은 한글과 영문 대소문자만 입력 가능합니다."})},rC=a=>{if(a.type!=="application/pdf")throw new Ms({success:!1,errorCode:"INVALID_FILE_TYPE",message:"파일 형식이 올바르지 않습니다."});if(a.size>100*1024*1024)throw new Ms({success:!1,errorCode:"INVALID_FILE_SIZE",message:"파일은 100MB 이하만 업로드 가능합니다."})},oC=["일","월","화","수","목","금","토"],Jd=a=>oC[a],qd=a=>{switch(a){case"전공":return"purple";case"교양":return"green";default:return"gray"}},H1=a=>{const[e,t]=a.split(":"),n=new Date;return n.setHours(Number(e),Number(t),0,0),n},Jv=a=>{const e=H1(a).getTime()-Date.now();return e>0&&e<36e5},ww=a=>!a||a.hour<0||a.minute<0||a.second<0?"00 : 00 : 00":`${a.hour.toString().padStart(2,"0")} : ${a.minute.toString().padStart(2,"0")} : ${a.second.toString().padStart(2,"0")}`;function xw(){const a=new Date,e=a.getFullYear(),t=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),r=oC[a.getDay()];return`${e}.${t}.${n} (${r})`}function aC(a,e){const t=[];for(let n=0;n<a.length;n+=e)t.push(a.slice(n,n+e));return t}const Xd=["월","화","수","목","금","토","일"],w3=["전공","교양","기타"],U1=(a,e)=>`${a.day} ${a.start} - ${a.end}${e?"":", "}`,lC=(a,e,t)=>a.filter(n=>(e==="수업 요일"||n.schedule.find(r=>r.day===e.slice(0,1)))&&(t==="수업 종류"||t===n.classType)),ey=a=>{const e=new Date(a),t=(e.getHours()+9).toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0");return`${t}:${n}`},nt=async a=>{if(!a.ok)if(a.status>=500){if(a.status===502)throw new Eu({success:!1,errorCode:"BAD_GATEWAY",message:"Server Error"});const e=await a.json();throw new Eu(e)}else if(a.status>=400){const e=await a.json();throw new Ms(e)}else throw new Error("Unknown Error")},tr="https://softeer-reacton.shop";class Sw{async startCourse(e){const t=await fetch(`${tr}/professors/courses/${e}/start`,{method:"PATCH"});await nt(t)}async enterCourse(e){const t=await fetch(`${tr}/students/courses/${e}/in`,{method:"POST"});await nt(t),t.redirected&&(window.location.href=t.url)}async closeCourse(e){const t=await fetch(`${tr}/professors/courses/${e}/close`,{method:"PATCH"});await nt(t)}async checkQuestionByProfessor(e){const t=await fetch(`${tr}/professors/questions/check/${e}`,{method:"POST",headers:{"Content-Type":"application/json"}});await nt(t)}async checkQuestionByStudent(e){const t=await fetch(`${tr}/students/questions/check/${e}`,{method:"POST",headers:{"Content-Type":"application/json"}});await nt(t)}async sendQuestion(e){const t={content:e},n=await fetch(`${tr}/students/questions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});await nt(n);const r=await n.json();return{id:r.data.id,createdAt:ey(r.data.createdAt),content:r.data.content}}async sendRequest(e){const t={content:e},n=await fetch(`${tr}/students/requests`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});await nt(n)}async sendReaction(e){const t={content:e},n=await fetch(`${tr}/students/reactions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});await nt(n)}async getQuestions(){const e=await fetch(`${tr}/students/questions`,{method:"GET"});return await nt(e),(await e.json()).data.questions.map(r=>({id:r.id,createdAt:ey(r.createdAt),content:r.content}))}}const oi={kind:"DIFFICULT",title:"어려워요 🥲",description:"한번만 더 설명해주세요!"},ai={kind:"TOO_FAST",title:"너무 빨라요 😣",description:"조금만 더 천천히 부탁드려요!"},li={kind:"HAVE_QUESTION",title:"질문 있어요 🥺",description:"질문창 한번 봐주세요!"},ci={kind:"SCREEN_ISSUE",title:"화면이 잘 안 보여요 🧐",description:"확대 부탁드려요!"},ui={kind:"SOUND_ISSUE",title:"소리가 잘 안 들려요 😕",description:"조금만 더 크게 부탁드려요!"},_i="https://softeer-reacton.shop";class Ew{async createCourse(e){const t={name:e.name,courseCode:e.code,capacity:e.capacity,university:e.university,type:e.classType==="전공"?"MAJOR":e.classType==="교양"?"GENERAL":"OTHER",schedules:e.schedule.map(r=>({day:r.day,startTime:r.start,endTime:r.end}))},n=await fetch(`${_i}/professors/courses`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});await nt(n)}async getHomeCourses(){const e=await fetch(`${_i}/professors/courses/home`,{method:"GET"});await nt(e);const t=await e.json(),n=t.data.today.map(o=>({id:o.id,name:o.name,code:o.courseCode,capacity:o.capacity,university:o.university,classType:o.type==="MAJOR"?"전공":o.type==="GENERAL"?"교양":"기타",schedule:o.schedules.map(l=>({day:l.day,start:l.startTime,end:l.endTime})),accessCode:o.accessCode,fileName:o.fileName}))||[],r=t.data.all.map(o=>({id:o.id,name:o.name,code:o.courseCode,capacity:o.capacity,university:o.university,classType:o.type==="MAJOR"?"전공":o.type==="GENERAL"?"교양":"기타",schedule:o.schedules.map(l=>({day:l.day,start:l.startTime,end:l.endTime})),accessCode:o.accessCode,fileName:o.fileName}))||[];return{todayCourse:n,totalCourse:r}}async getOpenedCourse(){const e=await fetch(`${_i}/professors/courses/active`,{method:"GET",redirect:"follow"});await nt(e),e.redirected&&(window.location.href=e.url);const n=(await e.json()).data;return{id:n.id,name:n.name,code:n.courseCode,capacity:n.capacity,university:n.university,classType:n.type==="MAJOR"?"전공":n.type==="GENERAL"?"교양":"기타",schedule:n.schedules.map(o=>({day:o.day,start:o.startTime,end:o.endTime})),accessCode:n.accessCode,fileName:n.fileName}}async searchCourses(e){const t=await fetch(`${_i}/professors/courses?keyword=${e}`,{method:"GET"});return await nt(t),(await t.json()).data.map(l=>({id:l.id,name:l.name,code:l.courseCode,capacity:l.capacity,university:l.university,classType:l.type==="MAJOR"?"전공":l.type==="GENERAL"?"교양":"기타",schedule:l.schedules.map(d=>({day:d.day,start:d.startTime,end:d.endTime})),accessCode:l.accessCode,fileName:l.fileName}))}async getCourseById(e){var l,d,h,p,m,C,y,w,x,A;const t=await fetch(`${_i}/professors/courses/${e}`,{method:"GET"});await nt(t);const r=(await t.json()).data;return{id:r.id,name:r.name,code:r.courseCode,capacity:r.capacity,university:r.university,classType:r.type==="MAJOR"?"전공":r.type==="GENERAL"?"교양":"기타",schedule:r.schedules.map(T=>({day:T.day,start:T.startTime,end:T.endTime})),accessCode:r.accessCode,fileName:r.fileName,questions:r.questions.map(T=>({id:T.id,createdAt:T.time,content:T.content})),requests:[{type:oi,count:(d=(l=r.requests)==null?void 0:l.find(T=>T.type===oi.kind))==null?void 0:d.count},{type:ai,count:(p=(h=r.requests)==null?void 0:h.find(T=>T.type===ai.kind))==null?void 0:p.count},{type:li,count:(C=(m=r.requests)==null?void 0:m.find(T=>T.type===li.kind))==null?void 0:C.count},{type:ci,count:(w=(y=r.requests)==null?void 0:y.find(T=>T.type===ci.kind))==null?void 0:w.count},{type:ui,count:(A=(x=r.requests)==null?void 0:x.find(T=>T.type===ui.kind))==null?void 0:A.count}]}}async getCourseFileUrl(e){const t=await fetch(`${_i}/professors/courses/${e}/file`,{method:"GET"});return await nt(t),(await t.json()).data.fileUrl}async getCourseSummary(e){const t=await fetch(`${_i}/students/courses/${e}/summary`,{method:"GET"});await nt(t);const n=await t.json(),r=n.data;return{name:r.name,code:r.courseCode,capacity:r.capacity,university:r.university,classType:r.type==="MAJOR"?"전공":n.data.type==="GENERAL"?"교양":"기타",schedule:r.schedules.map(l=>({day:l.day,start:l.startTime,end:l.endTime}))}}async updateCourse(e){const t={name:e.name,courseCode:e.code,capacity:e.capacity,university:e.university,type:e.classType==="전공"?"MAJOR":e.classType==="교양"?"GENERAL":"OTHER",schedules:e.schedule.map(r=>({day:r.day,startTime:r.start,endTime:r.end}))},n=await fetch(`${_i}/professors/courses/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});await nt(n)}async uploadCourseFile(e,t){const n=new FormData;n.append("file",t);const r=await fetch(`${_i}/professors/courses/${e}/file`,{method:"POST",body:n});return await nt(r),(await r.json()).data.filename}async deleteCourse(e){const t=await fetch(`${_i}/professors/courses/${e}`,{method:"DELETE"});await nt(t)}}const ha="https://softeer-reacton.shop";class Aw{constructor(){ye(this,"ProfessorCache",null)}async createProfessor(e,t){const n=new FormData;n.append("name",e),t&&n.append("profileImage",t);const r=await fetch(`${ha}/professors/signup`,{method:"POST",body:n});await nt(r),r.redirected&&(window.location.href=r.url)}async getProfessor(){if(this.ProfessorCache)return this.ProfessorCache;const e=await fetch(`${ha}/professors`,{method:"GET"});await nt(e);const t=await e.json(),n={name:t.data.name.toString(),email:t.data.email.toString(),profileURL:t.data.imageUrl.toString()};return this.ProfessorCache=n,n}async getProfessorProfile(){if(this.ProfessorCache)return this.ProfessorCache.profileURL;const e=await fetch(`${ha}/professors/image`,{method:"GET"});return await nt(e),(await e.json()).data.imageUrl.toString()}async logout(){const e=await fetch(`${ha}/professors/logout`,{method:"POST"});await nt(e),this.ProfessorCache=null,e.redirected&&(window.location.href=e.url)}async updateProfessorName(e){const t={name:e},n=await fetch(`${ha}/professors/name`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});await nt(n);const r=await n.json();return this.ProfessorCache={name:r.data.name.toString(),email:this.ProfessorCache?this.ProfessorCache.email:"",profileURL:this.ProfessorCache?this.ProfessorCache.profileURL:""},r.data.name.toString()}async updateProfessorProfile(e){const t=new FormData;e&&t.append("profileImage",e);const n=await fetch(`${ha}/professors/image`,{method:"PATCH",body:t});await nt(n);const r=await n.json();return this.ProfessorCache={name:this.ProfessorCache?this.ProfessorCache.name:"",email:this.ProfessorCache?this.ProfessorCache.email:"",profileURL:r.data.imageUrl.toString()},r.data.imageUrl.toString()}async deleteProfessor(){const e=await fetch(`${ha}/professors`,{method:"DELETE",redirect:"follow"});await nt(e),this.ProfessorCache=null,e.redirected&&(window.location.href=e.url)}}const bw=new yw,$r=new Sw,fs=new Ew,ya=new Aw;var kw=By();const Zo=()=>{const[a,e]=S.useState(!1);return{openModal:()=>e(!0),closeModal:()=>e(!1),Modal:({children:o})=>{if(S.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[]),!a)return null;const l=Nd.createElement("div",{style:{width:"100%",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1e3,overflow:"hidden"}},o);return kw.createPortal(l,document.body)}}},Tw="_modal_loc34_1",Pw="_closeButton_loc34_13",Nw="_modalContent_loc34_20",Lw="_icon_loc34_30",Rw="_redIcon_loc34_35 _icon_loc34_30",Mw="_blueIcon_loc34_50 _icon_loc34_30",Iw="_modalBody_loc34_65",Dw="_modalText_loc34_74",jw="_modalTitle_loc34_81",Fw="_modalDescription_loc34_89",Ow="_modalButton_loc34_97",Ai={modal:Tw,closeButton:Pw,modalContent:Nw,icon:Lw,redIcon:Rw,blueIcon:Mw,modalBody:Iw,modalText:Dw,modalTitle:jw,modalDescription:Fw,modalButton:Ow},Bw="_textButton_azvq9_1",$w="_webButton1_azvq9_14",zw="_webButton2_azvq9_19",Hw="_webButton3_azvq9_24",Uw="_webButton4_azvq9_29",Vw="_mobileButton1_azvq9_34",Ww="_mobileButton2_azvq9_39",Gw="_blueButton_azvq9_44",qw="_whiteButton_azvq9_55",Xw="_grayButton_azvq9_61",Yw="_blackButton_azvq9_67",Kw="_redButton_azvq9_72",Zw="_inheritButton_azvq9_77",Qw="_greenButton_azvq9_83",Jw="_classCloseButton_azvq9_88 _blueButton_azvq9_44",hn={textButton:Bw,webButton1:$w,webButton2:zw,webButton3:Hw,webButton4:Uw,mobileButton1:Vw,mobileButton2:Ww,blueButton:Gw,whiteButton:qw,grayButton:Xw,blackButton:Yw,redButton:Kw,inheritButton:Zw,greenButton:Qw,classCloseButton:Jw};function ex(a){switch(a){case"blue":return hn.blueButton;case"red":return hn.redButton;case"green":return hn.greenButton;case"black":return hn.blackButton;case"gray":return hn.grayButton;case"white":return hn.whiteButton;case"inherit":return hn.inheritButton;default:return hn.blueButton}}function tx(a){switch(a){case"web1":return hn.webButton1;case"web2":return hn.webButton2;case"web3":return hn.webButton3;case"web4":return hn.webButton4;case"mobile1":return hn.mobileButton1;case"mobile2":return hn.mobileButton2;default:return hn.webButton1}}const At=({type:a="button",color:e,size:t,width:n,height:r,text:o,onClick:l,isActive:d=!0})=>{const h=ex(e),p=tx(t);return g.jsx("button",{type:a,style:{width:n,height:r},className:`${hn.textButton} ${h} ${p}`,disabled:!d,onClick:m=>l(m),children:o})},x3=a=>S.createElement("svg",{width:39,height:35,viewBox:"5 3 42 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M23.4019 4.5C24.5566 2.5 27.4434 2.5 28.5981 4.5L45.9186 34.5C47.0733 36.5 45.6299 39 43.3205 39H8.67949C6.37009 39 4.92671 36.5 6.08142 34.5L23.4019 4.5Z",fill:"#EE404C"}),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 13C24.8954 13 24 13.8954 24 15V24C24 25.1046 24.8954 26 26 26C27.1046 26 28 25.1046 28 24V15C28 13.8954 27.1046 13 26 13ZM26 32.6667C27.1046 32.6667 28 31.7712 28 30.6667C28 29.5621 27.1046 28.6667 26 28.6667C24.8954 28.6667 24 29.5621 24 30.6667C24 31.7712 24.8954 32.6667 26 32.6667Z",fill:"white"})),nx=a=>S.createElement("svg",{width:46,height:46,viewBox:"0 0 46 46.4",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("rect",{width:46,height:46,rx:23,fill:"#0028FD"}),S.createElement("path",{d:"M31 17L20 28L15 23",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"})),sx=a=>S.createElement("svg",{width:41,height:41,viewBox:"0 0 41.5 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("rect",{width:41,height:41,rx:20.5,fill:"#0028FD"}),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 15.25C18.5 14.9757 18.561 14.799 18.6514 14.6963C18.7018 14.639 19.0641 14.25 20.5 14.25C21.2548 14.25 21.6702 14.5582 21.9725 15.0017C22.3333 15.5309 22.5 16.2459 22.5 16.75C22.5 17.222 22.3791 17.7031 22.1775 18.0012C22.0901 18.1305 21.9967 18.2135 21.8906 18.2702C21.7861 18.326 21.5909 18.3983 21.2389 18.3977C19.8047 18.3954 18 19.4635 18 21.4966V23.25C18 24.3546 18.8954 25.25 20 25.25C21.1046 25.25 22 24.3546 22 23.25V22.3514C23.5734 22.1541 24.7463 21.3429 25.4908 20.2421C26.2771 19.0795 26.5 17.7347 26.5 16.75C26.5 15.5874 26.1667 14.0525 25.2775 12.7483C24.3298 11.3584 22.7452 10.25 20.5 10.25C18.3359 10.25 16.6982 10.861 15.6486 12.0537C14.639 13.201 14.5 14.5243 14.5 15.25C14.5 16.3546 15.3954 17.25 16.5 17.25C17.6046 17.25 18.5 16.3546 18.5 15.25ZM20.25 30.75C21.2165 30.75 22 29.9665 22 29C22 28.0335 21.2165 27.25 20.25 27.25C19.2835 27.25 18.5 28.0335 18.5 29C18.5 29.9665 19.2835 30.75 20.25 30.75Z",fill:"white"}));function ix(a){let e=null;a==="caution"?e=g.jsx(x3,{width:"39px",height:"35px"}):a==="success"?e=g.jsx(nx,{width:"46px",height:"46px"}):a==="ask"&&(e=g.jsx(sx,{width:"40px",height:"40px"}));const t=a==="caution"?Ai.redIcon:Ai.blueIcon;return g.jsx("div",{className:t,children:e})}const Wo=({type:a,message:e,description:t,buttonText:n,onClickModalButton:r,onClickCloseButton:o=null})=>g.jsxs("div",{className:Ai.modal,onClick:l=>l.stopPropagation(),children:[o&&g.jsx("button",{className:Ai.closeButton,onClick:o,children:g.jsx(Vi,{width:"19px",height:"19px",color:"var(--gray-600)"})}),g.jsxs("div",{className:Ai.modalContent,children:[ix(a),g.jsxs("div",{className:Ai.modalBody,children:[g.jsxs("div",{className:Ai.modalText,children:[g.jsx("span",{className:Ai.modalTitle,children:e}),t&&g.jsx("p",{className:Ai.modalDescription,children:t})]}),g.jsx("div",{className:Ai.modalButton,children:g.jsx(At,{color:a==="caution"?"red":"blue",size:"web4",height:"60px",text:n,onClick:r})})]})]})]}),ty={UNAUTHORIZED_PROFESSOR:{message:"사용자 정보를 불러오는 중 오류가 발생했습니다.",description:"로그인 페이지로 돌아갑니다.",navigateTo:"/login"},PROFESSOR_NOT_FOUND:{message:"사용자 정보를 불러오는 중 오류가 발생했습니다.",description:"로그인 페이지로 돌아갑니다.",navigateTo:"/professor/login"},COURSE_NOT_FOUND:{message:"강의 정보를 불러오는 중 오류가 발생했습니다.",description:"이전 페이지로 돌아갑니다.",navigateTo:-1},USER_NOT_FOUND:{message:"사용자 정보를 불러오는 중 오류가 발생했습니다.",description:"로그인 페이지로 돌아갑니다.",navigateTo:"/professor/login"},IMAGE_FILE_SIZE_EXCEEDED:{message:"이미지 파일의 크기가 너무 큽니다.",description:"다시 시도해주세요.",navigateTo:null},INVALID_IMAGE_TYPE:{message:"이미지 파일만 업로드 가능합니다.",description:".png, .jpeg, .jpg, .webp 파일만 업로드 가능합니다.",navigateTo:null},INVALID_IMAGE_SIZE:{message:"이미지 파일은 5MB 이하만 업로드 가능합니다.",description:"다시 시도해주세요.",navigateTo:null},INVALID_NAME:{message:"이름을 입력해주세요.",description:"다시 시도해주세요.",navigateTo:null},INVALID_NAME_LENGTH:{message:"이름은 20자 이하로 입력해주세요.",description:"다시 시도해주세요.",navigateTo:null},INVALID_NAME_REGEX:{message:"이름은 한글과 영문 대소문자만 입력 가능합니다.",description:"다시 시도해주세요.",navigateTo:null},INVALID_FILE_TYPE:{message:"파일 형식이 올바르지 않습니다.",description:"다시 시도해주세요.",navigateTo:null},INVALID_FILE_SIZE:{message:"파일 크기가 너무 큽니다.",description:"다시 시도해주세요.",navigateTo:null},SSE_ERROR:{message:"서버 연결에 실패했습니다.",description:"홈 화면으로 돌아갑니다.",navigateTo:"/professor"}},Df=()=>{const[a,e]=S.useState(null),{openModal:t,closeModal:n,Modal:r}=Zo(),o=Vr();return{popupError:h=>{console.error(h);let p=null;h instanceof Ms||h instanceof Eu?p=ty[h.errorCode]:h instanceof Error&&h.message==="SSE_ERROR"&&(p=ty.SSE_ERROR),p?e(g.jsx(Wo,{type:"caution",message:p.message,description:p.description,buttonText:"확인",onClickModalButton:()=>{e(null),n(),p.navigateTo!==null&&(p.navigateTo,o(p.navigateTo))}})):h instanceof Eu?(e(g.jsx(Wo,{type:"caution",message:"서버 연결에 실패했습니다.",description:"다시 시도해주세요.",buttonText:"확인",onClickModalButton:()=>{e(null),n()}})),t()):e(g.jsx(Wo,{type:"caution",message:"알 수 없는 오류가 발생했습니다.",description:"이전 페이지로 돌아갑니다.",buttonText:"확인",onClickModalButton:()=>{e(null),n(),o(-1)}})),t()},ErrorModal:()=>a&&g.jsx(r,{children:a})}},rx=()=>{const[a]=iC(""),e=a.get("keyword")||"",[t,n]=S.useState(e),[r,o]=S.useState(null),l=Ur(),d=Vr(),[h,p]=S.useState(null),{openModal:m,closeModal:C,Modal:y}=Zo(),{popupError:w,ErrorModal:x}=Df(),A=()=>{n(""),d("/professor")},T=M=>{n(M.target.value)},N=M=>{M.stopPropagation(),n("")},L=M=>{if(M.key==="Enter"){if(t.trim()!==""){if(t.trim()===e)return;d(`/professor/search/?keyword=${t}`)}}else M.key==="Escape"&&M.currentTarget.blur()},I=()=>{d("/professor/profile")};return S.useEffect(()=>{async function M(){try{const F=await ya.getProfessorProfile();if(F){const z=new Image;z.src=F,z.onload=()=>{o(z)}}}catch(F){w(F)}}M()},[]),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:Dn.gnb,children:[g.jsxs("div",{className:Dn.left,children:[g.jsx("button",{className:Dn.logoButton,onClick:A,children:g.jsx(If,{className:Dn.logo})}),g.jsxs("div",{className:Dn.inputContainer,children:[g.jsx("input",{className:Dn.input,type:"text",placeholder:"수업 이름이나 코드로 수업을 검색해보세요",value:t,onChange:T,onKeyDown:L}),t?g.jsx("button",{className:Dn.searchButton,onMouseDown:M=>M.preventDefault(),onClick:M=>{N(M)},children:g.jsx(Vi,{className:Dn.closeIcon})}):g.jsx("div",{className:Dn.searchButton,children:g.jsx(gw,{className:Dn.searchIcon})})]})]}),l.pathname!=="/professor/profile"&&g.jsx("button",{className:Dn.profile,onClick:I,children:r?g.jsx("img",{className:Dn.profileImage,src:r.src,alt:"profile"}):g.jsx(_3,{className:Dn.profileImage})})]}),g.jsx("div",{className:Dn.container,children:g.jsx(v3,{context:{openModal:m,closeModal:C,setModal:p,navigate:d,popupError:w}})}),h&&g.jsx(y,{children:h}),g.jsx(x,{})]})},ox="_container_1v7tj_1",ax="_header_1v7tj_12",lx="_headerContainer_1v7tj_56",cx="_noTodayCourse_1v7tj_64",ux="_rocket_1v7tj_76",dx="_rocketIcon_1v7tj_86",hx="_noTodayCourseText_1v7tj_91",fx="_title_1v7tj_99",px="_description_1v7tj_108",mx="_content_1v7tj_113",gx="_courseList_1v7tj_121",vx="_courseListHeader_1v7tj_132",yx="_courseAdd_1v7tj_143",Cx="_dropdownContainer_1v7tj_153",Cn={container:ox,header:ax,headerContainer:lx,noTodayCourse:cx,rocket:ux,rocketIcon:dx,noTodayCourseText:hx,title:fx,description:px,content:mx,courseList:gx,courseListHeader:vx,courseAdd:yx,dropdownContainer:Cx},_x=a=>S.createElement("svg",{width:71,height:84,viewBox:"0 0 71 84",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M48.2986 29.5825C48.2986 29.5825 64.9991 36.7599 69.2176 48.5725C70.76 52.8963 71.1379 55.6171 70.9592 57.317C70.7549 59.2416 68.6507 60.3289 66.9245 59.456C65.9694 58.9761 64.3964 58.2461 62.1289 57.3834C56.6795 55.316 49.034 55.8009 49.034 55.8009C49.034 55.8009 46.1127 32.4667 48.3037 29.5774L48.2986 29.5825Z",fill:"#403C9C"}),S.createElement("mask",{id:"mask0_247_3156",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:47,y:29,width:24,height:31},S.createElement("path",{d:"M48.2986 29.5825C48.2986 29.5825 64.9991 36.7599 69.2176 48.5725C70.76 52.8963 71.1379 55.6171 70.9592 57.317C70.7549 59.2416 68.6507 60.3289 66.9245 59.456C65.9694 58.9761 64.3964 58.2461 62.1289 57.3834C56.6795 55.316 49.034 55.8009 49.034 55.8009C49.034 55.8009 46.1127 32.4667 48.3037 29.5774L48.2986 29.5825Z",fill:"white"})),S.createElement("g",{mask:"url(#mask0_247_3156)"},S.createElement("path",{d:"M49.4171 40.3486C49.4171 40.3486 61.5415 44.0802 62.1237 57.3834L47.4866 57.5978L49.4171 40.3434V40.3486Z",fill:"#2C1F7B"})),S.createElement("path",{d:"M10.2246 50.3847C10.2246 50.3847 8.22767 68.4456 16.4247 77.9405C19.4277 81.4169 21.6034 83.0862 23.1713 83.7703C24.9435 84.5462 26.9302 83.2496 27.0272 81.3148C27.0783 80.2479 27.2213 78.5174 27.589 76.1232C28.4776 70.365 32.6757 63.9584 32.6757 63.9584C32.6757 63.9584 13.8149 49.9048 10.2195 50.3796L10.2246 50.3847Z",fill:"#403C9C"}),S.createElement("path",{d:"M9.95388 5.00785C8.76901 4.88023 7.64543 5.5847 7.25218 6.70776C4.92331 13.3287 -1.68538 35.8666 10.0969 50.5787C21.1641 64.3975 31.5828 65.7502 31.5828 65.7502C31.5828 65.7502 38.0178 56 49.034 55.806C49.034 55.806 52.752 39.1081 47.9309 28.7249C43.1761 18.4897 34.8769 7.66747 9.95898 5.00785H9.95388Z",fill:"#4876FC"}),S.createElement("mask",{id:"mask1_247_3156",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:3,y:4,width:48,height:62},S.createElement("path",{d:"M9.95388 5.00785C8.76901 4.88023 7.64543 5.5847 7.25218 6.70776C4.92331 13.3287 -1.68538 35.8666 10.0969 50.5787C21.1641 64.3975 31.5828 65.7502 31.5828 65.7502C31.5828 65.7502 38.0178 56 49.034 55.806C49.034 55.806 52.752 39.1081 47.9309 28.7249C43.1761 18.4897 34.8769 7.66747 9.95898 5.00785H9.95388Z",fill:"white"})),S.createElement("g",{mask:"url(#mask1_247_3156)"},S.createElement("path",{d:"M0 7.50921C0 7.50921 44.0137 15.049 42.5173 44.6673C41.5009 64.7701 38.7686 69.0326 38.7686 69.0326L59.2433 68.9816L56.2403 14.656L27.829 0L4.99482 2.22571L0 7.50921Z",fill:"#4A4AFB"})),S.createElement("path",{d:"M26.8434 46.2497C32.8541 46.2497 37.7268 41.3793 37.7268 35.3713C37.7268 29.3633 32.8541 24.4929 26.8434 24.4929C20.8326 24.4929 15.96 29.3633 15.96 35.3713C15.96 41.3793 20.8326 46.2497 26.8434 46.2497Z",fill:"#9BDCFF"}),S.createElement("path",{d:"M42.4611 61.7174C41.358 62.233 40.3263 62.8915 39.407 63.693C37.0679 65.7349 33.2375 70.0383 36.3529 74.3417C40.6481 80.2786 51.2761 81.1362 53.1504 80.1969C55.0248 79.2576 57.7878 70.7019 56.1994 65.5154C54.8409 61.0946 51.8839 59.3998 48.5182 59.8184C45.9544 60.14 43.8605 61.0589 42.456 61.7123L42.4611 61.7174Z",fill:"#FFB66A"}),S.createElement("mask",{id:"mask2_247_3156",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:35,y:59,width:22,height:22},S.createElement("path",{d:"M42.4611 61.7174C41.358 62.233 40.3263 62.8915 39.407 63.693C37.0679 65.7349 33.2375 70.0383 36.3529 74.3417C40.6481 80.2786 51.2761 81.1362 53.1504 80.1969C55.0248 79.2576 57.7878 70.7019 56.1994 65.5154C54.8409 61.0946 51.8839 59.3998 48.5182 59.8184C45.9544 60.14 43.8605 61.0589 42.456 61.7123L42.4611 61.7174Z",fill:"white"})),S.createElement("g",{mask:"url(#mask2_247_3156)"},S.createElement("path",{d:"M39.5143 62.7537C39.5143 62.7537 51.1485 60.9874 50.6684 69.4104C50.1883 77.8334 47.5377 80.881 47.5377 80.881L56.2812 80.5236H57.1647L57.0064 59.1446L39.1926 59.7623L39.5143 62.7537Z",fill:"#FFA559"}))),cC=a=>S.createElement("svg",{width:40,height:40,viewBox:"0 0 40 40",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M20 2.5V37.5M2.5 20H37.5",stroke:"currentColor",strokeWidth:5,strokeLinecap:"round",strokeLinejoin:"round"})),wx="_buttonContainer_12gwb_1",xx={buttonContainer:wx},Sx=({onButtonClick:a})=>g.jsx("button",{className:xx.buttonContainer,onClick:a,children:g.jsx(cC,{color:"white"})}),Ex="_todayCourse_igk49_1",Ax="_left_igk49_8",bx="_title_igk49_14",kx="_noLargeCourse_igk49_23",Tx="_todayCourseList_igk49_39",Px="_courseRow_igk49_57",Nx="_todayCourseController_igk49_65",Lx="_page_igk49_73",nr={todayCourse:Ex,left:Ax,title:bx,noLargeCourse:kx,todayCourseList:Tx,courseRow:Px,todayCourseController:Nx,page:Lx},Rx="_card_1k5om_1",Mx="_subButtonPopup_1k5om_7",Ix="_subButtonIcon_1k5om_46",Dx="_subButton_1k5om_7",jx="_small_1k5om_58 _card_1k5om_1",Fx="_content_1k5om_67",Ox="_info_1k5om_74",Bx="_time_1k5om_81",$x="_soon_1k5om_94",zx="_type_1k5om_99",Hx="_text_1k5om_107",Ux="_title_1k5om_116",Vx="_capacity_1k5om_124",Wx="_medium_1k5om_132 _card_1k5om_1",Gx="_university_1k5om_166",qx="_meta_1k5om_176",Xx="_metaItem_1k5om_182",Yx="_metaIcon_1k5om_188",Kx="_metaText_1k5om_194",Zx="_buttonContainer_1k5om_202",Qx="_footer_1k5om_218",Jx="_footerText_1k5om_228",eS="_large_1k5om_239 _card_1k5om_1",tS="_header_1k5om_262",Se={card:Rx,subButtonPopup:Mx,subButtonIcon:Ix,subButton:Dx,small:jx,content:Fx,info:Ox,time:Bx,soon:$x,type:zx,text:Hx,title:Ux,capacity:Vx,medium:Wx,university:Gx,meta:qx,metaItem:Xx,metaIcon:Yx,metaText:Kx,buttonContainer:Zx,footer:Qx,footerText:Jx,large:eS,header:tS},nS="_chipContainer_flbnv_1",sS="_green_flbnv_13",iS="_purple_flbnv_20",rS="_gray_flbnv_27",ny={chipContainer:nS,green:sS,purple:iS,gray:rS},Yd=({color:a,text:e,isActive:t})=>{const n=ny[a]||"";return g.jsx("div",{className:`${ny.chipContainer} ${t?n:""} `,children:e})},oS=a=>S.createElement("svg",{width:26,height:22,viewBox:"0 0 26 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("g",{clipPath:"url(#clip0_249_1963)"},S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.31592 17.1973V22.0001H4.37699V15.6345L2.87747 16.8864C2.42731 17.2622 1.83705 17.3595 1.31592 17.1973ZM5.12556 15.0096V22.0001H8.18663V12.4541L5.12556 15.0096ZM8.93999 11.8251V22.0001H12.0011V14.2796L9.0016 11.7737L8.93999 11.8251ZM12.7544 14.909V22.0001H15.8155V14.1445L14.893 14.9148C14.2758 15.4302 13.3782 15.4301 12.7611 14.9145L12.7544 14.909ZM16.564 13.5195V22.005H19.6251V10.9636L16.564 13.5195ZM20.3785 10.3346V22H23.4395V10.2538C23.3315 10.1993 23.2279 10.132 23.1306 10.0518L21.9159 9.05081L20.3785 10.3346Z",fill:"#67738D"}),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.2904 4.90664L18.9291 3.50648L24.9654 1.96167L23.3633 8.06733L21.8202 6.48018L14.3524 12.9277C13.9413 13.2826 13.3322 13.2827 12.921 12.9279L8.6356 9.23027L1.90843 15.0458C1.45076 15.4414 0.759008 15.3912 0.363362 14.9335C-0.0322853 14.4758 0.0179933 13.7841 0.475662 13.3884L7.91854 6.95419C8.32963 6.59881 8.9391 6.59853 9.35052 6.95352L13.6364 10.6515L20.2904 4.90664Z",fill:"#67738D"})),S.createElement("defs",null,S.createElement("clipPath",{id:"clip0_249_1963"},S.createElement("rect",{width:26,height:22,fill:"white"})))),aS=a=>S.createElement("svg",{width:25,height:26,viewBox:"0 0 25 26",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M23.237 11.6494L12.1683 22.7181C9.65116 25.2352 5.57005 25.2352 3.0529 22.7181C0.535751 20.2009 0.535752 16.1198 3.0529 13.6027L14.1216 2.53397C15.7997 0.855866 18.5205 0.855865 20.1986 2.53397C21.8767 4.21207 21.8767 6.93281 20.1986 8.61091L9.56391 19.2456C8.72486 20.0846 7.36449 20.0846 6.52544 19.2456C5.68639 18.4065 5.68639 17.0461 6.52544 16.2071L15.8579 6.87464",stroke:"currentColor",strokeWidth:1.88881,strokeLinecap:"round",strokeLinejoin:"round"})),eh=a=>S.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 18C13.9706 18 18 13.9706 18 9C18 4.02942 13.9706 0 9 0C4.02945 0 0 4.02942 0 9C0 13.9706 4.02945 18 9 18ZM9.60001 3C9.60001 2.66864 9.33136 2.40002 9 2.40002C8.66864 2.40002 8.39999 2.66864 8.39999 3V8.68176C8.39999 9.1637 8.61725 9.62 8.99139 9.92383L12.1218 12.4658C12.379 12.6747 12.7569 12.6354 12.9658 12.3782C13.1747 12.121 13.1355 11.7431 12.8782 11.5342L9.74786 8.99225C9.65433 8.91632 9.60001 8.80225 9.60001 8.68176V3Z",fill:"#8593B0"})),th=a=>S.createElement("svg",{width:22,height:16,viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("g",{clipPath:"url(#clip0_247_3261)"},S.createElement("path",{d:"M13.7178 8.96973H16.4901C19.5297 8.96973 22 11.3843 22 14.3661V14.8606C22 15.4861 21.4802 16 20.8366 16H9.37125C8.73264 16 8.20789 15.4909 8.20789 14.8606V14.3661C8.20789 11.3891 10.6732 8.96973 13.7178 8.96973Z",fill:"#8593B0"}),S.createElement("path",{d:"M5.5099 8.96973C2.4703 8.96973 0 11.3843 0 14.3661V14.8606C0 15.4909 0.519802 16 1.16337 16H5.77228C6.07426 16 6.30198 15.7382 6.25248 15.4473C6.04456 14.1915 5.80693 11.0837 8.05446 9.30427C8.19802 9.19276 8.11881 8.96973 7.93565 8.96973H5.50495H5.5099Z",fill:"#8593B0"}),S.createElement("path",{d:"M15.104 7.79636C17.3022 7.79636 19.0842 6.05109 19.0842 3.89818C19.0842 1.74528 17.3022 0 15.104 0C12.9058 0 11.1238 1.74528 11.1238 3.89818C11.1238 6.05109 12.9058 7.79636 15.104 7.79636Z",fill:"#8593B0"}),S.createElement("path",{d:"M5.99009 7.79636C8.18829 7.79636 9.97028 6.05109 9.97028 3.89818C9.97028 1.74528 8.18829 0 5.99009 0C3.79188 0 2.00989 1.74528 2.00989 3.89818C2.00989 6.05109 3.79188 7.79636 5.99009 7.79636Z",fill:"#8593B0"})),S.createElement("defs",null,S.createElement("clipPath",{id:"clip0_247_3261"},S.createElement("rect",{width:22,height:16,fill:"white"})))),lS="_meatBallWrapper_1pczz_1",cS="_meatBall_1pczz_1",uS="_active_1pczz_15",dS="_meatBallIcon_1pczz_19",hS="_popup_1pczz_25",fS="_popupButton_1pczz_43",pS="_popupButtonDelete_1pczz_67",mS="_small_1pczz_71",gS="_medium_1pczz_76",vS="_large_1pczz_87",sr={meatBallWrapper:lS,meatBall:cS,active:uS,meatBallIcon:dS,popup:hS,popupButton:fS,popupButtonDelete:pS,small:mS,medium:gS,large:vS},yS=a=>S.createElement("svg",{width:6,height:24,viewBox:"0 0 6 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M3 13.25C3.69036 13.25 4.25 12.6904 4.25 12C4.25 11.3096 3.69036 10.75 3 10.75C2.30964 10.75 1.75 11.3096 1.75 12C1.75 12.6904 2.30964 13.25 3 13.25Z",stroke:"currentColor",strokeWidth:2.44629,strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M3 4.5C3.69036 4.5 4.25 3.94036 4.25 3.25C4.25 2.55964 3.69036 2 3 2C2.30964 2 1.75 2.55964 1.75 3.25C1.75 3.94036 2.30964 4.5 3 4.5Z",stroke:"currentColor",strokeWidth:2.44629,strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M3 22C3.69036 22 4.25 21.4404 4.25 20.75C4.25 20.0596 3.69036 19.5 3 19.5C2.30964 19.5 1.75 20.0596 1.75 20.75C1.75 21.4404 2.30964 22 3 22Z",stroke:"currentColor",strokeWidth:2.44629,strokeLinecap:"round",strokeLinejoin:"round"})),Dg=({popup:a,size:e,onBlur:t,onToggle:n,onDelete:r,onEdit:o})=>g.jsxs("div",{className:`${sr.meatBallWrapper} ${sr[e]}`,tabIndex:0,onBlur:t,children:[g.jsx("button",{className:`${sr.meatBall} ${a?sr.active:""}`,onClick:n,children:g.jsx(yS,{className:sr.meatBallIcon})}),a&&g.jsxs("div",{className:sr.popup,children:[g.jsx("button",{className:`${sr.popupButton} ${sr.popupButtonDelete}`,onMouseDown:l=>l.preventDefault(),onClick:r,children:g.jsx("span",{children:"이 수업 삭제하기"})}),g.jsx("button",{className:sr.popupButton,onMouseDown:l=>l.preventDefault(),onClick:o,children:g.jsx("span",{children:"이 수업 편집하기"})})]})]}),sy=(a,e,t,n,r)=>g.jsxs("div",{className:Se.buttonContainer,children:[g.jsx(At,{width:a,height:e,text:"수업 시작",color:"blue",size:"web3",onClick:t,isActive:!0}),g.jsxs("button",{className:Se.subButton,onClick:n,children:[g.jsx(oS,{className:Se.subButtonIcon}),g.jsx("div",{className:Se.subButtonPopup,children:g.jsx("span",{children:"지난 수업 통계를 볼 수 있어요"})})]}),g.jsxs("button",{className:Se.subButton,onClick:r,children:[g.jsx(aS,{className:Se.subButtonIcon}),g.jsx("div",{className:Se.subButtonPopup,children:g.jsxs("span",{children:["미리 강의자료를 첨부하면,",g.jsx("br",{}),"수업 시작 후 자동으로 파일이 열려요"]})})]})]}),Zg=({course:a,size:e,leftTime:t,onDeleteCourse:n,onEditCourse:r,onStartCourse:o,onDetailCourse:l,onFileCourse:d})=>{const[h,p]=S.useState(!1),m=new Date,C=a.schedule.find(L=>L.day===Jd(m.getDay())),y=S.useCallback(()=>{p(!1)},[]),w=S.useCallback(()=>{p(L=>!L)},[]),x=ww(t),A=()=>g.jsxs("div",{className:Se.small,children:[g.jsx("div",{className:Se.content,children:g.jsxs("div",{className:Se.info,children:[g.jsx("span",{className:`${Se.time} ${C&&Jv(C.start)?Se.soon:""}`,children:C?Jv(C.start)?"곧 시작":C.start:"없음"}),g.jsx("span",{className:Se.type,children:g.jsx(Yd,{color:qd(a.classType),text:a.classType,isActive:!0})}),g.jsxs("div",{className:Se.text,children:[g.jsxs("h3",{className:Se.title,children:[a.name," (",a.code,")"]}),g.jsx("span",{className:Se.capacity,children:a.capacity})]})]})}),g.jsx(Dg,{popup:h,size:"small",onBlur:y,onToggle:w,onDelete:()=>n(a),onEdit:()=>r(a)})]}),T=()=>g.jsxs("div",{className:Se.medium,children:[g.jsx(Dg,{popup:h,size:"medium",onBlur:y,onToggle:w,onDelete:()=>n(a),onEdit:()=>r(a)}),g.jsxs("div",{className:Se.content,children:[g.jsxs("div",{className:Se.info,children:[g.jsx("div",{className:Se.type,children:g.jsx(Yd,{color:qd(a.classType),text:a.classType,isActive:!0})}),g.jsxs("div",{className:Se.text,children:[g.jsxs("div",{children:[g.jsx("h4",{className:Se.university,children:a.university}),g.jsxs("h3",{className:Se.title,children:[a.name," (",a.code,")"]})]}),g.jsxs("div",{className:Se.meta,children:[g.jsxs("div",{className:Se.metaItem,children:[g.jsx(eh,{className:Se.metaIcon}),g.jsx("span",{className:Se.metaText,children:a.schedule.map((L,I)=>g.jsx("span",{children:U1(L,I===a.schedule.length-1)},L.day))})]}),g.jsxs("div",{className:Se.metaItem,children:[g.jsx(th,{className:Se.metaIcon}),g.jsxs("span",{className:Se.metaText,children:[a.capacity,"명"]})]})]})]})]}),sy("239px","56px",()=>o(a),()=>l(a),()=>d(a))]}),g.jsx("div",{className:Se.footer,children:g.jsxs("span",{className:Se.footerText,children:["입장코드 ",g.jsx("strong",{children:a.accessCode})]})})]}),N=()=>g.jsxs("div",{className:Se.large,children:[g.jsx(Dg,{popup:h,size:"large",onBlur:y,onToggle:w,onDelete:()=>n(a),onEdit:()=>r(a)}),g.jsxs("div",{className:Se.content,children:[g.jsxs("div",{className:Se.info,children:[g.jsxs("div",{className:Se.header,children:[g.jsx("div",{className:Se.type,children:g.jsx(Yd,{color:qd(a.classType),text:a.classType,isActive:!0})}),g.jsx("div",{className:Se.time,children:t?`${x} 후 시작`:"00 : 00 : 00 후 시작"})]}),g.jsxs("div",{className:Se.text,children:[g.jsxs("div",{children:[g.jsx("h4",{className:Se.university,children:a.university}),g.jsxs("h3",{className:Se.title,children:[a.name," (",a.code,")"]})]}),g.jsxs("div",{className:Se.meta,children:[g.jsxs("div",{className:Se.metaItem,children:[g.jsx(eh,{className:Se.metaIcon}),g.jsx("span",{className:Se.metaText,children:a.schedule.map((L,I)=>g.jsx("span",{children:U1(L,I===a.schedule.length-1)},L.day))})]}),g.jsxs("div",{className:Se.metaItem,children:[g.jsx(th,{className:Se.metaIcon}),g.jsxs("span",{className:Se.metaText,children:[a.capacity,"명"]})]})]})]})]}),sy("345px","61px",()=>o(a),()=>l(a),()=>d(a))]}),g.jsx("div",{className:Se.footer,children:g.jsxs("span",{className:Se.footerText,children:["입장코드 ",g.jsx("strong",{children:a.accessCode})]})})]});switch(e){case"small":return A();case"medium":return T();case"large":return N();default:return null}};function jf(){const[a,e]=S.useState(0),[t,n]=S.useState(0);return{setPage:e,prevPage:()=>{e(d=>Math.max(d-1,0))},nextPage:()=>{e(d=>Math.min(d+1,t-1))},PaginationDiv:({children:d,containerStyle:h={},slideStyle:p={},...m})=>{const C=Nd.Children.count(d);S.useEffect(()=>{n(C)},[C]),S.useEffect(()=>{a>=t&&t>0&&e(t-1)},[t]);const y=S.useRef(null),[w,x]=S.useState(null);S.useEffect(()=>{y.current&&x(y.current.offsetHeight)},[d]);const A={position:"relative",width:"100%",height:h.height||(w?`${w}px`:"auto"),...h};return g.jsxs("div",{style:A,...m,children:[w===null&&Nd.Children.count(d)>0&&g.jsx("div",{ref:y,style:{visibility:"hidden",position:"static"},children:Nd.Children.toArray(d)[0]}),Nd.Children.map(d,(T,N)=>{const L={display:N===a?"block":"none",width:"100%",height:"100%",position:"absolute",top:0,left:0,...p};return g.jsx("div",{style:L,children:T},N)})]})},page:a,totalPages:t}}const S3=a=>S.createElement("svg",{width:10,height:17,viewBox:"0 0 10 17",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M8.5 1.52344L1.5 8.52344L8.5 15.5234",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),E3=a=>S.createElement("svg",{width:10,height:17,viewBox:"0 0 10 17",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M1.5 15.5234L8.5 8.52344L1.5 1.52344",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),CS="_buttonContainer_1c1pe_1",_S={buttonContainer:CS},Au=({onButtonClick:a,type:e,isActive:t})=>g.jsxs("button",{className:`${_S.buttonContainer}  `,onClick:a,disabled:!t,children:[e==="prev"&&g.jsx(S3,{width:"7px",height:"14px",fill:"none"}),e==="next"&&g.jsx(E3,{width:"7px",height:"14px",fill:"none"})]}),wS=a=>{const e=S.useCallback(()=>{if(!a)return{hour:0,minute:0,second:0};const r=new Date,o=a.find(l=>l.day===Jd(r.getDay()));if(o){const d=H1(o.start).getTime()-r.getTime();return{hour:Math.floor(d/36e5),minute:Math.floor(d%36e5/6e4),second:Math.floor(d%6e4/1e3)}}return{hour:0,minute:0,second:0}},[a]),[t,n]=S.useState(e());return S.useEffect(()=>{if(!a){n({hour:0,minute:0,second:0});return}const r=setInterval(()=>{const o=new Date,l=a.find(d=>d.day===Jd(o.getDay()));if(l){const h=H1(l.start).getTime()-o.getTime();n({hour:Math.floor(h/36e5),minute:Math.floor(h%36e5/6e4),second:Math.floor(h%6e4/1e3)})}},1e3);return()=>clearInterval(r)},[a]),t},xS=a=>{const e=new Date,t=a.schedule.find(r=>r.day===Jd(e.getDay()));return t?H1(t.start).getTime()<e.getTime():!0};function SS({todayCourses:a,onDetailCourse:e,onFileCourse:t,onStartCourse:n,onEditCourse:r,onDeleteCourse:o}){var A;const{prevPage:l,nextPage:d,page:h,totalPages:p,PaginationDiv:m}=jf(),[C,y]=S.useState(0),w=wS((A=a[C])==null?void 0:A.schedule);S.useEffect(()=>{if(a.length===0)return;const T=a[C];T&&xS(T)&&y(C+1)},[w,a,C]);const x=()=>{const T=a.slice(C+1).concat(a.slice(0,C));return aC(T,3).map((L,I)=>g.jsx("div",{className:nr.courseRow,children:L.map(M=>g.jsx(Zg,{course:M,size:"small",onDetailCourse:e,onFileCourse:t,onStartCourse:n,onEditCourse:r,onDeleteCourse:o},M.id))},I))};return g.jsxs("div",{className:nr.todayCourse,children:[g.jsxs("div",{className:nr.left,children:[g.jsxs("h1",{className:nr.title,children:["오늘 수업은 ",g.jsxs("span",{children:[a.length,"개"]})," 있어요!"]}),C<a.length?g.jsx(Zg,{course:a[C],size:"large",leftTime:w,onDeleteCourse:o,onEditCourse:r,onStartCourse:n,onDetailCourse:e,onFileCourse:t}):g.jsx("div",{className:nr.noLargeCourse,children:g.jsx("span",{children:"오늘 수업이 없어요!"})})]}),g.jsxs("div",{className:nr.todayCourseList,children:[g.jsx("h2",{className:nr.title,children:xw()}),g.jsx(m,{containerStyle:{width:"608px"},children:x()}),g.jsxs("div",{className:nr.todayCourseController,children:[g.jsx(Au,{onButtonClick:l,type:"prev",isActive:h>0}),g.jsxs("div",{className:nr.page,children:[g.jsx("span",{children:h+1})," / ",Math.max(p,1)]}),g.jsx(Au,{onButtonClick:d,type:"next",isActive:h<p-1})]})]})]})}const ES="_courseListContainer_zh4po_1",AS="_courseGrid_zh4po_9",bS="_courseListInner_zh4po_19",kS="_courseListController_zh4po_29",TS="_noCourseText_zh4po_36",PS="_page_zh4po_41",tc={courseListContainer:ES,courseGrid:AS,courseListInner:bS,courseListController:kS,noCourseText:TS,page:PS};function uC({filteredCourses:a,onDetailCourse:e,onFileCourse:t,onStartCourse:n,onEditCourse:r,onDeleteCourse:o}){const{prevPage:l,nextPage:d,page:h,totalPages:p,PaginationDiv:m}=jf();return g.jsxs("div",{className:tc.courseListContainer,children:[a.length>0?g.jsx(m,{children:aC(a,6).map((y,w)=>g.jsx("div",{className:tc.courseGrid,children:y.map(x=>g.jsx(Zg,{course:x,size:"medium",onDetailCourse:e,onFileCourse:t,onStartCourse:n,onEditCourse:r,onDeleteCourse:o},x.id))},w))}):g.jsx("div",{className:tc.courseListInner,children:g.jsx("span",{className:tc.noCourseText,children:"아직 아무 수업도 없어요"})}),g.jsxs("div",{className:tc.courseListController,children:[g.jsx(Au,{onButtonClick:l,type:"prev",isActive:h>0}),g.jsxs("div",{className:tc.page,children:[g.jsx("span",{children:h+1})," / ",Math.max(p,1)]}),g.jsx(Au,{onButtonClick:d,type:"next",isActive:h<p-1})]})]})}const NS="_filterDropDownContainer_1qig2_1",LS="_filterContainer_1qig2_6",RS="_active_1qig2_20",MS="_open_1qig2_25",IS="_filterDropDown_1qig2_1",DS="_filterDropDownTitle_1qig2_35",jS="_filterDropDownIcon_1qig2_39",FS="_filterDropDownContent_1qig2_46",OS="_filterDropDownOption_1qig2_54",wi={filterDropDownContainer:NS,filterContainer:LS,active:RS,open:MS,filterDropDown:IS,filterDropDownTitle:DS,filterDropDownIcon:jS,filterDropDownContent:FS,filterDropDownOption:OS},BS=a=>S.createElement("svg",{width:12,height:8,viewBox:"0 0 12 8",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M1 1.02344L6 6.02344L11 1.02344",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),V1=({title:a,options:e,setTitle:t})=>{const[n,r]=S.useState(!1),o=S.useRef(a);return g.jsx("div",{className:wi.filterDropDownContainer,tabIndex:0,onBlur:()=>r(!1),children:g.jsx("div",{className:`${wi.filterContainer} ${a!==o.current?wi.active:""} ${n?wi.open:""}`,onClick:()=>{n&&t(o.current),r(l=>!l)},children:g.jsxs("div",{className:wi.filterDropDown,children:[g.jsxs("div",{className:wi.filterDropDownTitle,children:[g.jsx("span",{children:a}),g.jsx(BS,{className:wi.filterDropDownIcon})]}),n&&g.jsxs("div",{className:wi.filterDropDownContent,onMouseDown:l=>l.preventDefault(),children:[a!==o.current&&g.jsx("div",{className:wi.filterDropDownOption,onClick:l=>{l.stopPropagation(),t(o.current),r(!1)},children:"전체"},"all"),e.map(l=>g.jsx("div",{className:wi.filterDropDownOption,onClick:d=>{d.stopPropagation(),t(l),r(!1)},children:l},l))]})]})})})},$S="_courseModal_daof5_1",zS="_closeButton_daof5_14",HS="_closeIcon_daof5_26",US="_title_daof5_32",VS="_modalContent_daof5_39",WS="_inputContainer_daof5_55",GS="_inputTitle_daof5_61",qS="_categoryContainer_daof5_72",XS="_categoryChip_daof5_80",YS="_errorText_daof5_86",KS="_scheduleList_daof5_92",ZS="_scheduleContainer_daof5_99",QS="_timeInputContainer_daof5_110",JS="_timeDivider_daof5_120",eE="_deleteButton_daof5_125",tE="_addButton_daof5_129",nE="_buttonContainer_daof5_133",Nt={courseModal:$S,closeButton:zS,closeIcon:HS,title:US,modalContent:VS,inputContainer:WS,inputTitle:GS,categoryContainer:qS,categoryChip:XS,errorText:YS,scheduleList:KS,scheduleContainer:ZS,timeInputContainer:QS,timeDivider:JS,deleteButton:eE,addButton:tE,buttonContainer:nE},sE="_inputContainer_1tsfh_1",iE="_inputTitle_1tsfh_6",rE="_input_1tsfh_1",oE="_full_1tsfh_25",aE="_withDesc_1tsfh_29",lE="_inputDesc_1tsfh_41",nc={inputContainer:sE,inputTitle:iE,input:rE,full:oE,withDesc:aE,inputDesc:lE},Qp=({size:a="half",title:e,desc:t,placeholder:n,value:r,onInputChange:o,onBlur:l})=>g.jsxs("div",{className:nc.inputContainer,children:[g.jsx("div",{className:nc.inputTitle,children:e}),g.jsx("input",{className:`${nc.input} ${a==="full"&&nc.full} ${t&&nc.withDesc}`,placeholder:n,value:r,onChange:d=>o(d.target.value),onBlur:l}),a==="half"&&t&&g.jsx("div",{className:nc.inputDesc,children:t})]}),cE="_dropDown_ezoy3_1",uE="_dropDownActive_ezoy3_5",dE="_dropDownWrapper_ezoy3_9",hE="_dropDownContainer_ezoy3_27",fE="_titleContainer_ezoy3_33",pE="_dropDownTitle_ezoy3_45",mE="_dropDownIcon_ezoy3_49",gE="_labelContainer_ezoy3_54",vE="_label_ezoy3_54",ir={dropDown:cE,dropDownActive:uE,dropDownWrapper:dE,dropDownContainer:hE,titleContainer:fE,dropDownTitle:pE,dropDownIcon:mE,labelContainer:gE,label:vE},yE=a=>S.createElement("svg",{width:14,height:8,viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M7 7.66602L0.937822 0.666016L13.0622 0.666015L7 7.66602Z",fill:"#0028FD"})),CE=({width:a,title:e,options:t,setTitle:n})=>{const[r,o]=S.useState(!1),l=d=>{o(!1),n(d)};return g.jsx("div",{className:`${ir.dropDown} ${r?ir.dropDownActive:""}`,tabIndex:0,onBlur:()=>o(!1),style:{width:a},children:g.jsx("div",{className:ir.dropDownWrapper,onClick:()=>o(d=>!d),children:g.jsxs("div",{className:ir.dropDownContainer,children:[g.jsxs("div",{className:ir.titleContainer,children:[g.jsx("span",{className:ir.dropDownTitle,children:r?"   ":e}),g.jsx(yE,{className:ir.dropDownIcon})]}),r&&g.jsx("ul",{className:ir.labelContainer,children:t.map(d=>g.jsx("li",{className:ir.label,onClick:h=>{h.stopPropagation(),l(d)},children:d},d))})]})})})},_E="_timeInputContainer_uj4un_1",wE="_timeInput_uj4un_1",xE="_timeDivider_uj4un_20",Jp={timeInputContainer:_E,timeInput:wE,timeDivider:xE},iy=({time:a,setTime:e})=>{const[t,n]=a.split(":"),[r,o]=S.useState(t),[l,d]=S.useState(n);return S.useEffect(()=>{o(t),d(n)},[t,n]),g.jsxs("div",{className:Jp.timeInputContainer,children:[g.jsx("input",{type:"text",className:Jp.timeInput,value:r,onClick:()=>o(""),onChange:h=>{const p=h.target.value;/^\d*$/.test(p)&&o(h.target.value)},onBlur:h=>{const p=h.target.value;p===""?(o("00"),e(`00:${l}`)):parseInt(p)>23?e(`23:${l}`):e(`${parseInt(p).toString().padStart(2,"0")}:${l}`)}}),g.jsx("span",{className:Jp.timeDivider,children:":"}),g.jsx("input",{type:"text",className:Jp.timeInput,value:l,onClick:()=>d(""),onChange:h=>{const p=h.target.value;/^\d*$/.test(p)&&d(h.target.value)},onBlur:h=>{const p=h.target.value;p===""?(d("00"),e(`${r}:00`)):parseInt(p)>59?e(`${r}:59`):e(`${r}:${parseInt(p).toString().padStart(2,"0")}`)}})]})},SE=a=>S.createElement("svg",{width:24,height:4,viewBox:"0 0 24 4",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M2.08337 1.52344H21.9167",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"})),EE="_buttonContainer_iiz3k_1",AE="_plus_iiz3k_10",bE="_minus_iiz3k_16",ry={buttonContainer:EE,plus:AE,minus:bE},oy=({onButtonClick:a,type:e})=>{const t=ry[e]||"";return g.jsxs("button",{className:`${ry.buttonContainer}  ${t}`,onClick:n=>{n.preventDefault(),a()},children:[e==="plus"&&g.jsx(cC,{width:"20px",height:"20px"}),e==="minus"&&g.jsx(SE,{width:"20px",height:"20px"})]})},kE=a=>a===""?"":a.endsWith("대학")?a+"교":a.endsWith("대")?a+"학교":a,TE=a=>!!(a.name||a.code||a.capacity||a.university||a.classType||a.schedule),dC=({course:a,onSubmit:e,onClose:t})=>{const[n,r]=S.useState({name:(a==null?void 0:a.name)||"",code:(a==null?void 0:a.code)||"",capacity:(a==null?void 0:a.capacity.toString())||"",university:(a==null?void 0:a.university)||"",classType:(a==null?void 0:a.classType)||"",schedule:(a==null?void 0:a.schedule)||[{day:Xd[0],start:"00:00",end:"00:00"}]}),[o,l]=S.useState({name:"",code:"",capacity:"",university:"",classType:n.classType===""?"강의 유형을 선택해 주세요":"",schedule:""}),d=()=>{e({...n,id:(a==null?void 0:a.id)||"",capacity:parseInt(n.capacity),accessCode:(a==null?void 0:a.accessCode)||0,fileName:(a==null?void 0:a.fileName)||""})},h=(y,w)=>{r(x=>({...x,[y]:w}))},p=(y,w,x)=>{r(A=>({...A,schedule:A.schedule.map((T,N)=>N===y?{...T,[w]:x}:T)}))},m=y=>{r(w=>({...w,schedule:w.schedule.filter((x,A)=>A!==y)}))},C=()=>{n.schedule.length>=10||r(y=>({...y,schedule:[...y.schedule,{day:Xd[0],start:"00:00",end:"00:00"}]}))};return S.useEffect(()=>{n.classType===""?l(y=>({...y,classType:"강의 유형을 선택해 주세요"})):l(y=>({...y,classType:""}))},[n.classType]),S.useEffect(()=>{n.schedule.forEach((y,w)=>{if(y.day===""){l(x=>({...x,schedule:`${w+1}번째 강의 요일을 선택해 주세요`}));return}else if(y.start>y.end){l(x=>({...x,schedule:`${w+1}번째 강의 시간을 확인해 주세요`}));return}else l(x=>({...x,schedule:""}))})},[n.schedule]),g.jsxs("form",{onClick:y=>{y.stopPropagation()},onSubmit:y=>{y.preventDefault(),d()},className:Nt.courseModal,children:[g.jsx("button",{className:Nt.closeButton,onClick:y=>{y.preventDefault(),t()},children:g.jsx(Vi,{className:Nt.closeIcon})}),g.jsx("h2",{className:Nt.title,children:a?"강의 정보 수정하기":"새 강의 만들기"}),g.jsxs("div",{className:Nt.modalContent,children:[g.jsx(Qp,{size:"full",title:"강의 이름",desc:o.name,placeholder:"강의 이름을 입력해 주세요",value:n.name,onInputChange:y=>h("name",y),onBlur:()=>{n.name===""?l(y=>({...y,name:"강의 이름을 입력해 주세요"})):l(y=>({...y,name:""}))}}),g.jsxs("div",{className:Nt.inputContainer,children:[g.jsx("div",{className:Nt.inputTitle,children:g.jsx("span",{children:"강의 유형"})}),g.jsxs("div",{className:Nt.categoryContainer,children:[w3.map(y=>g.jsx("button",{className:Nt.categoryChip,onClick:w=>{w.preventDefault(),h("classType",y)},children:g.jsx(Yd,{color:qd(y),text:y,isActive:n.classType===y})},y)),o.classType&&g.jsx("span",{className:Nt.errorText,children:o.classType})]})]}),g.jsxs("div",{className:Nt.inputContainer,children:[g.jsx("div",{className:Nt.inputTitle,children:g.jsx("span",{children:"강의 시간"})}),g.jsx("div",{className:Nt.scheduleList,children:n.schedule.map((y,w)=>g.jsxs("div",{className:Nt.scheduleContainer,children:[g.jsx(CE,{width:"109px",title:y.day,options:[...Xd],setTitle:x=>p(w,"day",x)}),g.jsxs("div",{className:Nt.timeInputContainer,children:[g.jsx(iy,{time:y.start,setTime:x=>p(w,"start",x)}),g.jsx("span",{className:Nt.timeDivider,children:"-"}),g.jsx(iy,{time:y.end,setTime:x=>p(w,"end",x)})]}),w!==0&&g.jsx("div",{className:Nt.deleteButton,children:g.jsx(oy,{onButtonClick:()=>m(w),type:"minus"})}),w===n.schedule.length-1&&w<9&&g.jsx("div",{className:Nt.addButton,children:g.jsx(oy,{onButtonClick:C,type:"plus"})})]},w))})]}),g.jsx(Qp,{title:"학수번호",placeholder:"학수번호를 입력해 주세요",desc:o.code,value:n.code,onInputChange:y=>h("code",y),onBlur:()=>{n.code===""?l(y=>({...y,code:"학수번호를 입력해 주세요"})):l(y=>({...y,code:""}))}}),g.jsx(Qp,{title:"인원 수",placeholder:"수업정원을 입력해 주세요",desc:o.capacity,value:n.capacity,onInputChange:y=>h("capacity",y),onBlur:()=>{n.capacity===""?l(y=>({...y,capacity:"수업정원을 입력해 주세요"})):/^\d*$/.test(n.capacity)?l(y=>({...y,capacity:""})):l(y=>({...y,capacity:"숫자만 입력해 주세요"}))}}),g.jsx(Qp,{title:"대학교",placeholder:"대학이름을 입력해 주세요",desc:o.university,value:n.university,onInputChange:y=>h("university",y),onBlur:()=>{n.university===""?l(y=>({...y,university:"대학이름을 입력해 주세요"})):(l(y=>({...y,university:""})),r(y=>({...y,university:kE(y.university)})))}})]}),g.jsx("div",{className:Nt.buttonContainer,children:g.jsx(At,{type:"submit",color:"blue",size:"web4",height:"80px",text:a?"정보 수정하기":"강의 만들기",onClick:()=>{},isActive:!TE(o)})})]})},PE="_modal_1tsnt_1",NE="_closeButton_1tsnt_11",LE="_modalContent_1tsnt_19",RE="_modalText_1tsnt_29",ME="_modalTitle_1tsnt_36",IE="_modalDescription_1tsnt_41",DE="_fileContainer_1tsnt_46",jE="_fileInfo_1tsnt_56",FE="_fileSize_1tsnt_66",OE="_deleteButton_1tsnt_72",BE="_buttonContainer_1tsnt_84",$E="_fileInput_1tsnt_91",ws={modal:PE,closeButton:NE,modalContent:LE,modalText:RE,modalTitle:ME,modalDescription:IE,fileContainer:DE,fileInfo:jE,fileSize:FE,deleteButton:OE,buttonContainer:BE,fileInput:$E},zE=({onClickCloseButton:a,onClickSaveButton:e})=>{const[t,n]=S.useState(null),r=S.useRef(null);function o(l){const d=l.target.files;d&&(rC(d[0]),n(d[0]))}return g.jsxs("div",{className:ws.modal,onClick:l=>l.stopPropagation(),children:[g.jsx("button",{className:ws.closeButton,onClick:a,children:g.jsx(Vi,{width:"19px",height:"19px",color:"var(--gray-600)"})}),g.jsxs("div",{className:ws.modalContent,children:[g.jsxs("div",{className:ws.modalText,children:[g.jsx("h1",{className:ws.modalTitle,children:"강의 자료 업로드하기"}),g.jsxs("p",{className:ws.modalDescription,children:["강의 자료를 업로드해 놓으면, ",g.jsx("br",{})," 강의 시작 후 수동으로 파일을 열지 않아도 자동으로 열려요."]})]}),t&&g.jsxs("div",{className:ws.fileContainer,children:[g.jsxs("span",{className:ws.fileInfo,children:[t.name," "]}),g.jsxs("p",{className:ws.fileSize,children:["(",Math.floor(t.size/1e3),"K)"]}),g.jsx("button",{className:ws.deleteButton,onClick:()=>{n(null),r.current&&(r.current.value="")},children:g.jsx(Vi,{width:"16px",height:"16px",color:"white"})})]}),g.jsxs("div",{className:ws.buttonContainer,children:[g.jsx("input",{type:"file",accept:".pdf",onChange:o,className:ws.fileInput,ref:r}),g.jsx(At,{color:"white",size:"web4",height:"80px",text:"내 PC에서 업로드하기",onClick:()=>{var l;return(l=r.current)==null?void 0:l.click()},isActive:!0}),g.jsx(At,{color:"blue",size:"web4",height:"80px",text:"저장하기",onClick:()=>t&&e(t),isActive:!!t})]})]})]})},HE="_modal_k5ebt_1",UE="_modalContainer_k5ebt_11",VE="_title_k5ebt_20",WE="_courseInfo_k5ebt_27",GE="_courseInfoText_k5ebt_34",qE="_university_k5ebt_40",XE="_courseName_k5ebt_45",YE="_wrapper_k5ebt_50",KE="_schedule_k5ebt_57",ZE="_capacity_k5ebt_75",QE="_icon_k5ebt_87",JE="_buttonContainer_k5ebt_94",Xn={modal:HE,modalContainer:UE,title:VE,courseInfo:WE,courseInfoText:GE,university:qE,courseName:XE,wrapper:YE,schedule:KE,capacity:ZE,icon:QE,buttonContainer:JE},hC=({course:a,isStarted:e=!1,handleClickBackButton:t,handleClickStartButton:n})=>g.jsx("div",{className:Xn.modal,children:g.jsxs("div",{className:Xn.modalContainer,children:[g.jsx("h2",{className:Xn.title,children:e?"수업을 계속할까요?":"오늘의 수업을 시작할까요?"}),g.jsxs("div",{className:Xn.courseInfo,children:[g.jsxs("div",{className:Xn.courseInfoText,children:[g.jsx("span",{className:Xn.university,children:a.university}),g.jsxs("h3",{className:Xn.courseName,children:[a.name," (",a.code,")"]})]}),g.jsxs("div",{className:Xn.wrapper,children:[g.jsxs("div",{className:Xn.schedule,children:[g.jsx(eh,{className:Xn.icon}),g.jsx("span",{children:a.schedule.map((r,o)=>U1(r,o===a.schedule.length-1))})]}),g.jsxs("div",{className:Xn.capacity,children:[g.jsx(th,{className:Xn.icon}),g.jsxs("span",{children:[a.capacity,"명"]})]})]})]}),g.jsxs("div",{className:Xn.buttonContainer,children:[g.jsx(At,{text:"뒤로가기",color:"white",size:"web4",onClick:t}),g.jsx(At,{text:"입장하기",color:"blue",size:"web4",onClick:n})]})]})}),ay=(a,e,t)=>{a(g.jsx(Wo,{type:"success",message:"파일이 성공적으로 업로드되었습니다.",buttonText:"확인",onClickCloseButton:()=>{t(),a(null)},onClickModalButton:async()=>{t(),a(null)}})),e()},A3=({setModal:a,openModal:e,closeModal:t,navigate:n,popupError:r})=>{const o=()=>{a(null),t()};return{handleDeleteCourse:C=>{a(g.jsx(Wo,{type:"caution",message:"강의를 삭제하시겠습니까?",description:"삭제된 강의는 복구가 불가능합니다. 정말 삭제하시겠습니까?",buttonText:"삭제",onClickCloseButton:()=>{o()},onClickModalButton:async()=>{try{await fs.deleteCourse(C.id),o(),a(null),n(0)}catch(y){r(y)}}})),e()},handleEditCourse:C=>{a(g.jsx(dC,{course:C,onClose:()=>{o()},onSubmit:async y=>{try{await fs.updateCourse(y),o(),a(null),n(0)}catch(w){r(w)}}})),e()},handleStartCourse:C=>{C&&(a(g.jsx(hC,{course:C,handleClickBackButton:o,handleClickStartButton:async()=>{try{await $r.startCourse(C.id),localStorage.clear()}catch{}o(),n(`/professor/course/${C.id}/classroom`)}})),e())},handleDetailCourse:C=>{n(`/professor/course/${C.id}`)},handleFileCourse:C=>{const y=async w=>{try{C!=null&&C.fileName?a(g.jsx(Wo,{type:"caution",message:"새 파일을 저장하시겠습니까?",description:"이미 저장된 강의자료가 있습니다. 삭제하고 새 파일을 저장하시겠습니까?",buttonText:"새 파일 저장",onClickModalButton:async()=>{await fs.uploadCourseFile(C.id,w),ay(a,e,t)},onClickCloseButton:()=>{o()}})):(await fs.uploadCourseFile(C.id,w),ay(a,e,t))}catch(x){r(x)}};a(g.jsx(zE,{onClickCloseButton:()=>{o()},onClickSaveButton:w=>{y(w)}})),e()}}},eA=()=>{const[a,e]=S.useState([]),[t,n]=S.useState([]),[r,o]=S.useState("수업 요일"),[l,d]=S.useState("수업 종류"),{openModal:h,closeModal:p,setModal:m,navigate:C,popupError:y}=p3(),{handleDeleteCourse:w,handleEditCourse:x,handleStartCourse:A,handleDetailCourse:T,handleFileCourse:N}=A3({setModal:m,openModal:h,closeModal:p,navigate:C,popupError:y}),L=lC(t,r,l);S.useEffect(()=>{async function M(){try{const F=await fs.getHomeCourses();n(F.totalCourse),e(F.todayCourse)}catch(F){y(F)}}M()},[]);const I=async()=>{m(g.jsx(dC,{onClose:()=>{m(null),p()},onSubmit:async M=>{try{await fs.createCourse(M),m(null),p(),C(0)}catch(F){y(F)}}})),h()};return g.jsxs("div",{className:Cn.container,children:[g.jsx("div",{className:Cn.header,children:g.jsx("div",{className:Cn.headerContainer,children:a.length>0?g.jsx(SS,{todayCourses:a,onDeleteCourse:w,onEditCourse:x,onStartCourse:A,onDetailCourse:T,onFileCourse:N}):g.jsxs("div",{className:Cn.noTodayCourse,children:[g.jsx("div",{className:Cn.rocket,children:g.jsx(_x,{className:Cn.rocketIcon})}),g.jsxs("div",{className:Cn.noTodayCourseText,children:[g.jsxs("h1",{className:Cn.title,children:["수업을 만들고 ",g.jsx("span",{children:"실시간 소통"}),"을 진행해보세요"]}),g.jsx("span",{className:Cn.description,children:"하단 + 버튼을 눌러 수업을 생성해보세요"})]})]})})}),g.jsxs("div",{className:Cn.content,children:[g.jsx("div",{className:Cn.courseAdd,children:g.jsx(Sx,{onButtonClick:I})}),g.jsxs("div",{className:Cn.courseList,children:[g.jsxs("div",{className:Cn.courseListHeader,children:[g.jsx("h2",{className:Cn.title,children:"수업 리스트"}),g.jsxs("div",{className:Cn.dropdownContainer,children:[g.jsx(V1,{title:r,options:Xd.map(M=>`${M}요일`),setTitle:o}),g.jsx(V1,{title:l,options:w3,setTitle:d})]})]}),g.jsx(uC,{filteredCourses:L,onDeleteCourse:w,onEditCourse:x,onStartCourse:A,onDetailCourse:T,onFileCourse:N})]})]})]})},tA="_container_18bc9_1",nA="_content_18bc9_7",sA="_title_18bc9_16",iA="_courseList_18bc9_25",rA="_filter_18bc9_31",vd={container:tA,content:nA,title:sA,courseList:iA,filter:rA},oA=()=>{const[a,e]=S.useState([]),[t,n]=S.useState("수업 요일"),[r,o]=S.useState("수업 종류"),{openModal:l,closeModal:d,setModal:h,navigate:p,popupError:m}=p3(),{handleDeleteCourse:C,handleEditCourse:y,handleStartCourse:w,handleDetailCourse:x,handleFileCourse:A}=A3({setModal:h,openModal:l,closeModal:d,navigate:p,popupError:m}),[T]=iC(),N=T.get("keyword")||"",L=lC(a,t,r);return S.useEffect(()=>{N.trim()===""&&p("/professor")},[N,p]),S.useEffect(()=>{async function I(){try{const M=await fs.searchCourses(N||"");e(M)}catch(M){m(M)}}I()},[N]),g.jsx("div",{className:vd.container,children:g.jsxs("div",{className:vd.content,children:[g.jsxs("h2",{className:vd.title,children:["검색 결과 ",g.jsxs("span",{children:[L.length,"건"]})]}),g.jsxs("div",{className:vd.courseList,children:[g.jsxs("div",{className:vd.filter,children:[g.jsx(V1,{title:t,options:Xd.map(I=>`${I}요일`),setTitle:n}),g.jsx(V1,{title:r,options:w3,setTitle:o})]}),g.jsx(uC,{filteredCourses:L,onDetailCourse:x,onDeleteCourse:C,onEditCourse:y,onFileCourse:A,onStartCourse:w})]})]})})},aA="_gsiMaterialButton_m5jns_3",lA="_gsiMaterialButtonIcon_m5jns_43",cA="_gsiMaterialButtonContentWrapper_m5jns_50",uA="_gsiMaterialButtonContents_m5jns_64",dA="_gsiMaterialButtonState_m5jns_74",yd={gsiMaterialButton:aA,gsiMaterialButtonIcon:lA,gsiMaterialButtonContentWrapper:cA,gsiMaterialButtonContents:uA,gsiMaterialButtonState:dA},hA=({onClick:a})=>g.jsxs("button",{className:yd.gsiMaterialButton,onClick:a,children:[g.jsx("div",{className:yd.gsiMaterialButtonState}),g.jsxs("div",{className:yd.gsiMaterialButtonContentWrapper,children:[g.jsx("div",{className:yd.gsiMaterialButtonIcon,children:g.jsxs("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{display:"block"},children:[g.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),g.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),g.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),g.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),g.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})}),g.jsx("span",{className:yd.gsiMaterialButtonContents,children:"Google 계정으로 로그인"})]})]}),fA="_container_ozbh3_1",pA="_info_ozbh3_8",mA="_logo_ozbh3_24",gA="_mainDescription_ozbh3_29",vA="_subDescription_ozbh3_35",yA="_divider_ozbh3_40",CA="_loginArea_ozbh3_50",_A="_image_ozbh3_59",wA="_loginText_ozbh3_72",xA="_buttonContainer_ozbh3_78",SA="_privateButton_ozbh3_96",EA="_modal_ozbh3_101",xs={container:fA,info:pA,logo:mA,mainDescription:gA,subDescription:vA,divider:yA,loginArea:CA,image:_A,loginText:wA,buttonContainer:xA,private:"_private_ozbh3_87",privateButton:SA,modal:EA},AA="/assets/professor-login-BTytNw5L.png",bA="_container_11zy8_1",kA="_closeButton_11zy8_14",TA="_content_11zy8_23",PA="_title_11zy8_34",NA="_updatedDate_11zy8_39",LA="_description_11zy8_44",RA="_divider_11zy8_50",MA="_privateStart_11zy8_91",uo={container:bA,closeButton:kA,content:TA,title:PA,updatedDate:NA,description:LA,divider:RA,privateStart:MA},IA=({onClose:a})=>g.jsxs("div",{className:uo.container,onClick:e=>e.stopPropagation(),children:[g.jsx("button",{className:uo.closeButton,onClick:a,children:g.jsx(Vi,{width:"19px",height:"19px"})}),g.jsxs("div",{className:uo.content,children:[g.jsx("h1",{className:uo.title,children:"개인정보 처리방침"}),g.jsx("p",{className:uo.updatedDate,children:"최종 업데이트일: 2025년 1월 21일"}),g.jsx("p",{className:uo.description,children:'리액트온(이하 "서비스")은 사용자의 개인정보를 소중히 여기며, 관련 법률과 규정을 준수하여 개인정보를 안전하게 관리합니다. 본 개인정보 처리방침은 사용자가 제공한 개인정보가 어떻게 수집, 사용, 저장 및 보호되는지에 대해 설명합니다.'}),g.jsxs("div",{className:uo.divider,children:[g.jsxs("div",{children:[g.jsx("h2",{children:"1. 수집하는 개인정보"}),g.jsx("p",{children:"리액트온은 서비스 제공을 위해 다음과 같은 개인정보를 수집합니다:"}),g.jsxs("ul",{children:["1. Google 로그인 시 자동 수집",g.jsx("li",{children:"이름"}),g.jsx("li",{children:"이메일 주소"}),g.jsx("li",{children:"사용자가 직접 입력하는 정보"})]}),g.jsxs("ul",{children:["2. 사용자가 직접 입력하는 정보",g.jsx("li",{children:"대학교 이름"}),g.jsx("li",{children:"강의 명 및 학수번호"}),g.jsx("li",{children:"강의 자료 (PDF 파일)"})]})]}),g.jsxs("div",{children:[g.jsx("h2",{children:"2. 개인정보 수집 및 이용 목적"}),g.jsx("p",{children:"수집된 개인정보는 다음과 같은 목적을 위해 사용됩니다:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"서비스 제공 및 관리: 강의 참여 및 자료 공유를 위한 계정 생성 및 관리."}),g.jsx("li",{children:"커뮤니케이션: 사용자 문의 응대 및 서비스 관련 공지사항 전달."}),g.jsx("li",{children:"서비스 개선: 사용 경험 개선 및 서비스 품질 향상."})]})]}),g.jsxs("div",{children:[g.jsx("h2",{children:"3. 개인정보 보관 및 파기"}),g.jsx("h3",{children:"(1) 보관 기간"}),g.jsx("p",{children:"수집된 개인정보는 사용자가 서비스를 이용하는 동안 보관되며, 탈퇴 요청 시 안전하게 삭제됩니다."}),g.jsx("h3",{children:"휴면 계정 정책:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"교수님이 마지막으로 접속한 시점을 기준으로 1년 동안 로그인 기록이 없으면 해당 계정을 휴면 상태로 전환합니다."}),g.jsx("li",{children:"휴면 상태로 전환된 계정은 다시 로그인하면 활성 상태로 복구됩니다."}),g.jsx("li",{children:"휴면 상태로 전환된 후 2년(마지막 접속 시점으로부터 총 3년) 동안 추가 접속이 없을 경우, 해당 계정과 관련된 모든 강의 데이터를 영구 삭제합니다."}),g.jsx("li",{children:"삭제된 데이터는 복구가 불가능합니다."})]}),g.jsx("h3",{children:"(2) 파기 절차 및 방법"}),g.jsx("p",{children:"개인정보는 보관 기간이 종료된 후 복구할 수 없도록 안전하게 삭제됩니다."}),g.jsx("ul",{children:g.jsx("li",{children:"전자 파일은 영구 삭제됩니다."})})]}),g.jsxs("div",{children:[g.jsx("h2",{children:"4. 개인정보의 제3자 제공"}),g.jsx("p",{children:"리액트온은 원칙적으로 사용자의 개인정보를 제3자에게 제공하지 않습니다. 단, 법률에 의해 요구되는 경우나 사용자의 동의를 받은 경우에 한하여 제공할 수 있습니다."})]}),g.jsxs("div",{children:[g.jsx("h2",{children:"5. 개인정보의 안전성 확보 조치"}),g.jsx("p",{children:"리액트온은 사용자의 개인정보를 안전하게 보호하기 위해 다음과 같은 조치를 취하고 있습니다:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"데이터 암호화 및 접근 제한"}),g.jsx("li",{children:"정기적인 보안 점검"})]})]}),g.jsxs("div",{children:[g.jsx("h2",{children:"6. 사용자 권리 및 행사 방법"}),g.jsx("p",{children:"사용자는 언제든지 본인의 개인정보 열람, 수정, 삭제를 요청할 수 있습니다. 요청은 서비스 내 설정 페이지 또는 아래의 연락처를 통해 가능합니다."})]}),g.jsxs("div",{children:[g.jsx("h2",{children:"7. 개인정보 관련 문의"}),g.jsx("p",{children:"개인정보와 관련된 문의 사항이 있으시면 아래의 연락처로 연락 주시기 바랍니다:"}),g.jsx("ul",{children:g.jsxs("li",{children:["이메일:",g.jsx("a",{href:"mailto:alsry0712@gmail.com",children:"alsry0712@gmail.com"})]})})]}),g.jsx("p",{className:uo.privateStart,children:"위 개인정보 처리방침은 2025년 1월 21일부터 적용됩니다."})]})]})]}),DA=()=>{const{Modal:a,openModal:e,closeModal:t}=Zo(),[n,r]=S.useState(!1),o=()=>{r(!0),e()},l=()=>{bw.login("google")};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:xs.container,children:[g.jsxs("div",{className:xs.info,children:[g.jsx("div",{className:xs.logo,children:g.jsx(If,{width:"100%",height:"100%"})}),g.jsxs("h1",{className:xs.mainDescription,children:["함께 만드는 활기찬 강의, ",g.jsx("br",{}),"익명으로 소통하고 참여로 성장하는 수업"]}),g.jsxs("p",{className:xs.subDescription,children:["대면 강의의 새로운 변화! 실시간 피드백 확인이 가능한 수업 보조 서비스. ",g.jsx("br",{}),"익명 리액션과 질문으로 누구나 부담 없이 참여하고, 모두 함께 몰입하는 수업을 경험하세요."]})]}),g.jsxs("div",{className:xs.divider,children:[g.jsxs("div",{className:xs.loginArea,children:[g.jsx("div",{className:xs.image,children:g.jsx("img",{src:AA,alt:"login"})}),g.jsx("h1",{className:xs.loginText,children:"간편하게 시작해 보세요"}),g.jsx("div",{className:xs.buttonContainer,children:g.jsx(hA,{onClick:l})})]}),g.jsx("div",{className:xs.private,children:g.jsx("button",{className:xs.privateButton,onClick:o,children:"개인정보 처리방침"})})]})]}),n&&g.jsx(a,{children:g.jsx(IA,{onClose:()=>{t(),r(!1)}})})]})},jA="_frame_1dmi2_1",FA="_container_1dmi2_11",OA="_content_1dmi2_21",BA="_title_1dmi2_31",$A="_inputContainer_1dmi2_36",zA="_label_1dmi2_41",HA="_profileContainer_1dmi2_47",UA="_profileInput_1dmi2_54",VA="_profileIcon_1dmi2_58",WA="_textInput_1dmi2_75",Yn={frame:jA,container:FA,content:OA,title:BA,inputContainer:$A,label:zA,profileContainer:HA,profileInput:UA,profileIcon:VA,textInput:WA},GA=()=>{const[a,e]=S.useState(null),[t,n]=S.useState(""),[r,o]=S.useState(!1),l=S.useRef(null),{popupError:d,ErrorModal:h}=Df(),p=y=>{const w=y.target.files;if(w)try{Kg(w[0]),e(w[0])}catch(x){d(x)}},m=y=>{n(y.target.value)},C=async y=>{if(y.preventDefault(),!r){_w(t),a&&Kg(a);try{o(!0),await ya.createProfessor(t,a)}catch(w){d(w)}finally{o(!1)}}};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:Yn.frame,children:g.jsx("div",{className:Yn.container,children:g.jsxs("form",{className:Yn.content,onSubmit:C,children:[g.jsx("h1",{className:Yn.title,children:"회원가입 정보 입력"}),g.jsxs("div",{className:Yn.inputContainer,children:[g.jsx("label",{className:Yn.label,children:"프로필 사진"}),g.jsxs("div",{className:Yn.profileContainer,children:[a?g.jsx("div",{className:Yn.profileIcon,children:g.jsx("img",{src:URL.createObjectURL(a),alt:"profile"})}):g.jsx("div",{className:Yn.profileIcon,children:g.jsx(_3,{width:"52px",height:"52px",color:"var(--blue-300)"})}),g.jsx("input",{className:Yn.profileInput,type:"file",accept:"image/*",ref:l,onChange:p}),g.jsx(At,{text:a?"다시 고르기":"사진 선택",color:"white",size:"web3",width:a?"151px":"136px",height:"53px",onClick:y=>{var w;y.preventDefault(),(w=l.current)==null||w.click()}})]})]}),g.jsxs("div",{className:Yn.inputContainer,children:[g.jsx("label",{className:Yn.label,children:"사용자 이름"}),g.jsx("input",{className:Yn.textInput,type:"text",placeholder:"이름을 입력해 주세요",onChange:m})]}),g.jsx(At,{text:"회원가입하기",type:"submit",color:"blue",size:"web4",height:"80px",onClick:()=>{},isActive:t.length>0})]})})}),g.jsx(h,{})]})},qA="_background_12ukd_1",XA="_container_12ukd_5",YA="_contentContainer_12ukd_15",KA="_title_12ukd_21",ZA="_content_12ukd_15",QA="_profileContent_12ukd_34",JA="_subTitle_12ukd_48",eb="_profileWrapper_12ukd_53",tb="_profileImageContainer_12ukd_59",nb="_profileImage_12ukd_59",sb="_profileInput_12ukd_89",ib="_profileButtonContainer_12ukd_93",rb="_text_12ukd_98",ob="_accountContentText_12ukd_113",ab="_subDescription_12ukd_119",$e={background:qA,container:XA,contentContainer:YA,title:KA,content:ZA,profileContent:QA,subTitle:JA,profileWrapper:eb,profileImageContainer:tb,profileImage:nb,profileInput:sb,profileButtonContainer:ib,text:rb,accountContentText:ob,subDescription:ab},ly=({onEdit:a,onCancel:e})=>g.jsxs(g.Fragment,{children:[g.jsx(At,{color:"white",size:"web3",width:"91px",height:"53px",text:"확인",onClick:a}),g.jsx(At,{color:"gray",size:"web3",width:"91px",height:"53px",text:"취소",onClick:e})]}),lb=()=>{const[a,e]=S.useState({profileImage:null,name:""}),[t,n]=S.useState({profileImage:!1,name:!1}),[r,o]=S.useState(null),l=S.useRef(null),d=S.useRef(""),h=S.useRef(""),p=S.useRef(null),{openModal:m,closeModal:C,setModal:y,popupError:w}=p3();S.useEffect(()=>{async function F(){try{const z=await ya.getProfessor();let U=null;z.profileURL&&z.profileURL!==""&&(U=new Image,U.src=z.profileURL,l.current=U),e({profileImage:U,name:z.name}),d.current=z.name,h.current=z.email}catch(z){w(z)}}F()},[]),S.useEffect(()=>()=>{var F;(F=a.profileImage)!=null&&F.src.startsWith("blob:")&&URL.revokeObjectURL(a.profileImage.src)},[a.profileImage]);const x=async()=>{try{const F=await ya.updateProfessorProfile(r);if(F!==""){const z=new Image;z.src=F,l.current=z}else l.current=null;o(null),e({...a,profileImage:l.current}),n({...t,profileImage:!1})}catch(F){w(F)}},A=async()=>{try{const F=await ya.updateProfessorName(a.name);d.current=F,e({...a,name:d.current}),n({...t,name:!1})}catch(F){w(F)}},T=F=>{var z;try{const U=F.target.files;if(U&&U[0]){Kg(U[0]),(z=a.profileImage)!=null&&z.src.startsWith("blob:")&&URL.revokeObjectURL(a.profileImage.src);const q=U[0],Y=new Image;Y.src=URL.createObjectURL(q),e({...a,profileImage:Y}),o(q),F.target.value=""}}catch(U){w(U)}},N=F=>{F==="profile"?(n({...t,profileImage:!1}),e({...a,profileImage:l.current}),o(null)):F==="name"&&(n({...t,name:!1}),e({...a,name:d.current}))},L=()=>{C(),y(null)},I=()=>{y(g.jsx(Wo,{type:"ask",message:"정말 로그아웃하시겠습니까?",description:"언제든지 다시 로그인 할 수 있습니다. 로그아웃 하시겠습니까?",buttonText:"로그아웃 하기",onClickModalButton:async()=>{try{await ya.logout()}catch(F){w(F)}},onClickCloseButton:L})),m()},M=()=>{y(g.jsx(Wo,{type:"caution",message:"정말 탈퇴하시겠습니까?",description:"모든 데이터가 삭제되며 취소할 수 없습니다. 정말 탈퇴하시겠습니까?",buttonText:"회원탈퇴하기",onClickModalButton:async()=>{try{await ya.deleteProfessor()}catch(F){w(F)}},onClickCloseButton:L})),m()};return g.jsx("div",{className:$e.background,children:g.jsxs("div",{className:$e.container,children:[g.jsxs("div",{className:$e.contentContainer,children:[g.jsx("h2",{className:$e.title,children:"계정 정보"}),g.jsxs("div",{className:$e.content,children:[g.jsxs("div",{className:$e.profileContent,children:[g.jsx("h3",{className:$e.subTitle,children:"프로필 사진"}),g.jsxs("div",{className:$e.profileWrapper,children:[g.jsxs("div",{className:$e.profileImageContainer,children:[g.jsx("div",{className:$e.profileImage,children:a.profileImage&&a.profileImage.src!==""?g.jsx("img",{src:a.profileImage.src,alt:"profile"}):g.jsx(_3,{})}),t.profileImage&&g.jsxs(g.Fragment,{children:[g.jsx("input",{className:$e.profileInput,type:"file",accept:"image/*",ref:p,onChange:T}),g.jsx(At,{color:"white",size:"web3",width:"182px",height:"53px",text:"다시 고르기",onClick:F=>{var z;F.preventDefault(),(z=p.current)==null||z.click()}}),g.jsx(At,{color:"red",size:"web3",width:"93px",height:"53px",text:"삭제",onClick:()=>{e({...a,profileImage:null}),o(null)}})]})]}),g.jsx("div",{className:$e.profileButtonContainer,children:t.profileImage?ly({onEdit:()=>x(),onCancel:()=>N("profile")}):g.jsx(At,{color:"white",size:"web3",width:"91px",height:"53px",text:"수정",onClick:()=>n({...t,profileImage:!0})})})]})]}),g.jsxs("div",{className:$e.profileContent,children:[g.jsx("h3",{className:$e.subTitle,children:"사용자 이름"}),g.jsxs("div",{className:$e.profileWrapper,children:[t.name?g.jsx("input",{className:$e.text,type:"text",value:a.name,onChange:F=>e({...a,name:F.target.value})}):g.jsx("span",{className:$e.text,children:a.name}),g.jsx("div",{className:$e.profileButtonContainer,children:t.name?ly({onEdit:()=>A(),onCancel:()=>N("name")}):g.jsx(At,{color:"white",size:"web3",width:"91px",height:"53px",text:"수정",onClick:()=>n({...t,name:!0})})})]})]}),g.jsxs("div",{className:$e.profileContent,children:[g.jsx("h3",{className:$e.subTitle,children:"이메일 주소"}),g.jsx("span",{className:$e.text,children:h.current})]})]})]}),g.jsxs("div",{className:$e.contentContainer,children:[g.jsx("h2",{className:$e.title,children:"계정 관리"}),g.jsxs("div",{className:$e.content,children:[g.jsx("div",{className:$e.profileContent,children:g.jsxs("div",{className:$e.profileWrapper,children:[g.jsxs("div",{className:$e.accountContentText,children:[g.jsx("h3",{className:$e.subTitle,children:"로그아웃"}),g.jsx("span",{className:$e.subDescription,children:"언제든지 다시 이메일로 로그인 할 수 있습니다"})]}),g.jsx(At,{color:"white",size:"web3",width:"185px",height:"53px",text:"로그아웃",onClick:I})]})}),g.jsx("div",{className:$e.profileContent,children:g.jsxs("div",{className:$e.profileWrapper,children:[g.jsxs("div",{className:$e.accountContentText,children:[g.jsx("h3",{className:$e.subTitle,children:"회원탈퇴"}),g.jsx("span",{className:$e.subDescription,children:"탈퇴시 모든 데이터가 삭제되며 취소할 수 없습니다"})]}),g.jsx(At,{color:"red",size:"web3",width:"185px",height:"53px",text:"회원탈퇴",onClick:M})]})})]})]})]})})},cb=a=>S.createElement("svg",{width:24,height:25,viewBox:"0 0 24 25",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M5.25 11.7734H20.25C20.4489 11.7734 20.6397 11.8525 20.7803 11.9931C20.921 12.1338 21 12.3245 21 12.5234C21 12.7223 20.921 12.9131 20.7803 13.0538C20.6397 13.1944 20.4489 13.2734 20.25 13.2734H5.25C5.05109 13.2734 4.86032 13.1944 4.71967 13.0538C4.57902 12.9131 4.5 12.7223 4.5 12.5234C4.5 12.3245 4.57902 12.1338 4.71967 11.9931C4.86032 11.8525 5.05109 11.7734 5.25 11.7734Z",fill:"#8593B0"}),S.createElement("path",{d:"M5.56184 12.5244L11.7823 18.7434C11.9232 18.8842 12.0023 19.0752 12.0023 19.2744C12.0023 19.4735 11.9232 19.6646 11.7823 19.8054C11.6415 19.9462 11.4505 20.0253 11.2513 20.0253C11.0522 20.0253 10.8612 19.9462 10.7203 19.8054L3.97034 13.0554C3.9005 12.9857 3.84508 12.903 3.80727 12.8118C3.76946 12.7207 3.75 12.623 3.75 12.5244C3.75 12.4257 3.76946 12.3281 3.80727 12.2369C3.84508 12.1458 3.9005 12.0631 3.97034 11.9934L10.7203 5.24338C10.8612 5.10255 11.0522 5.02344 11.2513 5.02344C11.4505 5.02344 11.6415 5.10255 11.7823 5.24338C11.9232 5.38421 12.0023 5.57522 12.0023 5.77438C12.0023 5.97355 11.9232 6.16456 11.7823 6.30539L5.56184 12.5244Z",fill:"#8593B0"})),ub="_buttonContainer_f61n0_1",db={buttonContainer:ub},hb=({onButtonClick:a})=>g.jsx("button",{className:db.buttonContainer,onClick:a,children:g.jsx(cb,{height:"24px",color:"var(--gray-500)"})}),fb="_professorCourse_t1g2t_1",pb="_professorCourseHeader_t1g2t_8",mb="_backButton_t1g2t_18",gb="_professorCourseHeaderContainer_t1g2t_25",vb="_professorCourseHeaderInfo_t1g2t_32",yb="_infoText_t1g2t_38",Cb="_courseUniversity_t1g2t_44",_b="_courseTitle_t1g2t_49",wb="_courseSubInfo_t1g2t_54",xb="_courseSchedule_t1g2t_59",Sb="_clockIcon_t1g2t_65",Eb="_subInfoText_t1g2t_70",Ab="_divider_t1g2t_75",bb="_coursePeople_t1g2t_81",kb="_peopleIcon_t1g2t_87",Tb="_courseCategory_t1g2t_92",Pb="_right_t1g2t_99",Nb="_courseAccessCode_t1g2t_104",Lb="_accessCodeText_t1g2t_114",Rb="_headerButtonContainer_t1g2t_119",Mb="_professorCourseBody_t1g2t_124",Ib="_bodyContainer_t1g2t_133",Db="_bodyHeader_t1g2t_140",jb="_bodyContent_t1g2t_145",Fb="_courseBodyContainer_t1g2t_151",Ob="_courseBodyTitle_t1g2t_164",Bb="_bodyButtonContainer_t1g2t_169",Ge={professorCourse:fb,professorCourseHeader:pb,backButton:mb,professorCourseHeaderContainer:gb,professorCourseHeaderInfo:vb,infoText:yb,courseUniversity:Cb,courseTitle:_b,courseSubInfo:wb,courseSchedule:xb,clockIcon:Sb,subInfoText:Eb,divider:Ab,coursePeople:bb,peopleIcon:kb,courseCategory:Tb,right:Pb,courseAccessCode:Nb,accessCodeText:Lb,headerButtonContainer:Rb,professorCourseBody:Mb,bodyContainer:Ib,bodyHeader:Db,bodyContent:jb,courseBodyContainer:Fb,courseBodyTitle:Ob,bodyButtonContainer:Bb},$b=a=>S.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M13.2936 0C13.6464 0 13.962 0.219598 14.0808 0.548395L14.9279 2.89677C15.2311 2.97197 15.4927 3.04877 15.7127 3.12717C15.9527 3.21277 16.2647 3.34477 16.6487 3.52317L18.6214 2.47918C18.7823 2.39347 18.9668 2.36246 19.1469 2.39082C19.327 2.41918 19.493 2.50537 19.6198 2.63638L21.3549 4.43036C21.5853 4.66916 21.6501 5.01835 21.5205 5.32315L20.5953 7.49153C20.7481 7.77313 20.8713 8.01472 20.9649 8.21632C21.0657 8.43472 21.1905 8.73872 21.3393 9.12831L23.4956 10.0523C23.8196 10.1903 24.02 10.5143 23.9984 10.8611L23.84 13.3511C23.8292 13.5128 23.7711 13.6679 23.673 13.7969C23.5749 13.926 23.441 14.0234 23.288 14.0771L21.2457 14.8031C21.1873 15.0847 21.1257 15.3271 21.0609 15.5303C20.9561 15.8452 20.8367 16.1551 20.7033 16.459L21.7293 18.727C21.8023 18.8863 21.8221 19.0648 21.7858 19.2361C21.7495 19.4075 21.659 19.5627 21.5277 19.6786L19.5766 21.421C19.4483 21.5357 19.2879 21.6083 19.1171 21.6289C18.9463 21.6495 18.7732 21.6171 18.6214 21.5362L16.6103 20.4706C16.2959 20.6379 15.9713 20.785 15.6383 20.911L14.7599 21.2398L13.98 23.3998C13.9216 23.5576 13.8172 23.6942 13.6803 23.792C13.5433 23.8898 13.3802 23.9442 13.212 23.9482L10.9321 23.9998C10.7593 24.0038 10.5896 23.9544 10.4459 23.8584C10.3023 23.7625 10.1917 23.6245 10.1293 23.4634L9.21012 21.031C8.89659 20.9236 8.58608 20.8076 8.27895 20.683C8.02783 20.5743 7.78049 20.457 7.53738 20.3314L5.25746 21.3058C5.10729 21.3702 4.9416 21.3894 4.78068 21.3611C4.61977 21.3327 4.47061 21.258 4.35149 21.1462L2.66435 19.5634C2.53827 19.4464 2.45239 19.2925 2.41899 19.1238C2.38559 18.955 2.40637 18.7801 2.47836 18.6238L3.45872 16.4878C3.3288 16.2346 3.20793 15.9769 3.09633 15.7151C2.96635 15.3944 2.84629 15.0699 2.73635 14.7419L0.588421 14.0879C0.413828 14.0351 0.261545 13.9261 0.155223 13.7779C0.0489015 13.6297 -0.00550937 13.4506 0.000440948 13.2683L0.084438 10.9631C0.090678 10.8128 0.137766 10.667 0.220643 10.5414C0.30352 10.4158 0.419051 10.3152 0.554822 10.2503L2.80834 9.16791C2.91234 8.78552 3.00434 8.48632 3.08433 8.27032C3.19755 7.98023 3.32327 7.69516 3.46112 7.41593L2.48435 5.35195C2.40967 5.19533 2.38685 5.01897 2.41922 4.8485C2.45158 4.67802 2.53745 4.52231 2.66435 4.40396L4.34909 2.81277C4.46703 2.70112 4.61482 2.62605 4.77455 2.59666C4.93427 2.56727 5.0991 2.58482 5.24906 2.64718L7.52658 3.58797C7.77777 3.42077 8.00656 3.28317 8.21296 3.17517C8.45855 3.04557 8.78814 2.90717 9.20172 2.75997L9.99369 0.550795C10.0528 0.389507 10.16 0.250231 10.3008 0.151744C10.4415 0.0532573 10.6091 0.000295928 10.7809 0L13.2936 0ZM12.0288 8.42272C10.0285 8.42272 8.40735 10.0247 8.40735 12.0023C8.40735 13.9799 10.0285 15.5831 12.0288 15.5831C14.0292 15.5831 15.6491 13.9799 15.6491 12.0023C15.6491 10.0247 14.0292 8.42272 12.0288 8.42272Z",fill:"#4D586F"})),zb=a=>S.createElement("svg",{width:24,height:25,viewBox:"0 0 24 25",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M23.097 4.4494H17.132V3.38087C17.1272 2.62427 16.8074 1.89978 16.2417 1.36386C15.9598 1.09688 15.6248 0.885172 15.2559 0.740935C14.887 0.596698 14.4915 0.522781 14.0922 0.523442H9.94595C9.54666 0.522781 9.15117 0.596698 8.78227 0.740935C8.41338 0.885172 8.07835 1.09688 7.7965 1.36386C7.23537 1.90172 6.92026 2.62598 6.91892 3.38087V4.4494H0.953895C0.700906 4.4494 0.458279 4.54427 0.279389 4.71314C0.100499 4.88201 0 5.11104 0 5.34985C0 5.58867 0.100499 5.8177 0.279389 5.98657C0.458279 6.15544 0.700906 6.2503 0.953895 6.2503H2.75994V20.3694C2.75475 20.9166 2.86448 21.4593 3.08278 21.9662C3.30108 22.4732 3.62363 22.9343 4.0318 23.3228C4.86401 24.0926 5.98275 24.5236 7.14785 24.5234H16.8394C18.0045 24.5236 19.1233 24.0926 19.9555 23.3228C20.3636 22.9343 20.6862 22.4732 20.9045 21.9662C21.1228 21.4593 21.2325 20.9166 21.2273 20.3694V6.2503H23.0461C23.2991 6.2503 23.5417 6.15544 23.7206 5.98657C23.8995 5.8177 24 5.58867 24 5.34985C24 5.11104 23.8995 4.88201 23.7206 4.71314C23.5417 4.54427 23.2991 4.4494 23.0461 4.4494H23.097ZM8.85215 3.38087C8.8522 3.24229 8.88147 3.10511 8.93824 2.97731C8.99501 2.84952 9.07816 2.73366 9.18283 2.6365C9.3931 2.4402 9.67568 2.32833 9.97138 2.32434H14.1176C14.2665 2.32347 14.414 2.35062 14.5516 2.40422C14.6892 2.45782 14.8141 2.53679 14.9189 2.6365C15.1269 2.83498 15.2454 3.10174 15.2496 3.38087V4.4494H8.8903L8.85215 3.38087ZM10.5437 18.5204C10.5437 18.8389 10.4097 19.1442 10.1712 19.3694C9.93268 19.5945 9.60918 19.721 9.27186 19.721C8.93454 19.721 8.61104 19.5945 8.37252 19.3694C8.134 19.1442 8 18.8389 8 18.5204V12.0012C8 11.6828 8.134 11.3774 8.37252 11.1522C8.61104 10.9271 8.93454 10.8006 9.27186 10.8006C9.60918 10.8006 9.93268 10.9271 10.1712 11.1522C10.4097 11.3774 10.5437 11.6828 10.5437 12.0012V18.5204ZM16.089 18.5204C16.089 18.8389 15.955 19.1442 15.7165 19.3694C15.478 19.5945 15.1545 19.721 14.8172 19.721C14.4799 19.721 14.1564 19.5945 13.9178 19.3694C13.6793 19.1442 13.5453 18.8389 13.5453 18.5204V12.0012C13.5453 11.6828 13.6793 11.3774 13.9178 11.1522C14.1564 10.9271 14.4799 10.8006 14.8172 10.8006C15.1545 10.8006 15.478 10.9271 15.7165 11.1522C15.955 11.3774 16.089 11.6828 16.089 12.0012V18.5204Z",fill:"white"})),Hb="_buttonContainer_1t0tk_1",Ub="_gray_1t0tk_7",Vb="_red_1t0tk_11",cy={buttonContainer:Hb,gray:Ub,red:Vb},uy=({onButtonClick:a,type:e,bg:t})=>{const n=cy[t]||"";return g.jsxs("button",{className:`${cy.buttonContainer} ${n}`,onClick:a,children:[e==="setting"&&g.jsx($b,{}),e==="trash"&&g.jsx(zb,{})]})},Wb="_container_ijaiy_1",Gb="_page_ijaiy_9",qb="_pageNumber_ijaiy_16",Xb="_currentPage_ijaiy_21",e1={container:Wb,page:Gb,pageNumber:qb,currentPage:Xb},Yb="_page_brhf7_1",Kb="_noQuestion_brhf7_9",Zb="_question_brhf7_16",Cd={page:Yb,noQuestion:Kb,question:Zb},dy=({question:a})=>a===""?g.jsx("div",{className:`${Cd.page} ${Cd.noQuestion}`,children:g.jsx("p",{className:Cd.question,children:"답변되지 않은 질문이 없습니다."})}):g.jsx("div",{className:Cd.page,children:g.jsx("p",{className:Cd.question,children:a})}),Qb=({questions:a})=>{const{prevPage:e,nextPage:t,PaginationDiv:n,page:r,totalPages:o}=jf();return g.jsxs("div",{className:e1.container,children:[g.jsx(n,{children:a.length===0?g.jsx(dy,{question:""}):a.map(l=>g.jsx(dy,{question:l.content},l.id))}),g.jsxs("div",{className:e1.page,children:[g.jsx(Au,{type:"prev",onButtonClick:e,isActive:r>0}),g.jsxs("div",{className:e1.pageNumber,children:[g.jsx("span",{className:e1.currentPage,children:r+1})," /"," ",Math.max(1,o)]}),g.jsx(Au,{type:"next",onButtonClick:t,isActive:r<o-1})]})]})},Jb="_courseRequest_3lmex_1",ek={courseRequest:Jb},_m=a=>S.createElement("svg",{width:28,height:39,viewBox:"0 0 28 39",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M28 12.4256C28 19.4437 21.6364 20.5336 21.6364 27.0744C21.6364 30.451 17.6616 30.7355 14.6364 30.7355C12.0235 30.7355 6.25418 29.8864 6.25418 27.0722C6.25418 20.5347 0 19.4448 0 12.4256C0 5.85215 6.72636 0.523438 14.1056 0.523438C21.4875 0.523438 28 5.85215 28 12.4256Z",fill:"url(#paint0_linear_2208_3163)"}),S.createElement("path",{d:"M19.3061 35.7946C19.3061 36.6971 16.4629 38.5196 14.0027 38.5196C11.5425 38.5196 8.69922 36.6971 8.69922 35.7946C8.69922 34.892 11.5412 35.2496 14.0027 35.2496C16.4629 35.2496 19.3061 34.892 19.3061 35.7946Z",fill:"#CCD6DD"}),S.createElement("path",{d:"M19.9894 11.5774C19.4918 11.1513 18.6874 11.1513 18.1898 11.5774L13.9987 15.1666L9.80763 11.5774C9.30999 11.1513 8.50563 11.1513 8.00799 11.5774C7.51036 12.0036 7.51036 12.6924 8.00799 13.1186L12.726 17.1589V28.6969C12.726 29.2996 13.2962 29.7868 13.9987 29.7868C14.7013 29.7868 15.2714 29.2996 15.2714 28.6969V17.1589L19.9894 13.1186C20.4871 12.6924 20.4871 12.0036 19.9894 11.5774Z",fill:"#FFCC4D"}),S.createElement("path",{d:"M21.636 34.1573C21.636 35.3606 20.4956 36.3373 19.0906 36.3373H8.90874C7.50364 36.3373 6.36328 35.3606 6.36328 34.1573V27.6172H21.636V34.1573Z",fill:"#99AAB5"}),S.createElement("path",{d:"M6.36107 35.2528C5.75016 35.2528 5.21052 34.8746 5.10743 34.3415C4.99161 33.7486 5.45998 33.1861 6.15361 33.088L21.4263 30.908C22.1187 30.8012 22.7754 31.2099 22.89 31.804C23.0058 32.397 22.5374 32.9594 21.8438 33.0575L6.57107 35.2375C6.50107 35.2484 6.42979 35.2528 6.36107 35.2528ZM6.36107 30.8927C5.75016 30.8927 5.21052 30.5145 5.10743 29.9815C4.99161 29.3885 5.45998 28.8261 6.15361 28.728L21.4263 26.548C22.1187 26.4422 22.7754 26.8499 22.89 27.4439C23.0058 28.0369 22.5374 28.5994 21.8438 28.6975L6.57107 30.8775C6.50107 30.8884 6.42979 30.8927 6.36107 30.8927Z",fill:"#CCD6DD"}),S.createElement("defs",null,S.createElement("linearGradient",{id:"paint0_linear_2208_3163",x1:14,y1:30.7355,x2:18.2338,y2:2.47954,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#FFD983"}),S.createElement("stop",{offset:1,stopColor:"#FFEAB9"})))),wm=a=>S.createElement("svg",{width:26,height:37,viewBox:"0 0 26 37",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M25.8125 14.1659C24.8073 20.2634 20.7867 22.2959 19.7815 27.3772C18.1672 35.5417 13.4821 36.5234 8.72471 36.5234C0.934707 36.5234 4.84881 28.8324 1.68858 19.2471C-1.32691 10.1008 -1.04144 3.0897 8.72471 0.954555C18.0225 -1.07795 27.4549 4.20047 25.8125 14.1659Z",fill:"#FCDAD8"}),S.createElement("path",{d:"M18.7761 22.2881C18.5851 22.2881 18.3911 22.2322 18.2193 22.1173C17.7569 21.8053 17.6322 21.1753 17.9408 20.7078C18.4344 19.9588 18.9138 19.346 19.3772 18.7535C20.7794 16.9588 21.7926 15.6631 21.7926 12.1255C21.7926 9.87961 21.0066 8.08592 19.4576 6.79426C17.2533 4.95891 13.6005 4.26786 9.92365 4.99244C8.05304 5.36134 6.71316 6.22719 5.82862 7.63877C3.75698 10.9446 4.99735 16.0157 5.01042 16.0666C5.14712 16.6103 4.82145 17.1641 4.28369 17.3013C3.74291 17.4426 3.19811 17.1103 3.06241 16.5666C3.0011 16.3247 1.60091 10.5879 4.1309 6.55036C5.31096 4.66724 7.1303 3.47213 9.53968 2.99652C13.7885 2.15811 18.0795 3.01177 20.7372 5.22415C22.7415 6.8969 23.8029 9.28307 23.8029 12.1255C23.8029 16.3684 22.4188 18.1387 20.9533 20.0147C20.515 20.5757 20.0617 21.1549 19.6134 21.8358C19.4204 22.1295 19.1008 22.2881 18.7761 22.2881Z",fill:"url(#paint0_linear_2208_3247)"}),S.createElement("path",{d:"M6.29688 27.2952C5.92798 27.2952 5.57316 27.0899 5.39625 26.7332C4.84241 25.6123 5.02736 24.7058 5.27965 24.1428C5.82747 22.9213 7.20554 22.1764 8.21875 21.9081C10.2261 21.2292 11.2091 18.5138 10.6734 16.6429C10.0984 14.6368 8.00867 13.9264 4.94292 14.6896C4.41019 14.8258 3.85936 14.4925 3.72668 13.9467C3.594 13.402 3.92268 12.8512 4.46145 12.7171C9.40082 11.4833 11.9067 13.6459 12.6033 16.0788C13.4054 18.8786 12.0364 22.7627 8.78968 23.8562C8.19864 24.0148 7.34828 24.4507 7.10905 24.9832C7.0407 25.1347 6.97637 25.3857 7.19248 25.8247C7.44075 26.3267 7.23972 26.9375 6.74317 27.1885C6.60044 27.2607 6.44665 27.2952 6.29688 27.2952Z",fill:"url(#paint1_linear_2208_3247)"}),S.createElement("defs",null,S.createElement("linearGradient",{id:"paint0_linear_2208_3247",x1:20.1039,y1:19.3159,x2:13.9631,y2:6.15587,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#F7BFCE"}),S.createElement("stop",{offset:1,stopColor:"#F2AFBB"})),S.createElement("linearGradient",{id:"paint1_linear_2208_3247",x1:7.53828,y1:13.7369,x2:.938813,y2:19.7622,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{offset:.0382291,stopColor:"#F7BFCE"}),S.createElement("stop",{offset:1,stopColor:"#E9969E"})))),xm=a=>S.createElement("svg",{width:36,height:37,viewBox:"0 0 36 37",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M27.4791 25.1494L24.6328 27.9954L19.6509 23.0139L22.4971 20.168L27.4791 25.1494Z",fill:"#9AAAB4"}),S.createElement("path",{d:"M34.8212 29.6543L28.9043 23.7379C28.1182 22.9519 26.8441 22.9519 26.058 23.7379L23.2118 26.5839C22.4257 27.3698 22.4257 28.6439 23.2118 29.4299L29.1287 35.3462C30.7008 36.9192 33.2512 36.9192 34.8232 35.3462C36.3933 33.7753 36.3923 31.2262 34.8212 29.6543Z",fill:"#66757F"}),S.createElement("path",{d:"M13.587 27.6951C21.0909 27.6951 27.1741 21.6125 27.1741 14.1092C27.1741 6.60601 21.0909 0.523438 13.587 0.523438C6.08301 0.523438 -0.000152588 6.60601 -0.000152588 14.1092C-0.000152588 21.6125 6.08301 27.6951 13.587 27.6951Z",fill:"#8899A6"}),S.createElement("path",{d:"M13.5872 23.6755C18.8678 23.6755 23.1485 19.3951 23.1485 14.1151C23.1485 8.83502 18.8678 4.55469 13.5872 4.55469C8.30663 4.55469 4.02589 8.83502 4.02589 14.1151C4.02589 19.3951 8.30663 23.6755 13.5872 23.6755Z",fill:"url(#paint0_linear_2208_3205)"}),S.createElement("path",{d:"M16.3245 8.8378C18.4964 9.07249 19.5141 11.9195 19.9165 14.1366C20.0594 14.9239 20.9272 15.4094 21.6368 15.0397C21.7012 15.0061 21.7635 14.9676 21.8149 14.9163C22.5821 14.1503 22.0087 12.2925 21.6118 11.4333C21.3503 10.7302 20.5335 8.89701 18.9884 7.60702C17.5956 6.4442 16.649 5.83614 15.5943 6.22828C14.5395 6.62041 14.3231 8.62154 16.3245 8.8378Z",fill:"#FDFDFD"}),S.createElement("defs",null,S.createElement("linearGradient",{id:"paint0_linear_2208_3205",x1:3.52266,y1:14.6182,x2:24.6581,y2:12.1019,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#BBDDF5"}),S.createElement("stop",{offset:1,stopColor:"#E1F2FF"})))),Sm=a=>S.createElement("svg",{width:36,height:37,viewBox:"0 0 36 37",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M36 15.5234C36 11.3684 32.831 7.95544 28.779 7.56344C27.884 3.53644 24.297 0.523438 20 0.523438C15.029 0.523438 11 4.08344 11 9.05444C11 10.2104 11.25 11.9604 12.121 12.8394C8.859 13.0234 4.094 13.1234 0 12.5384C0 12.5384 4.816 16.3694 15.357 16.5234C15.206 16.8364 15.103 17.9534 15.051 18.3094C14.802 18.3124 14.456 18.3184 14 18.3184C6 18.3184 0 17.5234 0 17.5234C0 17.5234 3 20.7574 15.406 21.6294C15 21.7574 15 23.5234 15 23.5234C7 23.5234 0 22.5234 0 22.5234C3.362 25.3254 6.724 26.5564 9.03 27.0974C9.019 27.2394 9 27.3784 9 27.5234C9 30.8364 11.686 32.5234 15 32.5234C15.487 32.5234 15.958 32.4594 16.412 32.3494C18.009 34.8564 20.807 36.5234 24 36.5234C28.971 36.5234 33 32.4944 33 27.5234C33 25.7354 32.473 24.0744 31.573 22.6724C34.195 21.3604 36 18.6554 36 15.5234Z",fill:"url(#paint0_linear_2208_3133)"}),S.createElement("defs",null,S.createElement("linearGradient",{id:"paint0_linear_2208_3133",x1:0,y1:18.5234,x2:36,y2:18.5234,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{offset:.36,stopColor:"#D6EBFB"}),S.createElement("stop",{offset:1,stopColor:"#0094FF"})))),Em=a=>S.createElement("svg",{width:36,height:37,viewBox:"0 0 36 37",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M30.0002 22.5234C27.0001 22.5234 23.3121 29.6177 23.0001 32.5238C22.5791 36.439 25.0001 36.524 25.0001 36.524H35.0002C35.5525 36.524 36.0002 36.0763 36.0002 35.524V26.5236C36.0002 26.5236 32.5622 22.5234 30.0002 22.5234Z",fill:"#50A5E6"}),S.createElement("path",{d:"M28.9894 29.8351C30.6043 27.0379 31.2783 24.4037 30.4949 23.9513C29.7114 23.499 27.7672 25.3999 26.1523 28.197C24.5374 30.9942 23.8634 33.6284 24.6468 34.0807C25.4303 34.5331 27.3745 32.6322 28.9894 29.8351Z",fill:"#1C6399"}),S.createElement("path",{d:"M20.085 0.523438C21.266 0.523438 22.2231 1.48047 22.2231 2.66152C22.2231 3.45055 22.8911 13.4859 22.8911 13.4859L17.947 18.5241V2.66152C17.947 1.48047 18.904 0.523438 20.085 0.523438Z",fill:"url(#paint0_linear_2208_3079)"}),S.createElement("path",{d:"M18.8752 4.84454C18.8752 3.7455 19.7273 2.85547 20.7783 2.85547C21.8293 2.85547 22.6813 3.7465 22.6813 4.84454C22.6813 4.84454 23.2163 10.7868 23.8733 14.2149C24.7513 16.081 25.2423 18.8971 25.1343 20.4631C25.1883 20.8612 30.7593 25.4693 30.7593 25.4693C30.4783 27.2824 28.5003 31.6246 26.0003 33.6286L22.4793 30.7045C19.5943 30.3005 18.0212 27.3734 18.0212 26.4404C18.0212 23.4562 18.8752 4.84454 18.8752 4.84454Z",fill:"#FFDAD7"}),S.createElement("path",{d:"M5.9998 22.5234C8.99983 22.5234 12.6879 29.6177 12.9999 32.5238C13.4209 36.439 10.9998 36.524 10.9998 36.524H0.999755C0.447471 36.524 -0.000244141 36.0763 -0.000244141 35.524V26.5236C-0.000244141 26.5236 3.43778 22.5234 5.9998 22.5234Z",fill:"#50A5E6"}),S.createElement("path",{d:"M11.3503 34.0721C12.1338 33.6198 11.4598 30.9855 9.84488 28.1884C8.22999 25.3912 6.28575 23.4903 5.5023 23.9427C4.71885 24.395 5.39287 27.0293 7.00776 29.8264C8.62266 32.6236 10.5669 34.5244 11.3503 34.0721Z",fill:"#1C6399"}),S.createElement("path",{d:"M16.0617 0.534423C14.7957 0.407418 13.7287 1.39846 13.7287 2.6375C13.7287 3.41753 13.5447 12.9569 13.5447 12.9569L17.8957 18.5241L17.9577 2.75851C17.9577 1.65247 17.1627 0.644427 16.0617 0.534423Z",fill:"url(#paint1_linear_2208_3079)"}),S.createElement("path",{d:"M17.1241 4.84454C17.1241 3.7455 16.2721 2.85547 15.2211 2.85547C14.1701 2.85547 13.3181 3.7465 13.3181 4.84454C13.3181 4.84454 12.783 10.7868 12.126 14.2149C11.248 16.081 10.757 18.8971 10.865 20.4631C10.811 20.8612 5.23999 25.4693 5.23999 25.4693C5.52099 27.2824 7.49901 31.6246 9.99903 33.6286L13.5201 30.7045C16.4051 30.3005 17.9781 27.3734 17.9781 26.4404C17.9781 23.4562 17.1241 4.84454 17.1241 4.84454Z",fill:"#FFDAD7"}),S.createElement("path",{d:"M17.9998 26.3483C17.5858 26.3483 17.2498 26.0123 17.2498 25.5983V3.31643C17.2498 2.90242 17.5858 2.56641 17.9998 2.56641C18.4138 2.56641 18.7498 2.90242 18.7498 3.31643V25.5983C18.7498 26.0123 18.4138 26.3483 17.9998 26.3483Z",fill:"url(#paint2_linear_2208_3079)"}),S.createElement("defs",null,S.createElement("linearGradient",{id:"paint0_linear_2208_3079",x1:20.419,y1:.523437,x2:20.419,y2:18.5241,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#FFD3E0"}),S.createElement("stop",{offset:1,stopColor:"#F9B4C2"})),S.createElement("linearGradient",{id:"paint1_linear_2208_3079",x1:15.7512,y1:.523437,x2:15.7512,y2:18.5241,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#FFD3E0"}),S.createElement("stop",{offset:1,stopColor:"#F9B4C2"})),S.createElement("linearGradient",{id:"paint2_linear_2208_3079",x1:17.9998,y1:2.56641,x2:17.9998,y2:26.3483,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#FFD3E0"}),S.createElement("stop",{offset:1,stopColor:"#F9B4C2"})))),tk="_container_13zh6_1",nk="_wrapper_13zh6_9",sk="_active_13zh6_18",ik="_percentage_13zh6_30",rk="_content_13zh6_42",ok="_main_13zh6_51",ak="_emojiBackground_13zh6_58",lk="_emoji_13zh6_58",ck="_title_13zh6_75",uk="_count_13zh6_86",Hs={container:tk,wrapper:nk,active:sk,percentage:ik,content:rk,main:ok,emojiBackground:ak,emoji:lk,title:ck,count:uk},sc=({title:a,Emoji:e,count:t,percentage:n,isActive:r=!1})=>{const o=a.slice(0,-2);return g.jsx("div",{className:Hs.container,children:g.jsxs("div",{className:`${Hs.wrapper} ${r&&Hs.active}`,children:[g.jsx("div",{className:Hs.percentage,style:{width:`max(${n}%, 18px)`}}),g.jsxs("div",{className:Hs.content,children:[g.jsxs("div",{className:Hs.main,children:[g.jsx("div",{className:Hs.emojiBackground,children:g.jsx(e,{className:Hs.emoji})}),g.jsx("div",{className:Hs.title,children:g.jsx("span",{className:Hs.titleGreen,children:o})})]}),g.jsx("div",{className:Hs.count,children:g.jsx("span",{children:t})})]})]})})},ic={[oi.kind]:Em,[ai.kind]:Sm,[li.kind]:_m,[ci.kind]:xm,[ui.kind]:wm},dk=(a,e)=>e===0?0:a/e*100,hk=(a,e)=>a[e].count===0?!1:a[e].count===a[0].count?!0:e<2,fk=({requests:a})=>{const e=a.sort((t,n)=>n.count-t.count);return g.jsx("div",{className:ek.courseRequest,children:e.length===0?g.jsxs(g.Fragment,{children:[g.jsx(sc,{title:ci.title,Emoji:ic[ci.kind],count:0,percentage:0}),g.jsx(sc,{title:li.title,Emoji:ic[li.kind],count:0,percentage:0}),g.jsx(sc,{title:oi.title,Emoji:ic[oi.kind],count:0,percentage:0}),g.jsx(sc,{title:ui.title,Emoji:ic[ui.kind],count:0,percentage:0}),g.jsx(sc,{title:ai.title,Emoji:ic[ai.kind],count:0,percentage:0})]}):e.map((t,n)=>g.jsx(sc,{title:t.type.title,Emoji:ic[t.type.kind],count:t.count,percentage:dk(t.count,e[0].count),isActive:hk(e,n)},n))})},pk=()=>{const{courseId:a}=Ky(),[e,t]=S.useState(null),[n,r]=S.useState(null),{openModal:o,closeModal:l,Modal:d}=Zo(),h=Vr(),{popupError:p,ErrorModal:m}=Df(),{handleDeleteCourse:C,handleEditCourse:y,handleStartCourse:w,handleFileCourse:x}=A3({setModal:r,openModal:o,closeModal:l,navigate:h,popupError:p}),A=()=>{h("/professor")};return S.useEffect(()=>{async function T(){try{if(!a){p(new Error("수업 정보를 불러올 수 없습니다."));return}const N=await fs.getCourseById(a);t(N)}catch(N){p(N)}}T()},[a,h]),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:Ge.professorCourse,children:[g.jsxs("div",{className:Ge.professorCourseHeader,children:[g.jsx("div",{className:Ge.backButton,children:g.jsx(hb,{onButtonClick:A})}),g.jsxs("div",{className:Ge.professorCourseHeaderContainer,children:[g.jsxs("div",{className:Ge.professorCourseHeaderInfo,children:[g.jsxs("div",{className:Ge.infoText,children:[g.jsx("h3",{className:Ge.courseUniversity,children:e==null?void 0:e.university}),g.jsx("h1",{className:Ge.courseTitle,children:e==null?void 0:e.name})]}),g.jsxs("div",{className:Ge.courseSubInfo,children:[g.jsxs("div",{className:Ge.courseSchedule,children:[g.jsx(eh,{className:Ge.clockIcon}),g.jsx("span",{className:Ge.subInfoText,children:e==null?void 0:e.schedule.map((T,N)=>U1(T,N===e.schedule.length-1))})]}),g.jsx("div",{className:Ge.divider}),g.jsxs("div",{className:Ge.coursePeople,children:[g.jsx(th,{className:Ge.peopleIcon}),g.jsxs("span",{className:Ge.subInfoText,children:[e==null?void 0:e.capacity,"명"]})]}),g.jsx("div",{className:Ge.courseCategory,children:g.jsx(Yd,{color:qd((e==null?void 0:e.classType)||"기타"),text:(e==null?void 0:e.classType)||"기타",isActive:!0})})]})]}),g.jsxs("div",{className:Ge.right,children:[g.jsx("div",{className:Ge.courseAccessCode,children:g.jsxs("span",{className:Ge.accessCodeText,children:["입장코드 : ",e==null?void 0:e.accessCode]})}),g.jsxs("div",{className:Ge.headerButtonContainer,children:[g.jsx(uy,{onButtonClick:()=>e&&y(e),type:"setting",bg:"gray"}),g.jsx(uy,{onButtonClick:()=>e&&C(e),type:"trash",bg:"red"})]})]})]})]}),g.jsx("div",{className:Ge.professorCourseBody,children:g.jsxs("div",{className:Ge.bodyContainer,children:[g.jsx("h2",{className:Ge.bodyHeader,children:"지난번 수업 데이터"}),g.jsxs("div",{className:Ge.bodyContent,children:[g.jsxs("div",{className:Ge.courseBodyContainer,children:[g.jsx("h3",{className:Ge.courseBodyTitle,children:"💬 이전 수업에서 해결되지 못한 질문"}),g.jsx(Qb,{questions:(e==null?void 0:e.questions)||[]})]}),g.jsxs("div",{className:Ge.courseBodyContainer,children:[g.jsx("h3",{className:Ge.courseBodyTitle,children:"📊 이전 수업 반응 통계"}),g.jsx(fk,{requests:(e==null?void 0:e.requests)||[]})]})]}),g.jsxs("div",{className:Ge.bodyButtonContainer,children:[g.jsx(At,{color:"black",size:"web2",width:"328px",height:"81px",text:e!=null&&e.fileName?"파일 업로드 상태 수정":"자료 업로드",onClick:()=>x(e)}),g.jsx(At,{color:"blue",size:"web2",height:"81px",text:"오늘 수업 시작하기",onClick:()=>w(e)})]})]})})]}),n&&g.jsx(d,{children:n}),g.jsx(m,{})]})},mk="_professorClassroom_1wf8r_1",gk={professorClassroom:mk},vk="_modalContainer_1cgij_1",yk="_closeButton_1cgij_14",Ck="_closeSvg_1cgij_20",_k="_noQuestion_1cgij_26",wk="_pageController_1cgij_36",xk="_buttonContainer_1cgij_42",Sk="_icon_1cgij_56",Ek="_page_1cgij_36",Ak="_currentPage_1cgij_74",bk="_questionContent_1cgij_78",kk="_resolveButton_1cgij_88",Kn={modalContainer:vk,closeButton:yk,closeSvg:Ck,noQuestion:_k,pageController:wk,buttonContainer:xk,icon:Sk,page:Ek,currentPage:Ak,questionContent:bk,resolveButton:kk},fC=({questions:a,handleResolveClick:e,closeModal:t,initialPage:n=1})=>{const{setPage:r,prevPage:o,nextPage:l,PaginationDiv:d,page:h,totalPages:p}=jf();return S.useEffect(()=>{r(n)},[n]),g.jsxs("div",{className:Kn.modalContainer,onClick:m=>m.stopPropagation(),children:[g.jsx("button",{className:Kn.closeButton,onClick:t,children:g.jsx(Vi,{className:Kn.closeSvg})}),a.length===0?g.jsx("div",{className:Kn.noQuestion,children:"더이상 질문이 없습니다!"}):g.jsxs("div",{className:Kn.pageController,children:[g.jsx("button",{className:Kn.buttonContainer,onClick:o,disabled:h===0,children:g.jsx(S3,{className:Kn.icon})}),g.jsxs("div",{className:Kn.page,children:[g.jsx("span",{className:Kn.currentPage,children:h+1})," /"," ",Math.max(p,1)]}),g.jsx("button",{className:Kn.buttonContainer,onClick:l,disabled:h>=p-1,children:g.jsx(E3,{className:Kn.icon})})]}),a.length>0&&g.jsx(d,{children:a.map(m=>g.jsxs("div",{children:[g.jsx("div",{className:Kn.questionContent,children:m.content}),g.jsx("button",{className:Kn.resolveButton,onClick:()=>{e(m.id)},children:"질문이 해결되었어요"})]},m.id))})]})},Tk="_mainContainer_1daxv_1",Pk="_mainHeader_1daxv_7",Nk="_accessCodeContainer_1daxv_16",Lk="_accessCode_1daxv_16",Rk="_expandCode_1daxv_33",Mk="_expandSvg_1daxv_43",Ik="_buttonContainer_1daxv_49",Dk="_noPdfContainer_1daxv_55",jk="_noPdfDesc_1daxv_64",Fk="_mainFooter_1daxv_70",Ok="_fileButton_1daxv_79",Zn={mainContainer:Tk,mainHeader:Pk,accessCodeContainer:Nk,accessCode:Lk,expandCode:Rk,expandSvg:Mk,buttonContainer:Ik,noPdfContainer:Dk,noPdfDesc:jk,mainFooter:Fk,fileButton:Ok},Bk=a=>S.createElement("svg",{width:23,height:22,viewBox:"0 0 23 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M21.2752 20.9734L16.4539 16.1522M10.1919 6.5651V13.2151M6.86686 9.8901H13.5169M19.0585 9.8901C19.0585 14.787 15.0888 18.7568 10.1919 18.7568C5.29494 18.7568 1.3252 14.787 1.3252 9.8901C1.3252 4.99318 5.29494 1.02344 10.1919 1.02344C15.0888 1.02344 19.0585 4.99318 19.0585 9.8901Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),$k=a=>S.createElement("svg",{width:23,height:22,viewBox:"0 0 23 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M21.2752 20.9734L16.4539 16.1522M6.86686 9.8901H13.5169M19.0585 9.8901C19.0585 14.787 15.0888 18.7568 10.1919 18.7568C5.29494 18.7568 1.3252 14.787 1.3252 9.8901C1.3252 4.99318 5.29494 1.02344 10.1919 1.02344C15.0888 1.02344 19.0585 4.99318 19.0585 9.8901Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),zk="_buttonContainer_wq12q_1",Hk="_active_wq12q_9",hy={buttonContainer:zk,active:Hk},fy=({onButtonClick:a,type:e,isActive:t})=>g.jsxs("button",{className:`${hy.buttonContainer} ${t?hy.active:""}`,onClick:a,children:[e==="zoomIn"&&g.jsx(Bk,{width:"20px",height:"20px",color:"white"}),e==="zoomOut"&&g.jsx($k,{width:"20px",height:"20px",color:"white"})]}),Uk="_counterContainer_f8iww_1",Vk="_fullContainer_f8iww_12",Wk="_counterText_f8iww_16",Gk="_emojiContainer_f8iww_22",t1={counterContainer:Uk,fullContainer:Vk,counterText:Wk,emojiContainer:Gk},pC=a=>S.createElement("svg",{width:42,height:55,viewBox:"0 0 42 55",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M29.1484 31.9359L26.5231 21.616L20.5021 8.35373C19.7363 6.4026 20.7202 4.20775 22.6988 3.45408C24.6758 2.69288 26.9029 3.6692 27.6687 5.62034L37.1312 29.3424L29.1484 31.9359Z",fill:"url(#paint0_linear_2208_2964)"}),S.createElement("path",{d:"M41.8829 28.1984C41.1385 24.3157 38.8503 18.3856 38.8503 18.3856L30.0224 2.60648C29.0675 0.738082 26.7549 -0.0110817 24.8618 0.929134C22.9671 1.87085 22.2044 4.14994 23.1609 6.01833L31.2916 20.3803C31.3114 20.4134 33.4471 28.6407 33.4471 28.6407C31.8026 27.1439 29.4702 25.0919 27.3223 23.198C22.5964 19.0279 19.7926 17.4649 19.7926 17.4649C18.7095 16.7985 17.9941 16.7037 16.5403 17.3761L7.58279 21.2393C7.34329 21.3566 7.1404 21.5221 6.98023 21.7342L3.45182 26.3766C2.08958 27.9818 2.30467 30.3707 3.93235 31.7126C5.55849 33.0559 7.97941 32.8408 9.3447 31.2402C9.41793 31.1529 12.06 27.3891 12.298 27.2687C13.8799 26.4669 16.821 25.0919 18.107 25.1325C19.4753 25.1762 27.6885 34.0939 27.6885 34.0939C28.0027 34.4836 28.0393 35.0236 27.78 35.4509L23.3332 43.3156C23.2127 43.5126 23.0388 43.6706 22.8298 43.7714L18.7507 46.0279C18.5158 46.1407 18.2504 46.1768 17.9941 46.1287L9.95489 42.7108C9.55522 42.5408 9.22267 42.2294 9.05182 41.8338C7.85127 39.0508 7.68194 36.3896 7.68042 36.3595C7.58126 34.2684 5.78274 32.6543 3.66234 32.7521C1.54651 32.8363 -0.0948892 34.622 0.0042662 36.713C0.0240973 37.1086 0.539705 45.1975 7.21515 50.6914C11.0715 53.8625 15.8401 55.0901 21.9344 54.2822C28.9698 53.3511 33.3281 52.4274 39.4864 39.9037C41.1904 36.4362 42.3894 30.8415 41.8829 28.1984Z",fill:"#FFDAD7"}),S.createElement("defs",null,S.createElement("linearGradient",{id:"paint0_linear_2208_2964",x1:26.6973,y1:18.5708,x2:32.0251,y2:17.0272,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#FFC9D9"}),S.createElement("stop",{offset:1,stopColor:"#F5A4B0"})))),mC=a=>S.createElement("svg",{width:54,height:55,viewBox:"0 0 54 55",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M48.4675 37.0855C47.4235 35.5665 48.0064 33.3707 47.7465 30.9463C47.4791 26.9909 45.7817 23.1588 42.4891 20.0938L31.2743 9.65325C31.2743 9.65325 29.0647 7.59432 27.0068 9.80815C24.9519 12.0205 27.163 14.0794 27.163 14.0794L31.9007 18.492L36.0075 22.3151C36.0075 22.3151 34.9785 23.422 30.4331 19.1899L15.0815 4.89321C15.0815 4.89321 12.8689 2.83579 10.8125 5.04962C8.75756 7.26195 10.9672 9.32087 10.9672 9.32087L25.4836 22.84C25.4521 22.8099 24.3856 23.8807 24.3661 23.8627L8.83417 9.39908C8.83417 9.39908 6.62305 7.34015 4.56666 9.55398C2.51026 11.7678 4.72137 13.8252 4.72137 13.8252L20.2548 28.2918C20.2728 28.3099 19.2724 29.4409 19.3024 29.4695L5.90354 16.9896C5.90354 16.9896 3.69242 14.9306 1.63603 17.1445C-0.42037 19.3583 1.79075 21.4172 1.79075 21.4172L16.0368 34.6822C16.1675 34.804 15.2858 36.0478 15.4495 36.1997L5.18403 26.6405C5.18403 26.6405 2.97291 24.5816 0.916513 26.7969C-1.13988 29.0107 1.07123 31.0697 1.07123 31.0697L17.8153 46.6552C20.6108 49.2586 23.4813 50.5761 26.9422 51.0588C27.6467 51.1566 28.5479 51.1566 28.9175 51.2032C30.0846 51.3506 31.1091 51.7657 32.4805 52.6079C34.2455 53.6908 36.8937 54.1419 38.4154 52.5132L43.6037 46.956L48.3939 41.8245C49.9141 40.1972 49.6422 38.7925 48.4675 37.0855Z",fill:"url(#paint0_linear_2208_2980)"}),S.createElement("path",{d:"M2.88616 53.1368C2.50162 53.1368 2.11708 52.9894 1.82417 52.6961C1.23684 52.1081 1.23684 51.1576 1.82417 50.5695L7.15818 45.232C7.74551 44.6439 8.69485 44.6439 9.28218 45.232C9.8695 45.82 9.8695 46.7705 9.28218 47.3586L3.94816 52.6976C3.65525 52.9909 3.2707 53.1368 2.88616 53.1368ZM13.0194 54.5234C12.8557 54.5234 12.6875 54.4964 12.5222 54.4392C11.7396 54.1655 11.3266 53.3082 11.6014 52.5232L13.06 48.3527C13.3334 47.5691 14.1911 47.157 14.9737 47.4292C15.7563 47.7045 16.1694 48.5617 15.8945 49.3453L14.4359 53.5158C14.2196 54.1354 13.6398 54.5234 13.0194 54.5234ZM1.50271 42.9926C0.883841 42.9926 0.304024 42.606 0.0862176 41.9894C-0.190172 41.2058 0.219906 40.3471 1.00251 40.0704L4.75029 38.7454C5.5359 38.4747 6.3906 38.8822 6.66699 39.6628C6.94338 40.4463 6.5333 41.3051 5.7507 41.5818L2.00292 42.9068C1.83618 42.9655 1.66795 42.9926 1.50271 42.9926ZM45.7551 10.2558C45.3705 10.2558 44.986 10.1084 44.6931 9.81515C44.1057 9.2271 44.1057 8.27509 44.6931 7.68704L50.0286 2.34797C50.6159 1.76143 51.5653 1.76143 52.1526 2.34797C52.7399 2.93452 52.7399 3.88803 52.1526 4.47608L46.8171 9.81515C46.5241 10.1099 46.1396 10.2558 45.7551 10.2558ZM39.5002 7.70358C39.3365 7.70358 39.1683 7.67501 39.0046 7.61786C38.2219 7.34414 37.8089 6.48688 38.0823 5.70181L39.5393 1.53132C39.8142 0.747759 40.6689 0.334169 41.453 0.607891C42.2356 0.881612 42.6487 1.73887 42.3753 2.52394L40.9182 6.69443C40.7019 7.31556 40.1206 7.70358 39.5002 7.70358ZM48.7277 16.3875C48.1089 16.3875 47.5291 16.0009 47.3113 15.3843C47.0349 14.6008 47.4464 13.742 48.2275 13.4653L51.9738 12.1403C52.7579 11.862 53.6141 12.2756 53.8905 13.0577C54.1669 13.8413 53.7553 14.7 52.9742 14.9767L49.228 16.3017C49.0612 16.3604 48.893 16.3875 48.7277 16.3875Z",fill:"#FA3E64"}),S.createElement("path",{d:"M53.1083 36.2975C52.1154 34.7454 52.7718 32.5692 52.5946 30.1373C52.4594 26.1759 50.8927 22.2881 47.7052 19.1133L36.8479 8.30127C36.8479 8.30127 34.7089 6.17015 32.5774 8.3133C30.4489 10.4549 32.5894 12.5876 32.5894 12.5876L37.1769 17.1581L41.1515 21.1165C41.1515 21.1165 40.0849 22.1873 35.6853 17.8048C31.2825 13.4208 20.8233 2.99829 20.8233 2.99829C20.8233 2.99829 18.6828 0.86718 16.5528 3.01033C14.4228 5.15197 16.5633 7.28308 16.5633 7.28308L30.6171 21.285C30.5871 21.2549 29.4845 22.2881 29.465 22.2686L14.4288 7.2891C14.4288 7.2891 12.2883 5.15648 10.1583 7.29963C8.02978 9.44277 10.1688 11.5739 10.1688 11.5739L25.2065 26.5564C25.2245 26.5744 24.185 27.6708 24.2151 27.7009L11.2443 14.7773C11.2443 14.7773 9.1038 12.6462 6.9738 14.7894C4.8438 16.9325 6.98431 19.0651 6.98431 19.0651L20.7752 32.8038C20.9014 32.9286 19.9791 34.1439 20.1368 34.3018L10.1988 24.4012C10.1988 24.4012 8.05832 22.2701 5.92832 24.4132C3.79832 26.5564 5.93884 28.689 5.93884 28.689L22.1467 44.8295C24.8535 47.5261 27.6775 48.9383 31.1203 49.5384C31.8218 49.6602 32.7231 49.6903 33.0896 49.749C34.2507 49.9355 35.2602 50.3851 36.6045 51.274C38.332 52.4155 40.9637 52.9554 42.5394 51.3793L47.9125 46.0011L52.8725 41.035C54.4482 39.4558 54.2244 38.0421 53.1083 36.2975Z",fill:"url(#paint1_linear_2208_2980)"}),S.createElement("defs",null,S.createElement("linearGradient",{id:"paint0_linear_2208_2980",x1:5.9578,y1:12.564,x2:51.7919,y2:33.5768,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#F9C6D6"}),S.createElement("stop",{offset:1,stopColor:"#E68D93"})),S.createElement("linearGradient",{id:"paint1_linear_2208_2980",x1:9.71553,y1:11.0623,x2:45.8106,y2:47.1131,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#FFDAD7"}),S.createElement("stop",{offset:1,stopColor:"#FABBB5"})))),gC=a=>S.createElement("svg",{width:48,height:55,viewBox:"0 0 48 55",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M48 27.2146C48 26.455 47.8201 25.7423 47.5188 25.0944C45.5084 18.5617 36.0967 19.0389 22.7092 18.7203C20.471 18.6674 21.7513 16.0051 22.5368 10.161C23.048 6.36001 20.6149 0.523438 16.5252 0.523438C9.782 0.523438 16.2688 5.8813 10.3067 19.131C7.12099 26.2104 0 22.2449 0 29.356V45.5428C0 48.3109 0.269848 50.9717 4.13467 51.4096C7.88107 51.8339 7.03854 54.5234 12.443 54.5234H39.4938C42.2492 54.5234 44.4905 52.2643 44.4905 49.4887C44.4905 48.338 44.0902 47.29 43.4441 46.4413C44.9732 45.5791 46.0226 43.9512 46.0226 42.0635C46.0226 40.9158 45.6238 39.8678 44.9792 39.0207C46.5128 38.1599 47.5652 36.5305 47.5652 34.6398C47.5652 33.2671 47.0136 32.0228 46.1246 31.1122C47.2594 30.1895 48 28.7942 48 27.2146Z",fill:"#FCDAD8"}),S.createElement("path",{d:"M30.1054 32.2461H43.0041C44.7581 32.2461 46.4042 31.3007 47.3007 29.7801C47.6695 29.1534 47.4641 28.3424 46.8405 27.9694C46.2183 27.5964 45.4133 27.8064 45.043 28.4331C44.6187 29.1564 43.8347 29.6034 43.0026 29.6034H29.7951C28.4863 29.6034 27.4219 28.5312 27.4219 27.2129C27.4219 25.8946 28.4863 24.8224 29.7951 24.8224H38.6206C39.3447 24.8224 39.9324 24.2304 39.9324 23.501C39.9324 22.7717 39.3447 22.1797 38.6206 22.1797H29.7936C27.0381 22.1797 24.7969 24.4373 24.7969 27.2129C24.7969 28.7607 25.509 30.1304 26.6034 31.0546C25.6814 31.9682 25.1072 33.2367 25.1072 34.6381C25.1072 36.1905 25.8238 37.5647 26.9242 38.4874C26.0082 39.3995 25.44 40.6634 25.44 42.0618C25.44 43.7531 26.278 45.2451 27.5523 46.1587C26.7668 47.0482 26.275 48.2064 26.275 49.487C26.275 52.2626 28.5163 54.5202 31.2717 54.5202H39.4931C41.2471 54.5202 42.8947 53.5764 43.7912 52.0557C44.1615 51.429 43.9561 50.6181 43.3339 50.2451C42.7103 49.8751 41.9052 50.079 41.5365 50.7057C41.1092 51.429 40.3251 51.8775 39.4931 51.8775H31.2717C29.963 51.8775 28.8986 50.8053 28.8986 49.487C28.8986 48.1687 29.963 47.0965 31.2717 47.0965H41.0252C42.7793 47.0965 44.4283 46.1512 45.3233 44.6305C45.6936 44.0023 45.4882 43.1913 44.8661 42.8199C44.2379 42.4408 43.4359 42.6538 43.0686 43.2804C42.6353 44.0159 41.8708 44.4538 41.0252 44.4538H30.4367C29.1279 44.4538 28.0635 43.3801 28.0635 42.0618C28.0635 40.7435 29.1279 39.6713 30.4367 39.6713H42.5664C44.3204 39.6713 45.968 38.7275 46.8645 37.2068C47.2348 36.5801 47.0294 35.7692 46.4072 35.3962C45.7821 35.0247 44.9785 35.2301 44.6097 35.8567C44.1765 36.5907 43.4119 37.0286 42.5664 37.0286H30.1054C28.7966 37.0286 27.7322 35.9564 27.7322 34.6381C27.7322 33.3198 28.7951 32.2461 30.1054 32.2461Z",fill:"url(#paint0_linear_2208_2998)"}),S.createElement("defs",null,S.createElement("linearGradient",{id:"paint0_linear_2208_2998",x1:36.7565,y1:36.7646,x2:23.2617,y2:38.2532,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#FFC9D9"}),S.createElement("stop",{offset:1,stopColor:"#F9B2C0"})))),vC=a=>S.createElement("svg",{width:54,height:55,viewBox:"0 0 54 55",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M54 27.5234C54 42.4349 41.9115 54.5234 27 54.5234C12.0885 54.5234 0 42.4349 0 27.5234C0 12.6119 12.0885 0.523438 27 0.523438C41.9115 0.523438 54 12.6119 54 27.5234Z",fill:"#FFCC4D"}),S.createElement("path",{d:"M26.9988 33.2963C22.5498 33.2963 19.5963 32.7773 15.9453 32.0678C15.1098 31.9088 13.4883 32.0678 13.4883 34.5248C13.4883 39.4373 19.1328 45.5783 26.9988 45.5783C34.8648 45.5783 40.5093 39.4373 40.5093 34.5248C40.5093 32.0678 38.8863 31.9073 38.0523 32.0678C34.4013 32.7773 31.4493 33.2963 26.9988 33.2963Z",fill:"#664500"}),S.createElement("path",{d:"M24.977 5.44861C23.6885 1.80211 19.691 -0.111895 16.043 1.17361C13.829 1.95361 12.2615 3.74011 11.651 5.82961C9.86454 4.58611 7.52454 4.17961 5.31354 4.95961C1.66854 6.2466 -0.248464 10.2471 1.04004 13.8936C1.22304 14.4096 1.46604 14.8881 1.74804 15.3306C4.67454 20.7036 13.13 24.4806 18.2495 24.5271C22.205 21.2766 26.4185 13.0296 25.3265 7.0116C25.2695 6.4896 25.157 5.9646 24.977 5.44861ZM29.027 5.44861C30.3155 1.80211 34.3145 -0.111895 37.961 1.17361C40.175 1.95361 41.7425 3.74011 42.3545 5.82961C44.141 4.58611 46.481 4.17961 48.692 4.95961C52.337 6.2466 54.2525 10.2471 52.967 13.8936C52.7825 14.4096 52.541 14.8881 52.2575 15.3306C49.331 20.7036 40.8755 24.4806 35.7545 24.5271C31.799 21.2766 27.587 13.0296 28.679 7.0116C28.7345 6.4896 28.847 5.9646 29.027 5.44861Z",fill:"url(#paint0_linear_2208_3014)"}),S.createElement("defs",null,S.createElement("linearGradient",{id:"paint0_linear_2208_3014",x1:27.0029,y1:24.5271,x2:27.0029,y2:.773438,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#DD2E44"}),S.createElement("stop",{offset:1,stopColor:"#FA3E64"})))),yC=a=>S.createElement("svg",{width:54,height:55,viewBox:"0 0 54 55",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M27 0.523438C12.09 0.523438 0 12.6134 0 27.5234C0 36.5999 4.494 44.6114 11.361 49.5059C11.517 39.8489 8.0055 29.0234 2.106 29.0234C1.41 29.0234 0.846 29.1224 0.3765 29.2979C0.831 28.1624 1.8165 27.5234 3.66 27.5234C10.065 27.5234 13.659 40.2824 12.798 50.4554C16.929 53.0189 21.783 54.5234 27 54.5234C32.2185 54.5234 37.074 53.0174 41.205 50.4539C40.3395 40.2434 43.932 27.5234 50.3415 27.5234C52.191 27.5234 53.1795 28.1624 53.6295 29.2979C53.1585 29.1224 52.593 29.0234 51.894 29.0234C45.987 29.0234 42.477 39.8219 42.639 49.5059C49.5075 44.6114 54 36.5999 54 27.5234C54 12.6134 41.9115 0.523438 27 0.523438Z",fill:"#FFCC4D"}),S.createElement("path",{d:"M27 0.523438C12.09 0.523438 0 12.6134 0 27.5234C0 29.3114 0.1845 31.0574 0.516 32.7494C0.867 31.4549 1.416 30.2129 2.103 29.0234C1.4085 29.0234 0.846 29.1224 0.378 29.2979C0.774 28.3094 1.611 27.7259 3.03 27.5849C7.518 21.3164 16.5555 17.0234 27 17.0234C37.446 17.0234 46.482 21.3149 50.97 27.5834C52.395 27.7244 53.235 28.3064 53.628 29.2979C53.16 29.1224 52.5945 29.0234 51.8985 29.0234C52.5855 30.2129 53.133 31.4549 53.4855 32.7494C53.817 31.0574 54 29.3114 54 27.5234C54 12.6134 41.9115 0.523438 27 0.523438Z",fill:"#BDDDF4"}),S.createElement("path",{d:"M11.0209 18.3965C9.60193 23.1605 11.1814 27.836 14.5504 28.8395C17.9194 29.8445 21.8014 26.7965 23.2189 22.0325C24.6379 17.27 23.0599 12.593 19.6924 11.5895C16.3234 10.586 12.4414 13.634 11.0209 18.3965ZM42.9784 18.3965C44.3974 23.1605 42.8179 27.836 39.4504 28.8395C36.0814 29.8445 32.1994 26.7965 30.7819 22.0325C29.3629 17.27 30.9424 12.593 34.3084 11.5895C37.6759 10.586 41.5579 13.634 42.9784 18.3965Z",fill:"#F5F8FA"}),S.createElement("path",{d:"M27 27.5234C22.8645 27.5234 19.5 30.8879 19.5 35.0234V44.0234C19.5 48.1589 22.8645 51.5234 27 51.5234C31.1355 51.5234 34.5 48.1589 34.5 44.0234V35.0234C34.5 30.8879 31.1355 27.5234 27 27.5234Z",fill:"#664500"}),S.createElement("path",{d:"M2.10722 29.0254C1.41122 29.0254 0.847217 29.1244 0.377717 29.2999C0.485717 29.0314 0.628217 28.7959 0.799217 28.5859C-1.99378 32.0224 4.27472 43.3354 1.22822 54.5254H10.9182C12.7032 44.0854 9.06572 29.0254 2.10722 29.0254ZM53.6307 29.2999C53.1597 29.1244 52.5942 29.0254 51.8952 29.0254C44.9337 29.0254 41.2977 44.0284 43.0857 54.5254H52.7757C49.9167 43.9579 55.2597 33.3919 53.6307 29.2999Z",fill:"#FCAB40"})),CC=a=>S.createElement("svg",{width:54,height:55,viewBox:"0 0 54 55",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M54 27.5234C54 42.4349 41.9115 54.5234 27 54.5234C12.0885 54.5234 0 42.4349 0 27.5234C0 12.6119 12.0885 0.523438 27 0.523438C41.9115 0.523438 54 12.6119 54 27.5234Z",fill:"#FFCC4D"}),S.createElement("path",{d:"M33.0012 41.0258C33.0012 45.1703 30.3147 45.5258 27.0012 45.5258C23.6862 45.5258 21.0012 45.1703 21.0012 41.0258C21.0012 36.8843 23.6862 32.0258 27.0012 32.0258C30.3147 32.0258 33.0012 36.8843 33.0012 41.0258ZM45.0012 23.0258C44.8152 23.0258 44.6262 22.9913 44.4447 22.9178C36.6012 19.7813 33.3867 15.0563 33.2532 14.8568C32.7927 14.1668 32.9787 13.2353 33.6687 12.7763C34.3572 12.3173 35.2842 12.5003 35.7462 13.1873C35.7747 13.2278 38.6412 17.3648 45.5577 20.1308C46.3272 20.4398 46.7022 21.3113 46.3947 22.0808C46.1592 22.6688 45.5952 23.0258 45.0012 23.0258ZM9.00117 23.0258C8.40567 23.0258 7.84317 22.6688 7.60767 22.0823C7.30017 21.3128 7.67367 20.4398 8.44317 20.1323C15.3612 17.3663 18.2277 13.2293 18.2562 13.1888C18.7182 12.5048 19.6497 12.3233 20.3367 12.7838C21.0222 13.2458 21.2082 14.1713 20.7492 14.8583C20.6157 15.0578 17.4012 19.7828 9.55917 22.9193C9.37617 22.9913 9.18717 23.0258 9.00117 23.0258Z",fill:"#664500"}),S.createElement("path",{d:"M36 24.5234H42V53.0234L36 52.9544V24.5234ZM12 53.0234L18 52.9544V24.5234H12V53.0234Z",fill:"#5DADEC"}),S.createElement("path",{d:"M22.4983 27.5158C22.2733 27.5158 22.0438 27.4648 21.8293 27.3583C16.5613 24.7243 11.2243 27.3313 11.1718 27.3583C10.4293 27.7318 9.52927 27.4273 9.15877 26.6878C8.78827 25.9468 9.08827 25.0453 9.82927 24.6748C10.1023 24.5398 16.5763 21.3793 23.1718 24.6748C23.9128 25.0453 24.2128 25.9468 23.8423 26.6878C23.5783 27.2128 23.0488 27.5158 22.4983 27.5158ZM43.4983 27.5158C43.2733 27.5158 43.0438 27.4648 42.8293 27.3583C37.5598 24.7243 32.2243 27.3313 32.1718 27.3583C31.4308 27.7303 30.5308 27.4288 30.1588 26.6878C29.7883 25.9468 30.0883 25.0453 30.8293 24.6748C31.1023 24.5398 37.5808 21.3808 44.1718 24.6748C44.9128 25.0453 45.2128 25.9468 44.8423 26.6878C44.5783 27.2128 44.0488 27.5158 43.4983 27.5158Z",fill:"#664500"}),S.createElement("path",{d:"M27 54.5234C41.9117 54.5234 54 53.1803 54 51.5234C54 49.8666 41.9117 48.5234 27 48.5234C12.0883 48.5234 0 49.8666 0 51.5234C0 53.1803 12.0883 54.5234 27 54.5234Z",fill:"#5DADEC"}),S.createElement("path",{d:"M27 44.0234C29.4853 44.0234 31.5 42.6803 31.5 41.0234C31.5 39.3666 29.4853 38.0234 27 38.0234C24.5147 38.0234 22.5 39.3666 22.5 41.0234C22.5 42.6803 24.5147 44.0234 27 44.0234Z",fill:"#E75A70"})),qk="_chipContainer_bkrd2_1",Xk="_chipEmoji_bkrd2_10",Yk="_chipCount_bkrd2_15",jg={chipContainer:qk,chipEmoji:Xk,chipCount:Yk},Kk=({Emoji:a,count:e})=>{const t=n=>n>99?"99+":n;return g.jsxs("div",{className:jg.chipContainer,children:[g.jsx(a,{className:jg.chipEmoji}),g.jsx("span",{className:jg.chipCount,children:t(e)})]})},Zk="_toggleButton_12raz_1",Qk="_slider_12raz_14",Fg={toggleButton:Zk,switch:"_switch_12raz_1",slider:Qk},Jk=({isOn:a,onToggle:e})=>g.jsx("div",{className:Fg.toggleButton,children:g.jsxs("label",{className:Fg.switch,onClick:e,children:[g.jsx("input",{type:"checkbox",checked:!a,readOnly:!0,onClick:t=>t.stopPropagation()}),g.jsx("span",{className:Fg.slider})]})}),eT="_emojiContainer_aq343_1",tT="_floatUp_aq343_1",nT="_emoji_aq343_1",py={emojiContainer:eT,floatUp:tT,emoji:nT},sT=({Emoji:a,onAnimatedEnd:e})=>g.jsx("div",{className:py.emojiContainer,onAnimationEnd:e,children:g.jsx(a,{className:py.emoji})}),_C=[{type:"OKAY",icon:pC},{type:"CLAP",icon:mC},{type:"THUMBS_UP",icon:gC},{type:"SURPRISED",icon:yC},{type:"CRYING",icon:CC},{type:"HEART_EYES",icon:vC}],iT=a=>{var e;return(e=_C.find(t=>t.type===a.type))==null?void 0:e.icon},rT=({emojiCounts:a,reactions:e,dispatch:t})=>{const[n,r]=S.useState(!0),o=()=>r(l=>!l);return g.jsxs("div",{className:`${t1.counterContainer} ${n?t1.fullContainer:""}`,children:[g.jsx(Jk,{isOn:n,onToggle:o}),g.jsx("div",{className:t1.counterText,children:"Live emoji counter"}),n&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:t1.emojiContainer,children:_C.map(({type:l,icon:d})=>g.jsx(Kk,{Emoji:d,count:a[l]},l))}),e.map(l=>{const d=iT(l);return d?g.jsx(sT,{Emoji:d,onAnimatedEnd:()=>t({type:"REMOVE",payload:l.id})},l.id):null})]})]})},oT="_PDFContainer_9mrbx_1",aT={PDFContainer:oT},lT=({containerRef:a,canvasRef:e,handleArrowKey:t})=>g.jsx("div",{className:"pdf-viewer",children:g.jsx("div",{style:{width:"1370px",height:"770px"},className:aT.PDFContainer,tabIndex:0,autoFocus:!0,onKeyDown:t,ref:a,children:g.jsx("canvas",{ref:e,style:{display:"block",margin:"auto"}})})}),wC=a=>S.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M14.2673 6.53255L19.1007 1.69922M19.1007 1.69922H14.2673M19.1007 1.69922V6.53255M6.53402 6.53255L1.70068 1.69922M1.70068 1.69922L1.70068 6.53255M1.70068 1.69922L6.53402 1.69922M6.53402 14.2659L1.70068 19.0992M1.70068 19.0992H6.53402M1.70068 19.0992L1.70068 14.2659M14.2673 14.2659L19.1007 19.0992M19.1007 19.0992V14.2659M19.1007 19.0992H14.2673",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));var Kd={};Kd.d=(a,e)=>{for(var t in e)Kd.o(e,t)&&!Kd.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:e[t]})};Kd.o=(a,e)=>Object.prototype.hasOwnProperty.call(a,e);var be=globalThis.pdfjsLib={};Kd.d(be,{AbortException:()=>Xo,AnnotationEditorLayer:()=>o3,AnnotationEditorParamsType:()=>Be,AnnotationEditorType:()=>Ne,AnnotationEditorUIManager:()=>bl,AnnotationLayer:()=>sN,AnnotationMode:()=>po,ColorPicker:()=>K1,DOMSVGFactory:()=>I3,DrawLayer:()=>c3,FeatureTest:()=>bn,GlobalWorkerOptions:()=>jr,ImageKind:()=>d1,InvalidPDFException:()=>Jg,MissingPDFException:()=>nh,OPS:()=>Gs,OutputScale:()=>t0,PDFDataRangeTransport:()=>S_,PDFDateString:()=>N3,PDFWorker:()=>yc,PasswordResponses:()=>hT,PermissionFlag:()=>dT,PixelsPerInch:()=>Yo,RenderingCancelledException:()=>T3,TextLayer:()=>sh,TouchManager:()=>X1,UnexpectedResponseException:()=>W1,Util:()=>ve,VerbosityLevel:()=>Am,XfaLayer:()=>A_,build:()=>FP,createValidAbsoluteUrl:()=>gT,fetchData:()=>Pm,getDocument:()=>TP,getFilenameFromUrl:()=>AT,getPdfFilenameFromUrl:()=>bT,getXfaPageViewport:()=>kT,isDataScheme:()=>Nm,isPdfFile:()=>P3,noContextMenu:()=>hi,normalizeUnicode:()=>xT,setLayerDimensions:()=>Al,shadow:()=>je,stopEvent:()=>hs,version:()=>jP});const pn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),xC=[1,0,0,1,0,0],Qg=[.001,0,0,.001,0,0],cT=1e7,Og=1.35,us={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},po={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},uT="pdfjs_internal_editor_",Ne={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Be={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},dT={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},rn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},d1={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Lt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},_d={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Am={ERRORS:0,WARNINGS:1,INFOS:5},Gs={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},hT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let bm=Am.WARNINGS;function fT(a){Number.isInteger(a)&&(bm=a)}function pT(){return bm}function km(a){bm>=Am.INFOS&&console.log(`Info: ${a}`)}function Le(a){bm>=Am.WARNINGS&&console.log(`Warning: ${a}`)}function Je(a){throw new Error(a)}function bt(a,e){a||Je(e)}function mT(a){switch(a==null?void 0:a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function gT(a,e=null,t=null){if(!a)return null;try{if(t&&typeof a=="string"){if(t.addDefaultProtocol&&a.startsWith("www.")){const r=a.match(/\./g);(r==null?void 0:r.length)>=2&&(a=`http://${a}`)}if(t.tryConvertEncoding)try{a=wT(a)}catch{}}const n=e?new URL(a,e):new URL(a);if(mT(n))return n}catch{}return null}function je(a,e,t,n=!1){return Object.defineProperty(a,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Qo=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class my extends Qo{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Bg extends Qo{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Jg extends Qo{constructor(e){super(e,"InvalidPDFException")}}class nh extends Qo{constructor(e){super(e,"MissingPDFException")}}class W1 extends Qo{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class vT extends Qo{constructor(e){super(e,"FormatError")}}class Xo extends Qo{constructor(e){super(e,"AbortException")}}function SC(a){(typeof a!="object"||(a==null?void 0:a.length)===void 0)&&Je("Invalid argument for bytesToString");const e=a.length,t=8192;if(e<t)return String.fromCharCode.apply(null,a);const n=[];for(let r=0;r<e;r+=t){const o=Math.min(r+t,e),l=a.subarray(r,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function Tm(a){typeof a!="string"&&Je("Invalid argument for stringToBytes");const e=a.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=a.charCodeAt(n)&255;return t}function yT(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function b3(a){const e=Object.create(null);for(const[t,n]of a)e[t]=n;return e}function CT(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function _T(){try{return new Function(""),!0}catch{return!1}}class bn{static get isLittleEndian(){return je(this,"isLittleEndian",CT())}static get isEvalSupported(){return je(this,"isEvalSupported",_T())}static get isOffscreenCanvasSupported(){return je(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return je(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?je(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):je(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return je(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const $g=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));var Or,h1,e0;class ve{static makeHexColor(e,t,n){return`#${$g[e]}${$g[t]}${$g[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[n,r]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,o=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[r,o]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),o=this.applyTransform([e[0],e[3]],t),l=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],o[0],l[0]),Math.min(n[1],r[1],o[1],l[1]),Math.max(n[0],r[0],o[0],l[0]),Math.max(n[1],r[1],o[1],l[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],o=e[2]*t[0]+e[3]*t[2],l=e[2]*t[1]+e[3]*t[3],d=(n+l)/2,h=Math.sqrt((n+l)**2-4*(n*l-o*r))/2,p=d+h||1,m=d-h||1;return[Math.sqrt(p),Math.sqrt(m)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>l?null:[n,o,r,l]}static bezierBoundingBox(e,t,n,r,o,l,d,h,p){return p?(p[0]=Math.min(p[0],e,d),p[1]=Math.min(p[1],t,h),p[2]=Math.max(p[2],e,d),p[3]=Math.max(p[3],t,h)):p=[Math.min(e,d),Math.min(t,h),Math.max(e,d),Math.max(t,h)],P(this,Or,e0).call(this,e,n,o,d,t,r,l,h,3*(-e+3*(n-o)+d),6*(e-2*n+o),3*(n-e),p),P(this,Or,e0).call(this,e,n,o,d,t,r,l,h,3*(-t+3*(r-l)+h),6*(t-2*r+l),3*(r-t),p),p}}Or=new WeakSet,h1=function(e,t,n,r,o,l,d,h,p,m){if(p<=0||p>=1)return;const C=1-p,y=p*p,w=y*p,x=C*(C*(C*e+3*p*t)+3*y*n)+w*r,A=C*(C*(C*o+3*p*l)+3*y*d)+w*h;m[0]=Math.min(m[0],x),m[1]=Math.min(m[1],A),m[2]=Math.max(m[2],x),m[3]=Math.max(m[3],A)},e0=function(e,t,n,r,o,l,d,h,p,m,C,y){if(Math.abs(p)<1e-12){Math.abs(m)>=1e-12&&P(this,Or,h1).call(this,e,t,n,r,o,l,d,h,-C/m,y);return}const w=m**2-4*C*p;if(w<0)return;const x=Math.sqrt(w),A=2*p;P(this,Or,h1).call(this,e,t,n,r,o,l,d,h,(-m+x)/A,y),P(this,Or,h1).call(this,e,t,n,r,o,l,d,h,(-m-x)/A,y)},k(ve,Or);function wT(a){return decodeURIComponent(escape(a))}let zg=null,gy=null;function xT(a){return zg||(zg=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,gy=new Map([["ﬅ","ſt"]])),a.replaceAll(zg,(e,t,n)=>t?t.normalize("NFKC"):gy.get(n))}function ST(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const a=new Uint8Array(32);return crypto.getRandomValues(a),SC(a)}const k3="pdfjs_internal_id_";function ET(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(SC(a))}typeof Promise.try!="function"&&(Promise.try=function(a,...e){return new Promise(t=>{t(a(...e))})});const or="http://www.w3.org/2000/svg",Ca=class Ca{};ye(Ca,"CSS",96),ye(Ca,"PDF",72),ye(Ca,"PDF_TO_CSS_UNITS",Ca.CSS/Ca.PDF);let Yo=Ca;async function Pm(a,e="text"){if(Ld(a,document.baseURI)){const t=await fetch(a);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",a,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class Ff{constructor({viewBox:e,userUnit:t,scale:n,rotation:r,offsetX:o=0,offsetY:l=0,dontFlip:d=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=r,this.offsetX=o,this.offsetY=l,n*=t;const h=(e[2]+e[0])/2,p=(e[3]+e[1])/2;let m,C,y,w;switch(r%=360,r<0&&(r+=360),r){case 180:m=-1,C=0,y=0,w=1;break;case 90:m=0,C=1,y=1,w=0;break;case 270:m=0,C=-1,y=-1,w=0;break;case 0:m=1,C=0,y=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}d&&(y=-y,w=-w);let x,A,T,N;m===0?(x=Math.abs(p-e[1])*n+o,A=Math.abs(h-e[0])*n+l,T=(e[3]-e[1])*n,N=(e[2]-e[0])*n):(x=Math.abs(h-e[0])*n+o,A=Math.abs(p-e[1])*n+l,T=(e[2]-e[0])*n,N=(e[3]-e[1])*n),this.transform=[m*n,C*n,y*n,w*n,x-m*n*h-y*n*p,A-C*n*h-w*n*p],this.width=T,this.height=N}get rawDims(){const{userUnit:e,viewBox:t}=this,n=t.map(r=>r*e);return je(this,"rawDims",{pageWidth:n[2]-n[0],pageHeight:n[3]-n[1],pageX:n[0],pageY:n[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new Ff({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:o})}convertToViewportPoint(e,t){return ve.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=ve.applyTransform([e[0],e[1]],this.transform),n=ve.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return ve.applyInverseTransform([e,t],this.transform)}}class T3 extends Qo{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Nm(a){const e=a.length;let t=0;for(;t<e&&a[t].trim()==="";)t++;return a.substring(t,t+5).toLowerCase()==="data:"}function P3(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function AT(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function bT(a,e="document.pdf"){if(typeof a!="string")return e;if(Nm(a))return Le('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(a);let o=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=n.exec(decodeURIComponent(o))[0]}catch{}return o||e}class vy{constructor(){ye(this,"started",Object.create(null));ye(this,"times",[])}time(e){e in this.started&&Le(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Le(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:o}of this.times)e.push(`${n.padEnd(t)} ${o-r}ms
`);return e.join("")}}function Ld(a,e){try{const{protocol:t}=e?new URL(a,e):new URL(a);return t==="http:"||t==="https:"}catch{return!1}}function hi(a){a.preventDefault()}function hs(a){a.preventDefault(),a.stopPropagation()}var rh;class N3{static toDateObject(e){if(!e||typeof e!="string")return null;c(this,rh)||E(this,rh,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=c(this,rh).exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let d=parseInt(t[5],10);d=d>=0&&d<=59?d:0;let h=parseInt(t[6],10);h=h>=0&&h<=59?h:0;const p=t[7]||"Z";let m=parseInt(t[8],10);m=m>=0&&m<=23?m:0;let C=parseInt(t[9],10)||0;return C=C>=0&&C<=59?C:0,p==="-"?(l+=m,d+=C):p==="+"&&(l-=m,d-=C),new Date(Date.UTC(n,r,o,l,d,h))}}rh=new WeakMap,k(N3,rh);function kT(a,{scale:e=1,rotation:t=0}){const{width:n,height:r}=a.attributes.style,o=[0,0,parseInt(n),parseInt(r)];return new Ff({viewBox:o,userUnit:1,scale:e,rotation:t})}function L3(a){if(a.startsWith("#")){const e=parseInt(a.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(e=>parseInt(e)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Le(`Not a valid color format: "${a}"`),[0,0,0])}function TT(a){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of a.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;a.set(t,L3(n))}e.remove()}function lt(a){const{a:e,b:t,c:n,d:r,e:o,f:l}=a.getTransform();return[e,t,n,r,o,l]}function xi(a){const{a:e,b:t,c:n,d:r,e:o,f:l}=a.getTransform().invertSelf();return[e,t,n,r,o,l]}function Al(a,e,t=!1,n=!0){if(e instanceof Ff){const{pageWidth:r,pageHeight:o}=e.rawDims,{style:l}=a,d=bn.isCSSRoundSupported,h=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${o}px`,m=d?`round(down, ${h}, var(--scale-round-x, 1px))`:`calc(${h})`,C=d?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!t||e.rotation%180===0?(l.width=m,l.height=C):(l.width=C,l.height=m)}n&&a.setAttribute("data-main-rotation",e.rotation)}class t0{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var mo,wa,qs,xa,oh,ah,J1,EC,kn,AC,bC,f1,kC,s0;const cr=class cr{constructor(e){k(this,kn);k(this,mo,null);k(this,wa,null);k(this,qs);k(this,xa,null);k(this,oh,null);E(this,qs,e),c(cr,ah)||E(cr,ah,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=E(this,mo,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=c(this,qs)._uiManager._signal;e.addEventListener("contextmenu",hi,{signal:t}),e.addEventListener("pointerdown",P(cr,J1,EC),{signal:t});const n=E(this,xa,document.createElement("div"));n.className="buttons",e.append(n);const r=c(this,qs).toolbarPosition;if(r){const{style:o}=e,l=c(this,qs)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return P(this,kn,kC).call(this),e}get div(){return c(this,mo)}hide(){var e;c(this,mo).classList.add("hidden"),(e=c(this,wa))==null||e.hideDropdown()}show(){var e;c(this,mo).classList.remove("hidden"),(e=c(this,oh))==null||e.shown()}async addAltText(e){const t=await e.render();P(this,kn,f1).call(this,t),c(this,xa).prepend(t,c(this,kn,s0)),E(this,oh,e)}addColorPicker(e){E(this,wa,e);const t=e.renderButton();P(this,kn,f1).call(this,t),c(this,xa).prepend(t,c(this,kn,s0))}remove(){var e;c(this,mo).remove(),(e=c(this,wa))==null||e.destroy(),E(this,wa,null)}};mo=new WeakMap,wa=new WeakMap,qs=new WeakMap,xa=new WeakMap,oh=new WeakMap,ah=new WeakMap,J1=new WeakSet,EC=function(e){e.stopPropagation()},kn=new WeakSet,AC=function(e){c(this,qs)._focusEventsAllowed=!1,hs(e)},bC=function(e){c(this,qs)._focusEventsAllowed=!0,hs(e)},f1=function(e){const t=c(this,qs)._uiManager._signal;e.addEventListener("focusin",P(this,kn,AC).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",P(this,kn,bC).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",hi,{signal:t})},kC=function(){const{editorType:e,_uiManager:t}=c(this,qs),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",c(cr,ah)[e]),P(this,kn,f1).call(this,n),n.addEventListener("click",r=>{t.delete()},{signal:t._signal}),c(this,xa).append(n)},s0=function(){const e=document.createElement("div");return e.className="divider",e},k(cr,J1),k(cr,ah,null);let n0=cr;var lh,Sa,Ea,Ko,TC,PC,NC;class PT{constructor(e){k(this,Ko);k(this,lh,null);k(this,Sa,null);k(this,Ea);E(this,Ea,e)}show(e,t,n){const[r,o]=P(this,Ko,PC).call(this,t,n),{style:l}=c(this,Sa)||E(this,Sa,P(this,Ko,TC).call(this));e.append(c(this,Sa)),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,Sa).remove()}}lh=new WeakMap,Sa=new WeakMap,Ea=new WeakMap,Ko=new WeakSet,TC=function(){const e=E(this,Sa,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",hi,{signal:c(this,Ea)._signal});const t=E(this,lh,document.createElement("div"));return t.className="buttons",e.append(t),P(this,Ko,NC).call(this),e},PC=function(e,t){let n=0,r=0;for(const o of e){const l=o.y+o.height;if(l<n)continue;const d=o.x+(t?o.width:0);if(l>n){r=d,n=l;continue}t?d>r&&(r=d):d<r&&(r=d)}return[t?1-r:r,n]},NC=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=c(this,Ea)._signal;e.addEventListener("contextmenu",hi,{signal:n}),e.addEventListener("click",()=>{c(this,Ea).highlightSelection("floating_button")},{signal:n}),c(this,lh).append(e)};function G1(a,e,t){for(const n of t)e.addEventListener(n,a[n].bind(a))}var em;class NT{constructor(){k(this,em,0)}get id(){return`${uT}${yn(this,em)._++}`}}em=new WeakMap;var Cc,ch,ln,_c,p1;const F3=class F3{constructor(){k(this,_c);k(this,Cc,ST());k(this,ch,0);k(this,ln,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const o=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return je(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:n,size:r,type:o}=e;return P(this,_c,p1).call(this,`${t}_${n}_${r}_${o}`,e)}async getFromUrl(e){return P(this,_c,p1).call(this,e,e)}async getFromBlob(e,t){const n=await t;return P(this,_c,p1).call(this,e,n)}async getFromId(e){c(this,ln)||E(this,ln,new Map);const t=c(this,ln).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){c(this,ln)||E(this,ln,new Map);let n=c(this,ln).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${c(this,Cc)}_${yn(this,ch)._++}`,refCounter:1,isSvg:!1},c(this,ln).set(e,n),c(this,ln).set(n.id,n),n}getSvgUrl(e){const t=c(this,ln).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;c(this,ln)||E(this,ln,new Map);const t=c(this,ln).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const o=new OffscreenCanvas(n.width,n.height);o.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=o.convertToBlob()}(r=n.close)==null||r.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${c(this,Cc)}_`)}};Cc=new WeakMap,ch=new WeakMap,ln=new WeakMap,_c=new WeakSet,p1=async function(e,t){c(this,ln)||E(this,ln,new Map);let n=c(this,ln).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${c(this,Cc)}_${yn(this,ch)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(n.url=t,r=await Pm(t,"blob")):t instanceof File?r=n.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const o=F3._isSVGFittingCanvas,l=new FileReader,d=new Image,h=new Promise((p,m)=>{d.onload=()=>{n.bitmap=d,n.isSvg=!0,p()},l.onload=async()=>{const C=n.svgUrl=l.result;d.src=await o?`${C}#svgView(preserveAspectRatio(none))`:C},d.onerror=l.onerror=m});l.readAsDataURL(r),await h}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){Le(r),n=null}return c(this,ln).set(e,n),n&&c(this,ln).set(n.id,n),n};let i0=F3;var _t,go,uh,ht;class LT{constructor(e=128){k(this,_t,[]);k(this,go,!1);k(this,uh);k(this,ht,-1);E(this,uh,e)}add({cmd:e,undo:t,post:n,mustExec:r,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:d=!1}){if(r&&e(),c(this,go))return;const h={cmd:e,undo:t,post:n,type:o};if(c(this,ht)===-1){c(this,_t).length>0&&(c(this,_t).length=0),E(this,ht,0),c(this,_t).push(h);return}if(l&&c(this,_t)[c(this,ht)].type===o){d&&(h.undo=c(this,_t)[c(this,ht)].undo),c(this,_t)[c(this,ht)]=h;return}const p=c(this,ht)+1;p===c(this,uh)?c(this,_t).splice(0,1):(E(this,ht,p),p<c(this,_t).length&&c(this,_t).splice(p)),c(this,_t).push(h)}undo(){if(c(this,ht)===-1)return;E(this,go,!0);const{undo:e,post:t}=c(this,_t)[c(this,ht)];e(),t==null||t(),E(this,go,!1),E(this,ht,c(this,ht)-1)}redo(){if(c(this,ht)<c(this,_t).length-1){E(this,ht,c(this,ht)+1),E(this,go,!0);const{cmd:e,post:t}=c(this,_t)[c(this,ht)];e(),t==null||t(),E(this,go,!1)}}hasSomethingToUndo(){return c(this,ht)!==-1}hasSomethingToRedo(){return c(this,ht)<c(this,_t).length-1}cleanType(e){if(c(this,ht)!==-1){for(let t=c(this,ht);t>=0;t--)if(c(this,_t)[t].type!==e){c(this,_t).splice(t+1,c(this,ht)-t),E(this,ht,t);return}c(this,_t).length=0,E(this,ht,-1)}}destroy(){E(this,_t,null)}}_t=new WeakMap,go=new WeakMap,uh=new WeakMap,ht=new WeakMap;var tm,LC;class Of{constructor(e){k(this,tm);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=bn.platform;for(const[n,r,o={}]of e)for(const l of n){const d=l.startsWith("mac+");t&&d?(this.callbacks.set(l.slice(4),{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1))):!t&&!d&&(this.callbacks.set(l,{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(P(this,tm,LC).call(this,t));if(!n)return;const{callback:r,options:{bubbles:o=!1,args:l=[],checker:d=null}}=n;d&&!d(e,t)||(r.bind(e,...l,t)(),o||hs(t))}}tm=new WeakSet,LC=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const nm=class nm{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return TT(e),je(this,"_colors",e)}convert(e){const t=L3(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((o,l)=>o===t[l]))return nm._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?ve.makeHexColor(...t):e}};ye(nm,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let r0=nm;var wc,Qn,Mt,qt,xc,dr,Sc,Es,vo,Aa,Ec,ba,bi,Xs,ka,dh,hh,Ac,fh,ki,yo,bc,Co,Ti,sm,_o,ph,wo,Ta,mh,gh,Bt,Xe,hr,Pa,vh,yh,xo,Pi,fr,Ch,As,J,m1,o0,RC,MC,g1,IC,DC,jC,a0,FC,l0,c0,OC,wn,ar,BC,$C,u0,zC,Rd,d0;const mc=class mc{constructor(e,t,n,r,o,l,d,h,p,m,C,y,w){k(this,J);k(this,wc,new AbortController);k(this,Qn,null);k(this,Mt,new Map);k(this,qt,new Map);k(this,xc,null);k(this,dr,null);k(this,Sc,null);k(this,Es,new LT);k(this,vo,null);k(this,Aa,null);k(this,Ec,0);k(this,ba,new Set);k(this,bi,null);k(this,Xs,null);k(this,ka,new Set);ye(this,"_editorUndoBar",null);k(this,dh,!1);k(this,hh,!1);k(this,Ac,!1);k(this,fh,null);k(this,ki,null);k(this,yo,null);k(this,bc,null);k(this,Co,!1);k(this,Ti,null);k(this,sm,new NT);k(this,_o,!1);k(this,ph,!1);k(this,wo,null);k(this,Ta,null);k(this,mh,null);k(this,gh,null);k(this,Bt,Ne.NONE);k(this,Xe,new Set);k(this,hr,null);k(this,Pa,null);k(this,vh,null);k(this,yh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});k(this,xo,[0,0]);k(this,Pi,null);k(this,fr,null);k(this,Ch,null);k(this,As,null);const x=this._signal=c(this,wc).signal;E(this,fr,e),E(this,Ch,t),E(this,xc,n),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:x}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),r._on("setpreference",this.onSetPreference.bind(this),{signal:x}),r._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:x}),P(this,J,IC).call(this),P(this,J,OC).call(this),P(this,J,a0).call(this),E(this,dr,o.annotationStorage),E(this,fh,o.filterFactory),E(this,Pa,l),E(this,bc,d||null),E(this,dh,h),E(this,hh,p),E(this,Ac,m),E(this,gh,C||null),this.viewParameters={realScale:Yo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=w!==!1}static get _keyboardManager(){const e=mc.prototype,t=l=>c(l,fr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:d})=>{if(d instanceof HTMLInputElement){const{type:h}=d;return h!=="text"&&h!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return je(this,"_keyboardManager",new Of([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:d})=>!(d instanceof HTMLButtonElement)&&c(l,fr).contains(d)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:d})=>!(d instanceof HTMLButtonElement)&&c(l,fr).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,n,r,o;(e=c(this,As))==null||e.resolve(),E(this,As,null),(t=c(this,wc))==null||t.abort(),E(this,wc,null),this._signal=null;for(const l of c(this,qt).values())l.destroy();c(this,qt).clear(),c(this,Mt).clear(),c(this,ka).clear(),E(this,Qn,null),c(this,Xe).clear(),c(this,Es).destroy(),(n=c(this,xc))==null||n.destroy(),(r=c(this,Ti))==null||r.hide(),E(this,Ti,null),c(this,ki)&&(clearTimeout(c(this,ki)),E(this,ki,null)),c(this,Pi)&&(clearTimeout(c(this,Pi)),E(this,Pi,null)),(o=this._editorUndoBar)==null||o.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return c(this,gh)}get useNewAltTextFlow(){return c(this,hh)}get useNewAltTextWhenAddingImage(){return c(this,Ac)}get hcmFilter(){return je(this,"hcmFilter",c(this,Pa)?c(this,fh).addHCMFilter(c(this,Pa).foreground,c(this,Pa).background):"none")}get direction(){return je(this,"direction",getComputedStyle(c(this,fr)).direction)}get highlightColors(){return je(this,"highlightColors",c(this,bc)?new Map(c(this,bc).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return je(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),E(this,Aa,e)}setMainHighlightColorPicker(e){E(this,mh,e)}editAltText(e,t=!1){var n;(n=c(this,xc))==null||n.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":E(this,Ac,t);break}}onPageChanging({pageNumber:e}){E(this,Ec,e-1)}focusMainContainer(){c(this,fr).focus()}findParent(e,t){for(const n of c(this,qt).values()){const{x:r,y:o,width:l,height:d}=n.div.getBoundingClientRect();if(e>=r&&e<=r+l&&t>=o&&t<=o+d)return n}return null}disableUserSelect(e=!1){c(this,Ch).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,ka).add(e)}removeShouldRescale(e){c(this,ka).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Yo.PDF_TO_CSS_UNITS;for(const n of c(this,ka))n.onScaleChanging();(t=c(this,Aa))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:l}=t,d=t.toString(),p=P(this,J,m1).call(this,t).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;t.empty();const C=P(this,J,o0).call(this,p),y=c(this,Bt)===Ne.NONE,w=()=>{C==null||C.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:m,anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:l,text:d}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(Ne.HIGHLIGHT,w);return}w()}addToAnnotationStorage(e){!e.isEmpty()&&c(this,dr)&&!c(this,dr).has(e.id)&&c(this,dr).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,Co)&&(E(this,Co,!1),P(this,J,g1).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,Xe))if(t.div.contains(e)){E(this,Ta,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,Ta))return;const[e,t]=c(this,Ta);E(this,Ta,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){P(this,J,a0).call(this),P(this,J,l0).call(this)}removeEditListeners(){P(this,J,FC).call(this),P(this,J,c0).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of c(this,Xs))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of c(this,Xs))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=c(this,Qn))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of c(this,Xe)){const o=r.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const l of c(this,Xs))if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Le(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const h of n){const p=await r.deserialize(h);if(!p)return;o.push(p)}const l=()=>{for(const h of o)P(this,J,u0).call(this,h);P(this,J,d0).call(this,o)},d=()=>{for(const h of o)h.remove()};this.addCommands({cmd:l,undo:d,mustExec:!0})}catch(o){Le(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,Bt)!==Ne.NONE&&!this.isEditorHandlingKeyboard&&mc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,Co)&&(E(this,Co,!1),P(this,J,g1).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(P(this,J,DC).call(this),P(this,J,l0).call(this),P(this,J,wn).call(this,{isEditing:c(this,Bt)!==Ne.NONE,isEmpty:P(this,J,Rd).call(this),hasSomethingToUndo:c(this,Es).hasSomethingToUndo(),hasSomethingToRedo:c(this,Es).hasSomethingToRedo(),hasSelectedEditor:!1})):(P(this,J,jC).call(this),P(this,J,c0).call(this),P(this,J,wn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,Xs)){E(this,Xs,e);for(const t of c(this,Xs))P(this,J,ar).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,sm).id}get currentLayer(){return c(this,qt).get(c(this,Ec))}getLayer(e){return c(this,qt).get(e)}get currentPageIndex(){return c(this,Ec)}addLayer(e){c(this,qt).set(e.pageIndex,e),c(this,_o)?e.enable():e.disable()}removeLayer(e){c(this,qt).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){var r;if(c(this,Bt)!==e&&!(c(this,As)&&(await c(this,As).promise,!c(this,As)))){if(E(this,As,Promise.withResolvers()),E(this,Bt,e),e===Ne.NONE){this.setEditingState(!1),P(this,J,$C).call(this),(r=this._editorUndoBar)==null||r.hide(),c(this,As).resolve();return}this.setEditingState(!0),await P(this,J,BC).call(this),this.unselectAll();for(const o of c(this,qt).values())o.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),c(this,As).resolve();return}for(const o of c(this,Mt).values())o.annotationElementId===t?(this.setSelected(o),o.enterInEditMode()):o.unselect();c(this,As).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,Bt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(c(this,Xs)){switch(e){case Be.CREATE:this.currentLayer.addNewEditor();return;case Be.HIGHLIGHT_DEFAULT_COLOR:(n=c(this,mh))==null||n.updateColor(t);break;case Be.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,vh)||E(this,vh,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of c(this,Xe))r.updateParams(e,t);for(const r of c(this,Xs))r.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var o;for(const l of c(this,Mt).values())l.editorType===e&&l.show(t);(((o=c(this,vh))==null?void 0:o.get(Be.HIGHLIGHT_SHOW_ALL))??!0)!==t&&P(this,J,ar).call(this,[[Be.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,ph)!==e){E(this,ph,e);for(const t of c(this,qt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of c(this,Mt).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return c(this,Mt).get(e)}addEditor(e){c(this,Mt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(c(this,ki)&&clearTimeout(c(this,ki)),E(this,ki,setTimeout(()=>{this.focusMainContainer(),E(this,ki,null)},0))),c(this,Mt).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,ba).has(e.annotationElementId))&&((t=c(this,dr))==null||t.remove(e.id))}addDeletedAnnotationElement(e){c(this,ba).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,ba).has(e)}removeDeletedAnnotationElement(e){c(this,ba).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,Qn)!==e&&(E(this,Qn,e),e&&P(this,J,ar).call(this,e.propertiesToUpdate))}updateUI(e){c(this,J,zC)===e&&P(this,J,ar).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){P(this,J,ar).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(c(this,Xe).has(e)){c(this,Xe).delete(e),e.unselect(),P(this,J,wn).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Xe).add(e),e.select(),P(this,J,ar).call(this,e.propertiesToUpdate),P(this,J,wn).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;(t=c(this,Aa))==null||t.commitOrRemove();for(const n of c(this,Xe))n!==e&&n.unselect();c(this,Xe).clear(),c(this,Xe).add(e),e.select(),P(this,J,ar).call(this,e.propertiesToUpdate),P(this,J,wn).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,Xe).has(e)}get firstSelectedEditor(){return c(this,Xe).values().next().value}unselect(e){e.unselect(),c(this,Xe).delete(e),P(this,J,wn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Xe).size!==0}get isEnterHandled(){return c(this,Xe).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;c(this,Es).undo(),P(this,J,wn).call(this,{hasSomethingToUndo:c(this,Es).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:P(this,J,Rd).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){c(this,Es).redo(),P(this,J,wn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,Es).hasSomethingToRedo(),isEmpty:P(this,J,Rd).call(this)})}addCommands(e){c(this,Es).add(e),P(this,J,wn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:P(this,J,Rd).call(this)})}cleanUndoStack(e){c(this,Es).cleanType(e)}delete(){var o;this.commitOrRemove();const e=(o=this.currentLayer)==null?void 0:o.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...c(this,Xe)],n=()=>{var l;(l=this._editorUndoBar)==null||l.show(r,t.length===1?t[0].editorType:t.length);for(const d of t)d.remove()},r=()=>{for(const l of t)P(this,J,u0).call(this,l)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=c(this,Qn))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,Qn)||this.hasSelection}selectAll(){for(const e of c(this,Xe))e.commit();P(this,J,d0).call(this,c(this,Mt).values())}unselectAll(){var e;if(!(c(this,Qn)&&(c(this,Qn).commitOrRemove(),c(this,Bt)!==Ne.NONE))&&!((e=c(this,Aa))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of c(this,Xe))t.unselect();c(this,Xe).clear(),P(this,J,wn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;c(this,xo)[0]+=e,c(this,xo)[1]+=t;const[r,o]=c(this,xo),l=[...c(this,Xe)],d=1e3;c(this,Pi)&&clearTimeout(c(this,Pi)),E(this,Pi,setTimeout(()=>{E(this,Pi,null),c(this,xo)[0]=c(this,xo)[1]=0,this.addCommands({cmd:()=>{for(const h of l)c(this,Mt).has(h.id)&&h.translateInPage(r,o)},undo:()=>{for(const h of l)c(this,Mt).has(h.id)&&h.translateInPage(-r,-o)},mustExec:!1})},d));for(const h of l)h.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),E(this,bi,new Map);for(const e of c(this,Xe))c(this,bi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,bi))return!1;this.disableUserSelect(!1);const e=c(this,bi);E(this,bi,null);let t=!1;for(const[{x:r,y:o,pageIndex:l},d]of e)d.newX=r,d.newY=o,d.newPageIndex=l,t||(t=r!==d.savedX||o!==d.savedY||l!==d.savedPageIndex);if(!t)return!1;const n=(r,o,l,d)=>{if(c(this,Mt).has(r.id)){const h=c(this,qt).get(d);h?r._setParentAndPosition(h,o,l):(r.pageIndex=d,r.x=o,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:l,newPageIndex:d}]of e)n(r,o,l,d)},undo:()=>{for(const[r,{savedX:o,savedY:l,savedPageIndex:d}]of e)n(r,o,l,d)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,bi))for(const n of c(this,bi).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,Xe).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,Qn)===e}getActive(){return c(this,Qn)}getMode(){return c(this,Bt)}get imageManager(){return je(this,"imageManager",new i0)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let p=0,m=t.rangeCount;p<m;p++)if(!e.contains(t.getRangeAt(p).commonAncestorContainer))return null;const{x:n,y:r,width:o,height:l}=e.getBoundingClientRect();let d;switch(e.getAttribute("data-main-rotation")){case"90":d=(p,m,C,y)=>({x:(m-r)/l,y:1-(p+C-n)/o,width:y/l,height:C/o});break;case"180":d=(p,m,C,y)=>({x:1-(p+C-n)/o,y:1-(m+y-r)/l,width:C/o,height:y/l});break;case"270":d=(p,m,C,y)=>({x:1-(m+y-r)/l,y:(p-n)/o,width:y/l,height:C/o});break;default:d=(p,m,C,y)=>({x:(p-n)/o,y:(m-r)/l,width:C/o,height:y/l});break}const h=[];for(let p=0,m=t.rangeCount;p<m;p++){const C=t.getRangeAt(p);if(!C.collapsed)for(const{x:y,y:w,width:x,height:A}of C.getClientRects())x===0||A===0||h.push(d(y,w,x,A))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,Sc)||E(this,Sc,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,Sc))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=c(this,Sc))==null?void 0:r.get(e.data.id);if(!t)return;const n=c(this,dr).getRawValue(t);n&&(c(this,Bt)===Ne.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};wc=new WeakMap,Qn=new WeakMap,Mt=new WeakMap,qt=new WeakMap,xc=new WeakMap,dr=new WeakMap,Sc=new WeakMap,Es=new WeakMap,vo=new WeakMap,Aa=new WeakMap,Ec=new WeakMap,ba=new WeakMap,bi=new WeakMap,Xs=new WeakMap,ka=new WeakMap,dh=new WeakMap,hh=new WeakMap,Ac=new WeakMap,fh=new WeakMap,ki=new WeakMap,yo=new WeakMap,bc=new WeakMap,Co=new WeakMap,Ti=new WeakMap,sm=new WeakMap,_o=new WeakMap,ph=new WeakMap,wo=new WeakMap,Ta=new WeakMap,mh=new WeakMap,gh=new WeakMap,Bt=new WeakMap,Xe=new WeakMap,hr=new WeakMap,Pa=new WeakMap,vh=new WeakMap,yh=new WeakMap,xo=new WeakMap,Pi=new WeakMap,fr=new WeakMap,Ch=new WeakMap,As=new WeakMap,J=new WeakSet,m1=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},o0=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of c(this,qt).values())if(n.hasTextLayer(e))return n;return null},RC=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=P(this,J,m1).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(c(this,Ti)||E(this,Ti,new PT(this)),c(this,Ti).show(n,r,this.direction==="ltr"))},MC=function(){var o,l,d;const e=document.getSelection();if(!e||e.isCollapsed){c(this,hr)&&((o=c(this,Ti))==null||o.hide(),E(this,hr,null),P(this,J,wn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,hr))return;const r=P(this,J,m1).call(this,e).closest(".textLayer");if(!r){c(this,hr)&&((l=c(this,Ti))==null||l.hide(),E(this,hr,null),P(this,J,wn).call(this,{hasSelectedText:!1}));return}if((d=c(this,Ti))==null||d.hide(),E(this,hr,t),P(this,J,wn).call(this,{hasSelectedText:!0}),!(c(this,Bt)!==Ne.HIGHLIGHT&&c(this,Bt)!==Ne.NONE)&&(c(this,Bt)===Ne.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),E(this,Co,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=c(this,Bt)===Ne.HIGHLIGHT?P(this,J,o0).call(this,r):null;h==null||h.toggleDrawing();const p=new AbortController,m=this.combinedSignal(p),C=y=>{y.type==="pointerup"&&y.button!==0||(p.abort(),h==null||h.toggleDrawing(!0),y.type==="pointerup"&&P(this,J,g1).call(this,"main_toolbar"))};window.addEventListener("pointerup",C,{signal:m}),window.addEventListener("blur",C,{signal:m})}},g1=function(e=""){c(this,Bt)===Ne.HIGHLIGHT?this.highlightSelection(e):c(this,dh)&&P(this,J,RC).call(this)},IC=function(){document.addEventListener("selectionchange",P(this,J,MC).bind(this),{signal:this._signal})},DC=function(){if(c(this,yo))return;E(this,yo,new AbortController);const e=this.combinedSignal(c(this,yo));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},jC=function(){var e;(e=c(this,yo))==null||e.abort(),E(this,yo,null)},a0=function(){if(c(this,wo))return;E(this,wo,new AbortController);const e=this.combinedSignal(c(this,wo));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},FC=function(){var e;(e=c(this,wo))==null||e.abort(),E(this,wo,null)},l0=function(){if(c(this,vo))return;E(this,vo,new AbortController);const e=this.combinedSignal(c(this,vo));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},c0=function(){var e;(e=c(this,vo))==null||e.abort(),E(this,vo,null)},OC=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},wn=function(e){Object.entries(e).some(([n,r])=>c(this,yh)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,yh),e)}),c(this,Bt)===Ne.HIGHLIGHT&&e.hasSelectedEditor===!1&&P(this,J,ar).call(this,[[Be.HIGHLIGHT_FREE,!0]]))},ar=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},BC=async function(){if(!c(this,_o)){E(this,_o,!0);const e=[];for(const t of c(this,qt).values())e.push(t.enable());await Promise.all(e);for(const t of c(this,Mt).values())t.enable()}},$C=function(){if(this.unselectAll(),c(this,_o)){E(this,_o,!1);for(const e of c(this,qt).values())e.disable();for(const e of c(this,Mt).values())e.disable()}},u0=function(e){const t=c(this,qt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},zC=function(){let e=null;for(e of c(this,Xe));return e},Rd=function(){if(c(this,Mt).size===0)return!0;if(c(this,Mt).size===1)for(const e of c(this,Mt).values())return e.isEmpty();return!1},d0=function(e){for(const t of c(this,Xe))t.unselect();c(this,Xe).clear();for(const t of e)t.isEmpty()||(c(this,Xe).add(t),t.select());P(this,J,wn).call(this,{hasSelectedEditor:this.hasSelection})},ye(mc,"TRANSLATE_SMALL",1),ye(mc,"TRANSLATE_BIG",10);let bl=mc;var $t,Ni,Ys,kc,Li,Jn,Tc,Ri,$n,pr,Na,Mi,So,ri,Md,v1;const xn=class xn{constructor(e){k(this,ri);k(this,$t,null);k(this,Ni,!1);k(this,Ys,null);k(this,kc,null);k(this,Li,null);k(this,Jn,null);k(this,Tc,!1);k(this,Ri,null);k(this,$n,null);k(this,pr,null);k(this,Na,null);k(this,Mi,!1);E(this,$n,e),E(this,Mi,e._uiManager.useNewAltTextFlow),c(xn,So)||E(xn,So,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){xn._l10n??(xn._l10n=e)}async render(){const e=E(this,Ys,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=E(this,kc,document.createElement("span"));e.append(t),c(this,Mi)?(e.classList.add("new"),e.setAttribute("data-l10n-id",c(xn,So).missing),t.setAttribute("data-l10n-id",c(xn,So)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=c(this,$n)._uiManager._signal;e.addEventListener("contextmenu",hi,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),c(this,$n)._uiManager.editAltText(c(this,$n)),c(this,Mi)&&c(this,$n)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:c(this,ri,Md)}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(E(this,Tc,!0),r(o))},{signal:n}),await P(this,ri,v1).call(this),e}finish(){c(this,Ys)&&(c(this,Ys).focus({focusVisible:c(this,Tc)}),E(this,Tc,!1))}isEmpty(){return c(this,Mi)?c(this,$t)===null:!c(this,$t)&&!c(this,Ni)}hasData(){return c(this,Mi)?c(this,$t)!==null||!!c(this,pr):this.isEmpty()}get guessedText(){return c(this,pr)}async setGuessedText(e){c(this,$t)===null&&(E(this,pr,e),E(this,Na,await xn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),P(this,ri,v1).call(this))}toggleAltTextBadge(e=!1){var t;if(!c(this,Mi)||c(this,$t)){(t=c(this,Ri))==null||t.remove(),E(this,Ri,null);return}if(!c(this,Ri)){const n=E(this,Ri,document.createElement("div"));n.className="noAltTextBadge",c(this,$n).div.append(n)}c(this,Ri).classList.toggle("hidden",!e)}serialize(e){let t=c(this,$t);return!e&&c(this,pr)===t&&(t=c(this,Na)),{altText:t,decorative:c(this,Ni),guessedText:c(this,pr),textWithDisclaimer:c(this,Na)}}get data(){return{altText:c(this,$t),decorative:c(this,Ni)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:r,cancel:o=!1}){n&&(E(this,pr,n),E(this,Na,r)),!(c(this,$t)===e&&c(this,Ni)===t)&&(o||(E(this,$t,e),E(this,Ni,t)),P(this,ri,v1).call(this))}toggle(e=!1){c(this,Ys)&&(!e&&c(this,Jn)&&(clearTimeout(c(this,Jn)),E(this,Jn,null)),c(this,Ys).disabled=!e)}shown(){c(this,$n)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:c(this,ri,Md)}})}destroy(){var e,t;(e=c(this,Ys))==null||e.remove(),E(this,Ys,null),E(this,kc,null),E(this,Li,null),(t=c(this,Ri))==null||t.remove(),E(this,Ri,null)}};$t=new WeakMap,Ni=new WeakMap,Ys=new WeakMap,kc=new WeakMap,Li=new WeakMap,Jn=new WeakMap,Tc=new WeakMap,Ri=new WeakMap,$n=new WeakMap,pr=new WeakMap,Na=new WeakMap,Mi=new WeakMap,So=new WeakMap,ri=new WeakSet,Md=function(){return c(this,$t)&&"added"||c(this,$t)===null&&this.guessedText&&"review"||"missing"},v1=async function(){var r,o,l;const e=c(this,Ys);if(!e)return;if(c(this,Mi)){if(e.classList.toggle("done",!!c(this,$t)),e.setAttribute("data-l10n-id",c(xn,So)[c(this,ri,Md)]),(r=c(this,kc))==null||r.setAttribute("data-l10n-id",c(xn,So)[`${c(this,ri,Md)}-label`]),!c(this,$t)){(o=c(this,Li))==null||o.remove();return}}else{if(!c(this,$t)&&!c(this,Ni)){e.classList.remove("done"),(l=c(this,Li))==null||l.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=c(this,Li);if(!t){E(this,Li,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${c(this,$n).id}`;const d=100,h=c(this,$n)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(c(this,Jn)),E(this,Jn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{E(this,Jn,setTimeout(()=>{E(this,Jn,null),c(this,Li).classList.add("show"),c(this,$n)._reportTelemetry({action:"alt_text_tooltip"})},d))},{signal:h}),e.addEventListener("mouseleave",()=>{var p;c(this,Jn)&&(clearTimeout(c(this,Jn)),E(this,Jn,null)),(p=c(this,Li))==null||p.classList.remove("show")},{signal:h})}c(this,Ni)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=c(this,$t)),t.parentNode||e.append(t);const n=c(this,$n).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},k(xn,So,null),ye(xn,"_l10n",null);let q1=xn;var _h,La,wh,xh,Sh,Eh,Ah,Pc,mr,Ra,Eo,zr,HC,UC,h0;const O3=class O3{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:o=null,onPinchEnd:l=null,signal:d}){k(this,zr);k(this,_h);k(this,La,!1);k(this,wh,null);k(this,xh);k(this,Sh);k(this,Eh);k(this,Ah);k(this,Pc);k(this,mr,null);k(this,Ra);k(this,Eo,null);E(this,_h,e),E(this,wh,n),E(this,xh,t),E(this,Sh,r),E(this,Eh,o),E(this,Ah,l),E(this,Ra,new AbortController),E(this,Pc,AbortSignal.any([d,c(this,Ra).signal])),e.addEventListener("touchstart",P(this,zr,HC).bind(this),{passive:!1,signal:c(this,Pc)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return je(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var e;(e=c(this,Ra))==null||e.abort(),E(this,Ra,null)}};_h=new WeakMap,La=new WeakMap,wh=new WeakMap,xh=new WeakMap,Sh=new WeakMap,Eh=new WeakMap,Ah=new WeakMap,Pc=new WeakMap,mr=new WeakMap,Ra=new WeakMap,Eo=new WeakMap,zr=new WeakSet,HC=function(e){var r,o,l;if((r=c(this,xh))!=null&&r.call(this)||e.touches.length<2)return;if(!c(this,Eo)){E(this,Eo,new AbortController);const d=AbortSignal.any([c(this,Pc),c(this,Eo).signal]),h=c(this,_h),p={signal:d,passive:!1};h.addEventListener("touchmove",P(this,zr,UC).bind(this),p),h.addEventListener("touchend",P(this,zr,h0).bind(this),p),h.addEventListener("touchcancel",P(this,zr,h0).bind(this),p),(o=c(this,Sh))==null||o.call(this)}if(hs(e),e.touches.length!==2||(l=c(this,wh))!=null&&l.call(this)){E(this,mr,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),E(this,mr,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},UC=function(e){var M;if(!c(this,mr)||e.touches.length!==2)return;let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:r,screenY:o}=t,{screenX:l,screenY:d}=n,h=c(this,mr),{touch0X:p,touch0Y:m,touch1X:C,touch1Y:y}=h,w=C-p,x=y-m,A=l-r,T=d-o,N=Math.hypot(A,T)||1,L=Math.hypot(w,x)||1;if(!c(this,La)&&Math.abs(L-N)<=O3.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=r,h.touch0Y=o,h.touch1X=l,h.touch1Y=d,e.preventDefault(),!c(this,La)){E(this,La,!0);return}const I=[(r+l)/2,(o+d)/2];(M=c(this,Eh))==null||M.call(this,I,L,N)},h0=function(e){var t;c(this,Eo).abort(),E(this,Eo,null),(t=c(this,Ah))==null||t.call(this),c(this,mr)&&(e.preventDefault(),E(this,mr,null),E(this,La,!1))};let X1=O3;var Ma,Ks,rt,Nc,Ao,bh,Ia,Xt,Da,gr,bo,kh,ja,es,Th,Fa,vr,Ii,Lc,Rc,bs,Oa,Ph,im,xe,f0,Nh,p0,y1,VC,WC,m0,C1,g0,GC,qC,XC,v0,YC,y0,KC,ZC,QC,C0,Id;const Re=class Re{constructor(e){k(this,xe);k(this,Ma,null);k(this,Ks,null);k(this,rt,null);k(this,Nc,!1);k(this,Ao,null);k(this,bh,"");k(this,Ia,!1);k(this,Xt,null);k(this,Da,null);k(this,gr,null);k(this,bo,null);k(this,kh,"");k(this,ja,!1);k(this,es,null);k(this,Th,!1);k(this,Fa,!1);k(this,vr,!1);k(this,Ii,null);k(this,Lc,0);k(this,Rc,0);k(this,bs,null);k(this,Oa,null);ye(this,"_editToolbar",null);ye(this,"_initialOptions",Object.create(null));ye(this,"_initialData",null);ye(this,"_isVisible",!0);ye(this,"_uiManager",null);ye(this,"_focusEventsAllowed",!0);k(this,Ph,!1);k(this,im,Re._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[o,l];const[d,h]=this.parentDimensions;this.x=e.x/d,this.y=e.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Re.prototype._resizeWithKeyboard,t=bl.TRANSLATE_SMALL,n=bl.TRANSLATE_BIG;return je(this,"_resizerKeyboardManager",new Of([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Re.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return je(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new RT({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Re._l10n??(Re._l10n=e),Re._l10nResizer||(Re._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Re._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Re._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Je("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,Ph)}set _isDraggable(e){var t;E(this,Ph,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,im)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):P(this,xe,Id).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,ja)?E(this,ja,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[o,l]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/o,this.y=(t+r)/l,this.fixAndSetPosition()}translate(e,t){P(this,xe,f0).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,es)||E(this,es,[this.x,this.y,this.width,this.height]),P(this,xe,f0).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(this,es)||E(this,es,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[r,o]}=this;if(this.x+=e/r,this.y+=t/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:C,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,C,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:d}=this;const[h,p]=this.getBaseTranslation();l+=h,d+=p;const{style:m}=n;m.left=`${(100*l).toFixed(2)}%`,m.top=`${(100*d).toFixed(2)}%`,this._onTranslating(l,d),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!c(this,es)&&(c(this,es)[0]!==this.x||c(this,es)[1]!==this.y)}get _hasBeenResized(){return!!c(this,es)&&(c(this,es)[2]!==this.width||c(this,es)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Re,r=n/e,o=n/t;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,r]}=this;let{x:o,y:l,width:d,height:h}=this;if(d*=n,h*=r,o*=n,l*=r,this._mustFixPosition)switch(e){case 0:o=Math.max(0,Math.min(n-d,o)),l=Math.max(0,Math.min(r-h,l));break;case 90:o=Math.max(0,Math.min(n-h,o)),l=Math.min(r,Math.max(d,l));break;case 180:o=Math.min(n,Math.max(d,o)),l=Math.min(r,Math.max(h,l));break;case 270:o=Math.min(n,Math.max(h,o)),l=Math.max(0,Math.min(r-d,l));break}this.x=o/=n,this.y=l/=r;const[p,m]=this.getBaseTranslation();o+=p,l+=m,t.left=`${(100*o).toFixed(2)}%`,t.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return P(n=Re,Nh,p0).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return P(n=Re,Nh,p0).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions,{style:o}=this.div;o.width=`${(100*e/n).toFixed(2)}%`,c(this,Ia)||(o.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),o=!c(this,Ia)&&t.endsWith("%");if(r&&o)return;const[l,d]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!c(this,Ia)&&!o&&(e.height=`${(100*parseFloat(t)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=c(this,rt))==null||e.finish()}async addEditToolbar(){return this._editToolbar||c(this,Fa)?this._editToolbar:(this._editToolbar=new n0(this),this.div.append(this._editToolbar.render()),c(this,rt)&&await this._editToolbar.addAltText(c(this,rt)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=c(this,rt))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,rt)||(q1.initialize(Re._l10n),E(this,rt,new q1(this)),c(this,Ma)&&(c(this,rt).data=c(this,Ma),E(this,Ma,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,rt))==null?void 0:e.data}set altTextData(e){c(this,rt)&&(c(this,rt).data=e)}get guessedAltText(){var e;return(e=c(this,rt))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=c(this,rt))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=c(this,rt))==null?void 0:t.serialize(e)}hasAltText(){return!!c(this,rt)&&!c(this,rt).isEmpty()}hasAltTextData(){var e;return((e=c(this,rt))==null?void 0:e.hasData())??!1}render(){var o;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,Nc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),P(this,xe,y0).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,r]=this.getInitialTranslation();return this.translate(n,r),G1(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(c(this,Oa)||E(this,Oa,new X1({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:P(this,xe,GC).bind(this),onPinching:P(this,xe,qC).bind(this),onPinchEnd:P(this,xe,XC).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),this.div}pointerdown(e){const{isMac:t}=bn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(E(this,ja,!0),this._isDraggable){P(this,xe,YC).call(this,e);return}P(this,xe,v0).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){c(this,Ii)&&clearTimeout(c(this,Ii)),E(this,Ii,setTimeout(()=>{var e;E(this,Ii,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const r=this.parentScale,[o,l]=this.pageDimensions,[d,h]=this.pageTranslation,p=e/r,m=t/r,C=this.x*o,y=this.y*l,w=this.width*o,x=this.height*l;switch(n){case 0:return[C+p+d,l-y-m-x+h,C+p+w+d,l-y-m+h];case 90:return[C+m+d,l-y+p+h,C+m+x+d,l-y+p+w+h];case 180:return[C-p-w+d,l-y+m+h,C-p+d,l-y+m+x+h];case 270:return[C-m-x+d,l-y-p-w+h,C-m+d,l-y-p+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,o,l]=e,d=o-n,h=l-r;switch(this.rotation){case 0:return[n,t-l,d,h];case 90:return[n,t-r,h,d];case 180:return[o,t-r,d,h];case 270:return[o,t-l,h,d];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){E(this,Fa,!0)}disableEditMode(){E(this,Fa,!1)}isInEditMode(){return c(this,Fa)}shouldGetKeyboardEvents(){return c(this,vr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return t<l&&r>0&&e<o&&n>0}rebuild(){P(this,xe,y0).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Je("An editor must be serializable")}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation,E(r,Ma,e.accessibilityData);const[o,l]=r.pageDimensions,[d,h,p,m]=r.getRectInCurrentCoords(e.rect,l);return r.x=d/o,r.y=h/l,r.width=p/o,r.height=m/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=c(this,bo))==null||e.abort(),E(this,bo,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,Ii)&&(clearTimeout(c(this,Ii)),E(this,Ii,null)),P(this,xe,Id).call(this),this.removeEditToolbar(),c(this,bs)){for(const n of c(this,bs).values())clearTimeout(n);E(this,bs,null)}this.parent=null,(t=c(this,Oa))==null||t.destroy(),E(this,Oa,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(P(this,xe,VC).call(this),c(this,Xt).classList.remove("hidden"),G1(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),E(this,gr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,Xt).children;if(!c(this,Ks)){E(this,Ks,Array.from(t));const l=P(this,xe,KC).bind(this),d=P(this,xe,ZC).bind(this),h=this._uiManager._signal;for(const p of c(this,Ks)){const m=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",l,{signal:h}),p.addEventListener("blur",d,{signal:h}),p.addEventListener("focus",P(this,xe,QC).bind(this,m),{signal:h}),p.setAttribute("data-l10n-id",Re._l10nResizer[m])}}const n=c(this,Ks)[0];let r=0;for(const l of t){if(l===n)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(c(this,Ks).length/4);if(o!==r){if(o<r)for(let d=0;d<r-o;d++)c(this,Xt).append(c(this,Xt).firstChild);else if(o>r)for(let d=0;d<o-r;d++)c(this,Xt).firstChild.before(c(this,Xt).lastChild);let l=0;for(const d of t){const p=c(this,Ks)[l++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",Re._l10nResizer[p])}}P(this,xe,C0).call(this,0),E(this,vr,!0),c(this,Xt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,vr)&&P(this,xe,g0).call(this,c(this,kh),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){P(this,xe,Id).call(this),this.div.focus()}select(){var e,t,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(t=this._editToolbar)==null||t.show(),(n=c(this,rt))==null||n.toggleAltTextBadge(!1)}unselect(){var e,t,n,r,o;(e=c(this,Xt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=c(this,rt))==null||o.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,Th)}set isEditing(e){E(this,Th,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){E(this,Ia,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,bs)||E(this,bs,new Map);const{action:n}=e;let r=c(this,bs).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),c(this,bs).delete(n),c(this,bs).size===0&&E(this,bs,null)},Re._telemetryTimeout),c(this,bs).set(n,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),E(this,Nc,!1)}disable(){this.div&&(this.div.tabIndex=-1),E(this,Nc,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Ma=new WeakMap,Ks=new WeakMap,rt=new WeakMap,Nc=new WeakMap,Ao=new WeakMap,bh=new WeakMap,Ia=new WeakMap,Xt=new WeakMap,Da=new WeakMap,gr=new WeakMap,bo=new WeakMap,kh=new WeakMap,ja=new WeakMap,es=new WeakMap,Th=new WeakMap,Fa=new WeakMap,vr=new WeakMap,Ii=new WeakMap,Lc=new WeakMap,Rc=new WeakMap,bs=new WeakMap,Oa=new WeakMap,Ph=new WeakMap,im=new WeakMap,xe=new WeakSet,f0=function([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Nh=new WeakSet,p0=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},y1=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},VC=function(){if(c(this,Xt))return;E(this,Xt,document.createElement("div")),c(this,Xt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");c(this,Xt).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",P(this,xe,WC).bind(this,n),{signal:t}),r.addEventListener("contextmenu",hi,{signal:t}),r.tabIndex=-1}this.div.prepend(c(this,Xt))},WC=function(e,t){var m;t.preventDefault();const{isMac:n}=bn.platform;if(t.button!==0||t.ctrlKey&&n)return;(m=c(this,rt))==null||m.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,E(this,Da,[t.screenX,t.screenY]);const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",P(this,xe,g0).bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",hs,{passive:!1,signal:l}),window.addEventListener("contextmenu",hi,{signal:l}),E(this,gr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var C;o.abort(),this.parent.togglePointerEvents(!0),(C=c(this,rt))==null||C.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=d,this.div.style.cursor=h,P(this,xe,C1).call(this)};window.addEventListener("pointerup",p,{signal:l}),window.addEventListener("blur",p,{signal:l})},m0=function(e,t,n,r){this.width=n,this.height=r,this.x=e,this.y=t;const[o,l]=this.parentDimensions;this.setDims(o*n,l*r),this.fixAndSetPosition(),this._onResized()},C1=function(){if(!c(this,gr))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=c(this,gr);E(this,gr,null);const o=this.x,l=this.y,d=this.width,h=this.height;o===e&&l===t&&d===n&&h===r||this.addCommands({cmd:P(this,xe,m0).bind(this,o,l,d,h),undo:P(this,xe,m0).bind(this,e,t,n,r),mustExec:!0})},g0=function(e,t){const[n,r]=this.parentDimensions,o=this.x,l=this.y,d=this.width,h=this.height,p=Re.MIN_SIZE/n,m=Re.MIN_SIZE/r,C=P(this,xe,y1).call(this,this.rotation),y=(Q,te)=>[C[0]*Q+C[2]*te,C[1]*Q+C[3]*te],w=P(this,xe,y1).call(this,360-this.rotation),x=(Q,te)=>[w[0]*Q+w[2]*te,w[1]*Q+w[3]*te];let A,T,N=!1,L=!1;switch(e){case"topLeft":N=!0,A=(Q,te)=>[0,0],T=(Q,te)=>[Q,te];break;case"topMiddle":A=(Q,te)=>[Q/2,0],T=(Q,te)=>[Q/2,te];break;case"topRight":N=!0,A=(Q,te)=>[Q,0],T=(Q,te)=>[0,te];break;case"middleRight":L=!0,A=(Q,te)=>[Q,te/2],T=(Q,te)=>[0,te/2];break;case"bottomRight":N=!0,A=(Q,te)=>[Q,te],T=(Q,te)=>[0,0];break;case"bottomMiddle":A=(Q,te)=>[Q/2,te],T=(Q,te)=>[Q/2,0];break;case"bottomLeft":N=!0,A=(Q,te)=>[0,te],T=(Q,te)=>[Q,0];break;case"middleLeft":L=!0,A=(Q,te)=>[0,te/2],T=(Q,te)=>[Q,te/2];break}const I=A(d,h),M=T(d,h);let F=y(...M);const z=Re._round(o+F[0]),U=Re._round(l+F[1]);let q=1,Y=1,ie,he;if(t.fromKeyboard)({deltaX:ie,deltaY:he}=t);else{const{screenX:Q,screenY:te}=t,[Z,fe]=c(this,Da);[ie,he]=this.screenToPageTranslation(Q-Z,te-fe),c(this,Da)[0]=Q,c(this,Da)[1]=te}if([ie,he]=x(ie/n,he/r),N){const Q=Math.hypot(d,h);q=Y=Math.max(Math.min(Math.hypot(M[0]-I[0]-ie,M[1]-I[1]-he)/Q,1/d,1/h),p/d,m/h)}else L?q=Math.max(p,Math.min(1,Math.abs(M[0]-I[0]-ie)))/d:Y=Math.max(m,Math.min(1,Math.abs(M[1]-I[1]-he)))/h;const Fe=Re._round(d*q),ue=Re._round(h*Y);F=y(...T(Fe,ue));const ae=z-F[0],ke=U-F[1];c(this,es)||E(this,es,[this.x,this.y,this.width,this.height]),this.width=Fe,this.height=ue,this.x=ae,this.y=ke,this.setDims(n*Fe,r*ue),this.fixAndSetPosition(),this._onResizing()},GC=function(){var e;E(this,gr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=c(this,rt))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},qC=function(e,t,n){let o=.7*(n/t)+1-.7;if(o===1)return;const l=P(this,xe,y1).call(this,this.rotation),d=(z,U)=>[l[0]*z+l[2]*U,l[1]*z+l[3]*U],[h,p]=this.parentDimensions,m=this.x,C=this.y,y=this.width,w=this.height,x=Re.MIN_SIZE/h,A=Re.MIN_SIZE/p;o=Math.max(Math.min(o,1/y,1/w),x/y,A/w);const T=Re._round(y*o),N=Re._round(w*o);if(T===y&&N===w)return;c(this,es)||E(this,es,[m,C,y,w]);const L=d(y/2,w/2),I=Re._round(m+L[0]),M=Re._round(C+L[1]),F=d(T/2,N/2);this.x=I-F[0],this.y=M-F[1],this.width=T,this.height=N,this.setDims(h*T,p*N),this.fixAndSetPosition(),this._onResizing()},XC=function(){var e;(e=c(this,rt))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),P(this,xe,C1).call(this)},v0=function(e){const{isMac:t}=bn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},YC=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,o=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:o},d=p=>{r.abort(),E(this,Ao,null),E(this,ja,!1),this._uiManager.endDragSession()||P(this,xe,v0).call(this,p),n&&this._onStopDragging()};t&&(E(this,Lc,e.clientX),E(this,Rc,e.clientY),E(this,Ao,e.pointerId),E(this,bh,e.pointerType),window.addEventListener("pointermove",p=>{n||(n=!0,this._onStartDragging());const{clientX:m,clientY:C,pointerId:y}=p;if(y!==c(this,Ao)){hs(p);return}const[w,x]=this.screenToPageTranslation(m-c(this,Lc),C-c(this,Rc));E(this,Lc,m),E(this,Rc,C),this._uiManager.dragSelectedEditors(w,x)},l),window.addEventListener("touchmove",hs,l),window.addEventListener("pointerdown",p=>{p.pointerType===c(this,bh)&&(c(this,Oa)||p.isPrimary)&&d(p),hs(p)},l));const h=p=>{if(!c(this,Ao)||c(this,Ao)===p.pointerId){d(p);return}hs(p)};window.addEventListener("pointerup",h,{signal:o}),window.addEventListener("blur",h,{signal:o})},y0=function(){if(c(this,bo)||!this.div)return;E(this,bo,new AbortController);const e=this._uiManager.combinedSignal(c(this,bo));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},KC=function(e){Re._resizerKeyboardManager.exec(this,e)},ZC=function(e){var t;c(this,vr)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,Xt)&&P(this,xe,Id).call(this)},QC=function(e){E(this,kh,c(this,vr)?e:"")},C0=function(e){if(c(this,Ks))for(const t of c(this,Ks))t.tabIndex=e},Id=function(){E(this,vr,!1),P(this,xe,C0).call(this,-1),P(this,xe,C1).call(this)},k(Re,Nh),ye(Re,"_l10n",null),ye(Re,"_l10nResizer",null),ye(Re,"_borderLineWidth",-1),ye(Re,"_colorManager",new r0),ye(Re,"_zIndex",1),ye(Re,"_telemetryTimeout",1e3);let pt=Re;class RT extends pt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const yy=3285377520,Ss=4294901760,Si=65535;class JC{constructor(e){this.h1=e?e&4294967295:yy,this.h2=e?e&4294967295:yy}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let A=0,T=e.length;A<T;A++){const N=e.charCodeAt(A);N<=255?t[n++]=N:(t[n++]=N>>>8,t[n++]=N&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,o=n-r*4,l=new Uint32Array(t.buffer,0,r);let d=0,h=0,p=this.h1,m=this.h2;const C=3432918353,y=461845907,w=C&Si,x=y&Si;for(let A=0;A<r;A++)A&1?(d=l[A],d=d*C&Ss|d*w&Si,d=d<<15|d>>>17,d=d*y&Ss|d*x&Si,p^=d,p=p<<13|p>>>19,p=p*5+3864292196):(h=l[A],h=h*C&Ss|h*w&Si,h=h<<15|h>>>17,h=h*y&Ss|h*x&Si,m^=h,m=m<<13|m>>>19,m=m*5+3864292196);switch(d=0,o){case 3:d^=t[r*4+2]<<16;case 2:d^=t[r*4+1]<<8;case 1:d^=t[r*4],d=d*C&Ss|d*w&Si,d=d<<15|d>>>17,d=d*y&Ss|d*x&Si,r&1?p^=d:m^=d}this.h1=p,this.h2=m}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ss|e*36045&Si,t=t*4283543511&Ss|((t<<16|e>>>16)*2950163797&Ss)>>>16,e^=t>>>1,e=e*444984403&Ss|e*60499&Si,t=t*3301882366&Ss|((t<<16|e>>>16)*3120437893&Ss)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const _0=Object.freeze({map:null,hash:"",transfer:void 0});var Ba,$a,zt,rm,e_;class R3{constructor(){k(this,rm);k(this,Ba,!1);k(this,$a,null);k(this,zt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=c(this,zt).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return c(this,zt).get(e)}remove(e){if(c(this,zt).delete(e),c(this,zt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,zt).values())if(t instanceof pt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=c(this,zt).get(e);let r=!1;if(n!==void 0)for(const[o,l]of Object.entries(t))n[o]!==l&&(r=!0,n[o]=l);else r=!0,c(this,zt).set(e,t);r&&P(this,rm,e_).call(this),t instanceof pt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,zt).has(e)}getAll(){return c(this,zt).size>0?b3(c(this,zt)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return c(this,zt).size}resetModified(){c(this,Ba)&&(E(this,Ba,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new t_(this)}get serializable(){if(c(this,zt).size===0)return _0;const e=new Map,t=new JC,n=[],r=Object.create(null);let o=!1;for(const[l,d]of c(this,zt)){const h=d instanceof pt?d.serialize(!1,r):d;h&&(e.set(l,h),t.update(`${l}:${JSON.stringify(h)}`),o||(o=!!h.bitmap))}if(o)for(const l of e.values())l.bitmap&&n.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:_0}get editorStats(){let e=null;const t=new Map;for(const n of c(this,zt).values()){if(!(n instanceof pt))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:o}=r;t.has(o)||t.set(o,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[d,h]of Object.entries(r)){if(d==="type")continue;let p=l.get(d);p||(p=new Map,l.set(d,p));const m=p.get(h)??0;p.set(h,m+1)}}for(const[n,r]of t)e[n]=r.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){E(this,$a,null)}get modifiedIds(){if(c(this,$a))return c(this,$a);const e=[];for(const t of c(this,zt).values())!(t instanceof pt)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return E(this,$a,{ids:new Set(e),hash:e.join(",")})}}Ba=new WeakMap,$a=new WeakMap,zt=new WeakMap,rm=new WeakSet,e_=function(){c(this,Ba)||(E(this,Ba,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Lh;class t_ extends R3{constructor(t){super();k(this,Lh);const{map:n,hash:r,transfer:o}=t.serializable,l=structuredClone(n,o?{transfer:o}:null);E(this,Lh,{map:l,hash:r,transfer:o})}get print(){Je("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,Lh)}get modifiedIds(){return je(this,"modifiedIds",{ids:new Set,hash:""})}}Lh=new WeakMap;var Mc;class MT{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){k(this,Mc,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,Mc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||c(this,Mc).has(e.loadedName))){if(bt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:r,style:o}=e,l=new FontFace(n,r,o);this.addNativeFontFace(l);try{await l.load(),c(this,Mc).add(n),t==null||t(e)}catch{Le(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}Je("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Le(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return je(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(pn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),je(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(bt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return je(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(M,F){return M.charCodeAt(F)<<24|M.charCodeAt(F+1)<<16|M.charCodeAt(F+2)<<8|M.charCodeAt(F+3)&255}function r(M,F,z,U){const q=M.substring(0,F),Y=M.substring(F+z);return q+U+Y}let o,l;const d=this._document.createElement("canvas");d.width=1,d.height=1;const h=d.getContext("2d");let p=0;function m(M,F){if(++p>30){Le("Load test font never loaded."),F();return}if(h.font="30px "+M,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(m.bind(null,M,F))}const C=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=r(y,976,C.length,C);const x=16,A=1482184792;let T=n(y,x);for(o=0,l=C.length-3;o<l;o+=4)T=T-A+n(C,o)|0;o<C.length&&(T=T-A+n(C+"XXX",o)|0),y=r(y,x,4,yT(T));const N=`url(data:font/opentype;base64,${btoa(y)});`,L=`@font-face {font-family:"${C}";src:${N}}`;this.insertRule(L);const I=this._document.createElement("div");I.style.visibility="hidden",I.style.width=I.style.height="10px",I.style.position="absolute",I.style.top=I.style.left="0px";for(const M of[e.loadedName,C]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=M,I.append(F)}this._document.body.append(I),m(C,()=>{I.remove(),t.complete()})}}Mc=new WeakMap;class IT{constructor(e,{disableFontFace:t=!1,fontExtraProperties:n=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const o in e)this[o]=e[o];this.disableFontFace=t===!0,this.fontExtraProperties=n===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${ET(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let r;try{r=e.get(n)}catch(l){Le(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(r||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=o}}const n1={DATA:1,ERROR:2},Et={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Cy(){}function On(a){if(a instanceof Xo||a instanceof Jg||a instanceof nh||a instanceof my||a instanceof W1||a instanceof Bg)return a;switch(a instanceof Error||typeof a=="object"&&a!==null||Je('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new Xo(a.message);case"InvalidPDFException":return new Jg(a.message);case"MissingPDFException":return new nh(a.message);case"PasswordException":return new my(a.message,a.code);case"UnexpectedResponseException":return new W1(a.message,a.status);case"UnknownErrorException":return new Bg(a.message,a.details)}return new Bg(a.message,a.toString())}var Ic,Is,n_,s_,i_,_1;class Dd{constructor(e,t,n){k(this,Is);k(this,Ic,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",P(this,Is,n_).bind(this),{signal:c(this,Ic).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(e,t,n,r){const o=this.streamId++,l=this.sourceName,d=this.targetName,h=this.comObj;return new ReadableStream({start:p=>{const m=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:d,action:e,streamId:o,data:t,desiredSize:p.desiredSize},r),m.promise},pull:p=>{const m=Promise.withResolvers();return this.streamControllers[o].pullCall=m,h.postMessage({sourceName:l,targetName:d,stream:Et.PULL,streamId:o,desiredSize:p.desiredSize}),m.promise},cancel:p=>{bt(p instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[o].cancelCall=m,this.streamControllers[o].isClosed=!0,h.postMessage({sourceName:l,targetName:d,stream:Et.CANCEL,streamId:o,reason:On(p)}),m.promise}},n)}destroy(){var e;(e=c(this,Ic))==null||e.abort(),E(this,Ic,null)}}Ic=new WeakMap,Is=new WeakSet,n_=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){P(this,Is,i_).call(this,e);return}if(e.callback){const n=e.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===n1.DATA)r.resolve(e.data);else if(e.callback===n1.ERROR)r.reject(On(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,r=e.sourceName,o=this.comObj;Promise.try(t,e.data).then(function(l){o.postMessage({sourceName:n,targetName:r,callback:n1.DATA,callbackId:e.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:r,callback:n1.ERROR,callbackId:e.callbackId,reason:On(l)})});return}if(e.streamId){P(this,Is,s_).call(this,e);return}t(e.data)},s_=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj,l=this,d=this.actionHandler[e.action],h={enqueue(p,m=1,C){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=m,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:r,stream:Et.ENQUEUE,streamId:t,chunk:p},C)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:Et.CLOSE,streamId:t}),delete l.streamSinks[t])},error(p){bt(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:Et.ERROR,streamId:t,reason:On(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[t]=h,Promise.try(d,e.data,h).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Et.START_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:r,stream:Et.START_COMPLETE,streamId:t,reason:On(p)})})},i_=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj,l=this.streamControllers[t],d=this.streamSinks[t];switch(e.stream){case Et.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(On(e.reason));break;case Et.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(On(e.reason));break;case Et.PULL:if(!d){o.postMessage({sourceName:n,targetName:r,stream:Et.PULL_COMPLETE,streamId:t,success:!0});break}d.desiredSize<=0&&e.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=e.desiredSize,Promise.try(d.onPull||Cy).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Et.PULL_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:r,stream:Et.PULL_COMPLETE,streamId:t,reason:On(p)})});break;case Et.ENQUEUE:if(bt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case Et.CLOSE:if(bt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),P(this,Is,_1).call(this,l,t);break;case Et.ERROR:bt(l,"error should have stream controller"),l.controller.error(On(e.reason)),P(this,Is,_1).call(this,l,t);break;case Et.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(On(e.reason)),P(this,Is,_1).call(this,l,t);break;case Et.CANCEL:if(!d)break;const h=On(e.reason);Promise.try(d.onCancel||Cy,h).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Et.CANCEL_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:r,stream:Et.CANCEL_COMPLETE,streamId:t,reason:On(p)})}),d.sinkCapability.reject(h),d.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},_1=async function(e,t){var n,r,o;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(r=e.pullCall)==null?void 0:r.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var Rh;class r_{constructor({enableHWA:e=!1}){k(this,Rh,!1);E(this,Rh,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!c(this,Rh)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Je("Abstract method `_createCanvas` called.")}}Rh=new WeakMap;class DT extends r_{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class o_{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Je("Abstract method `_fetch` called.")}}class a_ extends o_{async _fetch(e){const t=await Pm(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Tm(t)}}class l_{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,o){return"none"}destroy(e=!1){}}var za,Dc,yr,Cr,cn,Ha,Ua,se,on,jd,ac,w1,lc,c_,w0,cc,Fd,Od,x0,Bd;class jT extends l_{constructor({docId:t,ownerDocument:n=globalThis.document}){super();k(this,se);k(this,za);k(this,Dc);k(this,yr);k(this,Cr);k(this,cn);k(this,Ha);k(this,Ua,0);E(this,Cr,t),E(this,cn,n)}addFilter(t){if(!t)return"none";let n=c(this,se,on).get(t);if(n)return n;const[r,o,l]=P(this,se,w1).call(this,t),d=t.length===1?r:`${r}${o}${l}`;if(n=c(this,se,on).get(d),n)return c(this,se,on).set(t,n),n;const h=`g_${c(this,Cr)}_transfer_map_${yn(this,Ua)._++}`,p=P(this,se,lc).call(this,h);c(this,se,on).set(t,p),c(this,se,on).set(d,p);const m=P(this,se,cc).call(this,h);return P(this,se,Od).call(this,r,o,l,m),p}addHCMFilter(t,n){var x;const r=`${t}-${n}`,o="base";let l=c(this,se,jd).get(o);if((l==null?void 0:l.key)===r||(l?((x=l.filter)==null||x.remove(),l.key=r,l.url="none",l.filter=null):(l={key:r,url:"none",filter:null},c(this,se,jd).set(o,l)),!t||!n))return l.url;const d=P(this,se,Bd).call(this,t);t=ve.makeHexColor(...d);const h=P(this,se,Bd).call(this,n);if(n=ve.makeHexColor(...h),c(this,se,ac).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return l.url;const p=new Array(256);for(let A=0;A<=255;A++){const T=A/255;p[A]=T<=.03928?T/12.92:((T+.055)/1.055)**2.4}const m=p.join(","),C=`g_${c(this,Cr)}_hcm_filter`,y=l.filter=P(this,se,cc).call(this,C);P(this,se,Od).call(this,m,m,m,y),P(this,se,w0).call(this,y);const w=(A,T)=>{const N=d[A]/255,L=h[A]/255,I=new Array(T+1);for(let M=0;M<=T;M++)I[M]=N+M/T*(L-N);return I.join(",")};return P(this,se,Od).call(this,w(0,5),w(1,5),w(2,5),y),l.url=P(this,se,lc).call(this,C),l.url}addAlphaFilter(t){let n=c(this,se,on).get(t);if(n)return n;const[r]=P(this,se,w1).call(this,[t]),o=`alpha_${r}`;if(n=c(this,se,on).get(o),n)return c(this,se,on).set(t,n),n;const l=`g_${c(this,Cr)}_alpha_map_${yn(this,Ua)._++}`,d=P(this,se,lc).call(this,l);c(this,se,on).set(t,d),c(this,se,on).set(o,d);const h=P(this,se,cc).call(this,l);return P(this,se,x0).call(this,r,h),d}addLuminosityFilter(t){let n=c(this,se,on).get(t||"luminosity");if(n)return n;let r,o;if(t?([r]=P(this,se,w1).call(this,[t]),o=`luminosity_${r}`):o="luminosity",n=c(this,se,on).get(o),n)return c(this,se,on).set(t,n),n;const l=`g_${c(this,Cr)}_luminosity_map_${yn(this,Ua)._++}`,d=P(this,se,lc).call(this,l);c(this,se,on).set(t,d),c(this,se,on).set(o,d);const h=P(this,se,cc).call(this,l);return P(this,se,c_).call(this,h),t&&P(this,se,x0).call(this,r,h),d}addHighlightHCMFilter(t,n,r,o,l){var L;const d=`${n}-${r}-${o}-${l}`;let h=c(this,se,jd).get(t);if((h==null?void 0:h.key)===d||(h?((L=h.filter)==null||L.remove(),h.key=d,h.url="none",h.filter=null):(h={key:d,url:"none",filter:null},c(this,se,jd).set(t,h)),!n||!r))return h.url;const[p,m]=[n,r].map(P(this,se,Bd).bind(this));let C=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),y=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[w,x]=[o,l].map(P(this,se,Bd).bind(this));y<C&&([C,y,w,x]=[y,C,x,w]),c(this,se,ac).style.color="";const A=(I,M,F)=>{const z=new Array(256),U=(y-C)/F,q=I/255,Y=(M-I)/(255*F);let ie=0;for(let he=0;he<=F;he++){const Fe=Math.round(C+he*U),ue=q+he*Y;for(let ae=ie;ae<=Fe;ae++)z[ae]=ue;ie=Fe+1}for(let he=ie;he<256;he++)z[he]=z[ie-1];return z.join(",")},T=`g_${c(this,Cr)}_hcm_${t}_filter`,N=h.filter=P(this,se,cc).call(this,T);return P(this,se,w0).call(this,N),P(this,se,Od).call(this,A(w[0],x[0],5),A(w[1],x[1],5),A(w[2],x[2],5),N),h.url=P(this,se,lc).call(this,T),h.url}destroy(t=!1){var n,r,o,l;t&&((n=c(this,Ha))!=null&&n.size)||((r=c(this,yr))==null||r.parentNode.parentNode.remove(),E(this,yr,null),(o=c(this,Dc))==null||o.clear(),E(this,Dc,null),(l=c(this,Ha))==null||l.clear(),E(this,Ha,null),E(this,Ua,0))}}za=new WeakMap,Dc=new WeakMap,yr=new WeakMap,Cr=new WeakMap,cn=new WeakMap,Ha=new WeakMap,Ua=new WeakMap,se=new WeakSet,on=function(){return c(this,Dc)||E(this,Dc,new Map)},jd=function(){return c(this,Ha)||E(this,Ha,new Map)},ac=function(){if(!c(this,yr)){const t=c(this,cn).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=c(this,cn).createElementNS(or,"svg");r.setAttribute("width",0),r.setAttribute("height",0),E(this,yr,c(this,cn).createElementNS(or,"defs")),t.append(r),r.append(c(this,yr)),c(this,cn).body.append(t)}return c(this,yr)},w1=function(t){if(t.length===1){const p=t[0],m=new Array(256);for(let y=0;y<256;y++)m[y]=p[y]/255;const C=m.join(",");return[C,C,C]}const[n,r,o]=t,l=new Array(256),d=new Array(256),h=new Array(256);for(let p=0;p<256;p++)l[p]=n[p]/255,d[p]=r[p]/255,h[p]=o[p]/255;return[l.join(","),d.join(","),h.join(",")]},lc=function(t){if(c(this,za)===void 0){E(this,za,"");const n=c(this,cn).URL;n!==c(this,cn).baseURI&&(Nm(n)?Le('#createUrl: ignore "data:"-URL for performance reasons.'):E(this,za,n.split("#",1)[0]))}return`url(${c(this,za)}#${t})`},c_=function(t){const n=c(this,cn).createElementNS(or,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},w0=function(t){const n=c(this,cn).createElementNS(or,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},cc=function(t){const n=c(this,cn).createElementNS(or,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),c(this,se,ac).append(n),n},Fd=function(t,n,r){const o=c(this,cn).createElementNS(or,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),t.append(o)},Od=function(t,n,r,o){const l=c(this,cn).createElementNS(or,"feComponentTransfer");o.append(l),P(this,se,Fd).call(this,l,"feFuncR",t),P(this,se,Fd).call(this,l,"feFuncG",n),P(this,se,Fd).call(this,l,"feFuncB",r)},x0=function(t,n){const r=c(this,cn).createElementNS(or,"feComponentTransfer");n.append(r),P(this,se,Fd).call(this,r,"feFuncA",t)},Bd=function(t){return c(this,se,ac).style.color=t,L3(getComputedStyle(c(this,se,ac)).getPropertyValue("color"))};class u_{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Je("Abstract method `_fetch` called.")}}class d_ extends u_{async _fetch(e){const t=await Pm(e,"arraybuffer");return new Uint8Array(t)}}pn&&Le("Please use the `legacy` build in Node.js environments.");async function h_(a){const t=await process.getBuiltinModule("fs").promises.readFile(a);return new Uint8Array(t)}class FT extends l_{}class OT extends r_{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class BT extends o_{async _fetch(e){return h_(e)}}class $T extends u_{async _fetch(e){return h_(e)}}const fn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function S0(a,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),a.clip(r)}class M3{getPattern(){Je("Abstract method `getPattern` called.")}}class zT extends M3{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let o;if(r===fn.STROKE||r===fn.FILL){const l=t.current.getClippedPathBoundingBox(r,lt(e))||[0,0,0,0],d=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,p=t.cachedCanvases.getCanvas("pattern",d,h),m=p.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-l[0],-l[1]),n=ve.transform(n,[1,0,0,1,l[0],l[1]]),m.transform(...t.baseTransform),this.matrix&&m.transform(...this.matrix),S0(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),o=e.createPattern(p.canvas,"no-repeat");const C=new DOMMatrix(n);o.setTransform(C)}else S0(e,this._bbox),o=this._createGradient(e);return o}}function Hg(a,e,t,n,r,o,l,d){const h=e.coords,p=e.colors,m=a.data,C=a.width*4;let y;h[t+1]>h[n+1]&&(y=t,t=n,n=y,y=o,o=l,l=y),h[n+1]>h[r+1]&&(y=n,n=r,r=y,y=l,l=d,d=y),h[t+1]>h[n+1]&&(y=t,t=n,n=y,y=o,o=l,l=y);const w=(h[t]+e.offsetX)*e.scaleX,x=(h[t+1]+e.offsetY)*e.scaleY,A=(h[n]+e.offsetX)*e.scaleX,T=(h[n+1]+e.offsetY)*e.scaleY,N=(h[r]+e.offsetX)*e.scaleX,L=(h[r+1]+e.offsetY)*e.scaleY;if(x>=L)return;const I=p[o],M=p[o+1],F=p[o+2],z=p[l],U=p[l+1],q=p[l+2],Y=p[d],ie=p[d+1],he=p[d+2],Fe=Math.round(x),ue=Math.round(L);let ae,ke,Q,te,Z,fe,ee,O;for(let V=Fe;V<=ue;V++){if(V<T){const we=V<x?0:(x-V)/(x-T);ae=w-(w-A)*we,ke=I-(I-z)*we,Q=M-(M-U)*we,te=F-(F-q)*we}else{let we;V>L?we=1:T===L?we=0:we=(T-V)/(T-L),ae=A-(A-N)*we,ke=z-(z-Y)*we,Q=U-(U-ie)*we,te=q-(q-he)*we}let me;V<x?me=0:V>L?me=1:me=(x-V)/(x-L),Z=w-(w-N)*me,fe=I-(I-Y)*me,ee=M-(M-ie)*me,O=F-(F-he)*me;const Te=Math.round(Math.min(ae,Z)),Me=Math.round(Math.max(ae,Z));let Ee=C*V+Te*4;for(let we=Te;we<=Me;we++)me=(ae-we)/(ae-Z),me<0?me=0:me>1&&(me=1),m[Ee++]=ke-(ke-fe)*me|0,m[Ee++]=Q-(Q-ee)*me|0,m[Ee++]=te-(te-O)*me|0,m[Ee++]=255}}function HT(a,e,t){const n=e.coords,r=e.colors;let o,l;switch(e.type){case"lattice":const d=e.verticesPerRow,h=Math.floor(n.length/d)-1,p=d-1;for(o=0;o<h;o++){let m=o*d;for(let C=0;C<p;C++,m++)Hg(a,t,n[m],n[m+1],n[m+d],r[m],r[m+1],r[m+d]),Hg(a,t,n[m+d+1],n[m+1],n[m+d],r[m+d+1],r[m+1],r[m+d])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)Hg(a,t,n[o],n[o+1],n[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class UT extends M3{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const d=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-d,m=Math.ceil(this._bounds[3])-h,C=Math.min(Math.ceil(Math.abs(p*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(m*e[1]*1.1)),3e3),w=p/C,x=m/y,A={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-h,scaleX:1/w,scaleY:1/x},T=C+2*2,N=y+2*2,L=n.getCanvas("mesh",T,N),I=L.context,M=I.createImageData(C,y);if(t){const z=M.data;for(let U=0,q=z.length;U<q;U+=4)z[U]=t[0],z[U+1]=t[1],z[U+2]=t[2],z[U+3]=255}for(const z of this._figures)HT(M,z,A);return I.putImageData(M,2,2),{canvas:L.canvas,offsetX:d-2*w,offsetY:h-2*x,scaleX:w,scaleY:x}}getPattern(e,t,n,r){S0(e,this._bbox);let o;if(r===fn.SHADING)o=ve.singularValueDecompose2dScale(lt(e));else if(o=ve.singularValueDecompose2dScale(t.baseTransform),this.matrix){const d=ve.singularValueDecompose2dScale(this.matrix);o=[o[0]*d[0],o[1]*d[1]]}const l=this._createMeshCanvas(o,r===fn.SHADING?null:this._background,t.cachedCanvases);return r!==fn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class VT extends M3{getPattern(){return"hotpink"}}function WT(a){switch(a[0]){case"RadialAxial":return new zT(a);case"Mesh":return new UT(a);case"Dummy":return new VT}throw new Error(`Unknown IR type: ${a[0]}`)}const _y={COLORED:1,UNCOLORED:2},om=class om{constructor(e,t,n,r,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:r,tilingType:o,color:l,canvasGraphicsFactory:d}=this;let{xstep:h,ystep:p}=this;h=Math.abs(h),p=Math.abs(p),km("TilingType: "+o);const m=t[0],C=t[1],y=t[2],w=t[3],x=y-m,A=w-C,T=ve.singularValueDecompose2dScale(this.matrix),N=ve.singularValueDecompose2dScale(this.baseTransform),L=T[0]*N[0],I=T[1]*N[1];let M=x,F=A,z=!1,U=!1;const q=Math.ceil(h*L),Y=Math.ceil(p*I),ie=Math.ceil(x*L),he=Math.ceil(A*I);q>=ie?M=h:z=!0,Y>=he?F=p:U=!0;const Fe=this.getSizeAndScale(M,this.ctx.canvas.width,L),ue=this.getSizeAndScale(F,this.ctx.canvas.height,I),ae=e.cachedCanvases.getCanvas("pattern",Fe.size,ue.size),ke=ae.context,Q=d.createCanvasGraphics(ke);if(Q.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Q,r,l),ke.translate(-Fe.scale*m,-ue.scale*C),Q.transform(Fe.scale,0,0,ue.scale,0,0),ke.save(),this.clipBbox(Q,m,C,y,w),Q.baseTransform=lt(Q.ctx),Q.executeOperatorList(n),Q.endDrawing(),ke.restore(),z||U){const te=ae.canvas;z&&(M=h),U&&(F=p);const Z=this.getSizeAndScale(M,this.ctx.canvas.width,L),fe=this.getSizeAndScale(F,this.ctx.canvas.height,I),ee=Z.size,O=fe.size,V=e.cachedCanvases.getCanvas("pattern-workaround",ee,O),me=V.context,Te=z?Math.floor(x/h):0,Me=U?Math.floor(A/p):0;for(let Ee=0;Ee<=Te;Ee++)for(let we=0;we<=Me;we++)me.drawImage(te,ee*Ee,O*we,ee,O,0,0,ee,O);return{canvas:V.canvas,scaleX:Z.scale,scaleY:fe.scale,offsetX:m,offsetY:C}}return{canvas:ae.canvas,scaleX:Fe.scale,scaleY:ue.scale,offsetX:m,offsetY:C}}getSizeAndScale(e,t,n){const r=Math.max(om.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*n);return o>=r?o=r:n=o/e,{scale:n,size:o}}clipBbox(e,t,n,r,o){const l=r-t,d=o-n;e.ctx.rect(t,n,l,d),e.current.updateRectMinMax(lt(e.ctx),[t,n,r,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,o=e.current;switch(t){case _y.COLORED:const l=this.ctx;r.fillStyle=l.fillStyle,r.strokeStyle=l.strokeStyle,o.fillColor=l.fillStyle,o.strokeColor=l.strokeStyle;break;case _y.UNCOLORED:const d=ve.makeHexColor(n[0],n[1],n[2]);r.fillStyle=d,r.strokeStyle=d,o.fillColor=d,o.strokeColor=d;break;default:throw new vT(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,r){let o=n;r!==fn.SHADING&&(o=ve.transform(o,t.baseTransform),this.matrix&&(o=ve.transform(o,this.matrix)));const l=this.createPatternCanvas(t);let d=new DOMMatrix(o);d=d.translate(l.offsetX,l.offsetY),d=d.scale(1/l.scaleX,1/l.scaleY);const h=e.createPattern(l.canvas,"repeat");return h.setTransform(d),h}};ye(om,"MAX_PATTERN_SIZE",3e3);let E0=om;function GT({src:a,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const d=bn.isLittleEndian?4278190080:255,[h,p]=l?[o,d]:[d,o],m=n>>3,C=n&7,y=a.length;t=new Uint32Array(t.buffer);let w=0;for(let x=0;x<r;x++){for(const T=e+m;e<T;e++){const N=e<y?a[e]:255;t[w++]=N&128?p:h,t[w++]=N&64?p:h,t[w++]=N&32?p:h,t[w++]=N&16?p:h,t[w++]=N&8?p:h,t[w++]=N&4?p:h,t[w++]=N&2?p:h,t[w++]=N&1?p:h}if(C===0)continue;const A=e<y?a[e++]:255;for(let T=0;T<C;T++)t[w++]=A&1<<7-T?p:h}return{srcPos:e,destPos:w}}const wy=16,xy=100,qT=15,Sy=10,Ey=1e3,Un=16;function XT(a,e){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){e.save(),this.__originalSave()},a.restore=function(){e.restore(),this.__originalRestore()},a.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},a.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},a.transform=function(n,r,o,l,d,h){e.transform(n,r,o,l,d,h),this.__originalTransform(n,r,o,l,d,h)},a.setTransform=function(n,r,o,l,d,h){e.setTransform(n,r,o,l,d,h),this.__originalSetTransform(n,r,o,l,d,h)},a.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},a.rotate=function(n){e.rotate(n),this.__originalRotate(n)},a.clip=function(n){e.clip(n),this.__originalClip(n)},a.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},a.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},a.bezierCurveTo=function(t,n,r,o,l,d){e.bezierCurveTo(t,n,r,o,l,d),this.__originalBezierCurveTo(t,n,r,o,l,d)},a.rect=function(t,n,r,o){e.rect(t,n,r,o),this.__originalRect(t,n,r,o)},a.closePath=function(){e.closePath(),this.__originalClosePath()},a.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class YT{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function s1(a,e,t,n,r,o,l,d,h,p){const[m,C,y,w,x,A]=lt(a);if(C===0&&y===0){const L=l*m+x,I=Math.round(L),M=d*w+A,F=Math.round(M),z=(l+h)*m+x,U=Math.abs(Math.round(z)-I)||1,q=(d+p)*w+A,Y=Math.abs(Math.round(q)-F)||1;return a.setTransform(Math.sign(m),0,0,Math.sign(w),I,F),a.drawImage(e,t,n,r,o,0,0,U,Y),a.setTransform(m,C,y,w,x,A),[U,Y]}if(m===0&&w===0){const L=d*y+x,I=Math.round(L),M=l*C+A,F=Math.round(M),z=(d+p)*y+x,U=Math.abs(Math.round(z)-I)||1,q=(l+h)*C+A,Y=Math.abs(Math.round(q)-F)||1;return a.setTransform(0,Math.sign(C),Math.sign(y),0,I,F),a.drawImage(e,t,n,r,o,0,0,Y,U),a.setTransform(m,C,y,w,x,A),[Y,U]}a.drawImage(e,t,n,r,o,l,d,h,p);const T=Math.hypot(m,C),N=Math.hypot(y,w);return[T*h,N*p]}function KT(a){const{width:e,height:t}=a;if(e>Ey||t>Ey)return null;const n=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let l=new Uint8Array(o*(t+1)),d,h,p;const m=e+7&-8;let C=new Uint8Array(m*t),y=0;for(const N of a.data){let L=128;for(;L>0;)C[y++]=N&L?0:255,L>>=1}let w=0;for(y=0,C[y]!==0&&(l[0]=1,++w),h=1;h<e;h++)C[y]!==C[y+1]&&(l[h]=C[y]?2:1,++w),y++;for(C[y]!==0&&(l[h]=2,++w),d=1;d<t;d++){y=d*m,p=d*o,C[y-m]!==C[y]&&(l[p]=C[y]?1:8,++w);let N=(C[y]?4:0)+(C[y-m]?8:0);for(h=1;h<e;h++)N=(N>>2)+(C[y+1]?4:0)+(C[y-m+1]?8:0),r[N]&&(l[p+h]=r[N],++w),y++;if(C[y-m]!==C[y]&&(l[p+h]=C[y]?2:4,++w),w>n)return null}for(y=m*(t-1),p=d*o,C[y]!==0&&(l[p]=8,++w),h=1;h<e;h++)C[y]!==C[y+1]&&(l[p+h]=C[y]?4:8,++w),y++;if(C[y]!==0&&(l[p+h]=4,++w),w>n)return null;const x=new Int32Array([0,o,-1,0,-o,0,0,0,1]),A=new Path2D;for(d=0;w&&d<=t;d++){let N=d*o;const L=N+e;for(;N<L&&!l[N];)N++;if(N===L)continue;A.moveTo(N%o,d);const I=N;let M=l[N];do{const F=x[M];do N+=F;while(!l[N]);const z=l[N];z!==5&&z!==10?(M=z,l[N]=0):(M=z&51*M>>4,l[N]&=M>>2|M<<2),A.lineTo(N%o,N/o|0),l[N]||--w}while(I!==N);--d}return C=null,l=null,function(N){N.save(),N.scale(1/e,-1/t),N.translate(0,-t),N.fill(A),N.beginPath(),N.restore()}}class Ay{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=xC,this.textMatrixScale=1,this.fontMatrix=Qg,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=rn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=ve.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=ve.applyTransform(t,e),r=ve.applyTransform(t.slice(2),e),o=ve.applyTransform([t[0],t[3]],e),l=ve.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],r[0],o[0],l[0]),this.minY=Math.min(this.minY,n[1],r[1],o[1],l[1]),this.maxX=Math.max(this.maxX,n[0],r[0],o[0],l[0]),this.maxY=Math.max(this.maxY,n[1],r[1],o[1],l[1])}updateScalingPathMinMax(e,t){ve.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,r,o,l,d,h,p,m){const C=ve.bezierBoundingBox(t,n,r,o,l,d,h,p,m);m||this.updateRectMinMax(e,C)}getPathBoundingBox(e=fn.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===fn.STROKE){t||Je("Stroke bounding box must include transform.");const r=ve.singularValueDecompose2dScale(t),o=r[0]*this.lineWidth/2,l=r[1]*this.lineWidth/2;n[0]-=o,n[1]-=l,n[2]+=o,n[3]+=l}return n}updateClipFromPath(){const e=ve.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=fn.FILL,t=null){return ve.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function by(a,e){if(e instanceof ImageData){a.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%Un,o=(t-r)/Un,l=r===0?o:o+1,d=a.createImageData(n,Un);let h=0,p;const m=e.data,C=d.data;let y,w,x,A;if(e.kind===d1.GRAYSCALE_1BPP){const T=m.byteLength,N=new Uint32Array(C.buffer,0,C.byteLength>>2),L=N.length,I=n+7>>3,M=4294967295,F=bn.isLittleEndian?4278190080:255;for(y=0;y<l;y++){for(x=y<o?Un:r,p=0,w=0;w<x;w++){const z=T-h;let U=0;const q=z>I?n:z*8-7,Y=q&-8;let ie=0,he=0;for(;U<Y;U+=8)he=m[h++],N[p++]=he&128?M:F,N[p++]=he&64?M:F,N[p++]=he&32?M:F,N[p++]=he&16?M:F,N[p++]=he&8?M:F,N[p++]=he&4?M:F,N[p++]=he&2?M:F,N[p++]=he&1?M:F;for(;U<q;U++)ie===0&&(he=m[h++],ie=128),N[p++]=he&ie?M:F,ie>>=1}for(;p<L;)N[p++]=0;a.putImageData(d,0,y*Un)}}else if(e.kind===d1.RGBA_32BPP){for(w=0,A=n*Un*4,y=0;y<o;y++)C.set(m.subarray(h,h+A)),h+=A,a.putImageData(d,0,w),w+=Un;y<l&&(A=n*r*4,C.set(m.subarray(h,h+A)),a.putImageData(d,0,w))}else if(e.kind===d1.RGB_24BPP)for(x=Un,A=n*x,y=0;y<l;y++){for(y>=o&&(x=r,A=n*x),p=0,w=A;w--;)C[p++]=m[h++],C[p++]=m[h++],C[p++]=m[h++],C[p++]=255;a.putImageData(d,0,y*Un)}else throw new Error(`bad image kind: ${e.kind}`)}function ky(a,e){if(e.bitmap){a.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%Un,o=(t-r)/Un,l=r===0?o:o+1,d=a.createImageData(n,Un);let h=0;const p=e.data,m=d.data;for(let C=0;C<l;C++){const y=C<o?Un:r;({srcPos:h}=GT({src:p,srcPos:h,dest:m,width:n,height:y,nonBlackColor:0})),a.putImageData(d,0,C*Un)}}function wd(a,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)a[n]!==void 0&&(e[n]=a[n]);a.setLineDash!==void 0&&(e.setLineDash(a.getLineDash()),e.lineDashOffset=a.lineDashOffset)}function i1(a){if(a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0),!pn){const{filter:e}=a;e!=="none"&&e!==""&&(a.filter="none")}}function Ty(a,e){if(e)return!0;const t=ve.singularValueDecompose2dScale(a);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Yo.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const ZT=["butt","round","square"],QT=["miter","round","bevel"],JT={},Py={};var fi,A0,b0,k0;const B3=class B3{constructor(e,t,n,r,o,{optionalContentConfig:l,markedContentStack:d=null},h,p){k(this,fi);this.ctx=e,this.current=new Ay(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=l,this.cachedCanvases=new YT(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=d,n){const h=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...lt(this.compositeCtx))}this.ctx.save(),i1(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=lt(this.ctx)}executeOperatorList(e,t,n,r){const o=e.argsArray,l=e.fnArray;let d=t||0;const h=o.length;if(h===d)return d;const p=h-d>Sy&&typeof n=="function",m=p?Date.now()+qT:0;let C=0;const y=this.commonObjs,w=this.objs;let x;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,n),d;if(x=l[d],x!==Gs.dependency)this[x].apply(this,o[d]);else for(const A of o[d]){const T=A.startsWith("g_")?y:w;if(!T.has(A))return T.get(A,n),d}if(d++,d===h)return d;if(p&&++C>Sy){if(Date.now()>m)return n(),d;C=0}}}endDrawing(){P(this,fi,A0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),P(this,fi,b0).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,r=e.height??e.displayHeight;let o=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),d=n,h=r,p="prescale1",m,C;for(;o>2&&d>1||l>2&&h>1;){let y=d,w=h;o>2&&d>1&&(y=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),o/=d/y),l>2&&h>1&&(w=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/w),m=this.cachedCanvases.getCanvas(p,y,w),C=m.context,C.clearRect(0,0,y,w),C.drawImage(e,0,0,d,h,0,0,y,w),e=m.canvas,d=y,h=w,p=p==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:d,paintHeight:h}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,o=this.current.fillColor,l=this.current.patternFill,d=lt(t);let h,p,m,C;if((e.bitmap||e.data)&&e.count>1){const q=e.bitmap||e.data.buffer;p=JSON.stringify(l?d:[d.slice(0,4),o]),h=this._cachedBitmapsMap.get(q),h||(h=new Map,this._cachedBitmapsMap.set(q,h));const Y=h.get(p);if(Y&&!l){const ie=Math.round(Math.min(d[0],d[2])+d[4]),he=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:Y,offsetX:ie,offsetY:he}}m=Y}m||(C=this.cachedCanvases.getCanvas("maskCanvas",n,r),ky(C.context,e));let y=ve.transform(d,[1/n,0,0,-1/r,0,0]);y=ve.transform(y,[1,0,0,1,0,-r]);const[w,x,A,T]=ve.getAxialAlignedBoundingBox([0,0,n,r],y),N=Math.round(A-w)||1,L=Math.round(T-x)||1,I=this.cachedCanvases.getCanvas("fillCanvas",N,L),M=I.context,F=w,z=x;M.translate(-F,-z),M.transform(...y),m||(m=this._scaleImage(C.canvas,xi(M)),m=m.img,h&&l&&h.set(p,m)),M.imageSmoothingEnabled=Ty(lt(M),e.interpolate),s1(M,m,0,0,m.width,m.height,0,0,n,r),M.globalCompositeOperation="source-in";const U=ve.transform(xi(M),[1,0,0,1,-F,-z]);return M.fillStyle=l?o.getPattern(t,this,U,fn.FILL):o,M.fillRect(0,0,n,r),h&&!l&&(this.cachedCanvases.delete("fillCanvas"),h.set(p,I.canvas)),{canvas:I.canvas,offsetX:Math.round(F),offsetY:Math.round(z)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=ZT[e]}setLineJoin(e){this.ctx.lineJoin=QT[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...lt(this.suspendedCtx)),wd(this.suspendedCtx,o),XT(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),wd(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const o=r[0],l=r[1],d=r[2]-o,h=r[3]-l;d===0||h===0||(this.genericComposeSMask(t.context,n,d,h,t.subtype,t.backdrop,t.transferMap,o,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,o,l,d,h,p,m,C){let y=e.canvas,w=h-m,x=p-C;if(l){const T=ve.makeHexColor(...l);if(w<0||x<0||w+n>y.width||x+r>y.height){const N=this.cachedCanvases.getCanvas("maskExtension",n,r),L=N.context;L.drawImage(y,-w,-x),L.globalCompositeOperation="destination-atop",L.fillStyle=T,L.fillRect(0,0,n,r),L.globalCompositeOperation="source-over",y=N.canvas,w=x=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const N=new Path2D;N.rect(w,x,n,r),e.clip(N),e.globalCompositeOperation="destination-atop",e.fillStyle=T,e.fillRect(w,x,n,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&d?t.filter=this.filterFactory.addAlphaFilter(d):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(d));const A=new Path2D;A.rect(h,p,n,r),t.clip(A),t.globalCompositeOperation="destination-in",t.drawImage(y,w,x,n,r,h,p,n,r),t.restore()}save(){this.inSMaskMode?(wd(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),wd(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,o,l){this.ctx.transform(e,t,n,r,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const r=this.ctx,o=this.current;let l=o.x,d=o.y,h,p;const m=lt(r),C=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,y=C?n.slice(0):null;for(let w=0,x=0,A=e.length;w<A;w++)switch(e[w]|0){case Gs.rectangle:l=t[x++],d=t[x++];const T=t[x++],N=t[x++],L=l+T,I=d+N;r.moveTo(l,d),T===0||N===0?r.lineTo(L,I):(r.lineTo(L,d),r.lineTo(L,I),r.lineTo(l,I)),C||o.updateRectMinMax(m,[l,d,L,I]),r.closePath();break;case Gs.moveTo:l=t[x++],d=t[x++],r.moveTo(l,d),C||o.updatePathMinMax(m,l,d);break;case Gs.lineTo:l=t[x++],d=t[x++],r.lineTo(l,d),C||o.updatePathMinMax(m,l,d);break;case Gs.curveTo:h=l,p=d,l=t[x+4],d=t[x+5],r.bezierCurveTo(t[x],t[x+1],t[x+2],t[x+3],l,d),o.updateCurvePathMinMax(m,h,p,t[x],t[x+1],t[x+2],t[x+3],l,d,y),x+=6;break;case Gs.curveTo2:h=l,p=d,r.bezierCurveTo(l,d,t[x],t[x+1],t[x+2],t[x+3]),o.updateCurvePathMinMax(m,h,p,l,d,t[x],t[x+1],t[x+2],t[x+3],y),l=t[x+2],d=t[x+3],x+=4;break;case Gs.curveTo3:h=l,p=d,l=t[x+2],d=t[x+3],r.bezierCurveTo(t[x],t[x+1],l,d,l,d),o.updateCurvePathMinMax(m,h,p,t[x],t[x+1],l,d,l,d,y),x+=4;break;case Gs.closePath:r.closePath();break}C&&o.updateScalingPathMinMax(m,y),o.setCurrentPoint(l,d)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,xi(t),fn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(t.save(),t.fillStyle=n.getPattern(t,this,xi(t),fn.FILL),o=!0);const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(l)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=JT}eoClip(){this.pendingClip=Py}beginText(){this.current.textMatrix=xC,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}const n=new Path2D,r=t.getTransform().invertSelf();for(const{transform:o,x:l,y:d,fontSize:h,path:p}of e)n.addPath(p,new DOMMatrix(o).preMultiplySelf(r).translate(l,d).scale(h,-h));t.clip(n),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var m;const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||Qg,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Le("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif",l=((m=n.systemFontInfo)==null?void 0:m.css)||`"${o}", ${n.fallbackName}`;let d="normal";n.black?d="900":n.bold&&(d="bold");const h=n.italic?"italic":"normal";let p=t;t<wy?p=wy:t>xy&&(p=xy),this.current.fontSizeScale=t/p,this.ctx.font=`${h} ${d} ${p}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,o,l){this.current.textMatrix=[e,t,n,r,o,l],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r,o){const l=this.ctx,d=this.current,h=d.font,p=d.textRenderingMode,m=d.fontSize/d.fontSizeScale,C=p&rn.FILL_STROKE_MASK,y=!!(p&rn.ADD_TO_PATH_FLAG),w=d.patternFill&&!h.missingFile,x=d.patternStroke&&!h.missingFile;let A;if((h.disableFontFace||y||w||x)&&(A=h.getPathGenerator(this.commonObjs,e)),h.disableFontFace||w||x){if(l.save(),l.translate(t,n),l.scale(m,-m),C===rn.FILL||C===rn.FILL_STROKE)if(r){const T=l.getTransform();l.setTransform(...r),l.fill(P(this,fi,k0).call(this,A,T,r))}else l.fill(A);if(C===rn.STROKE||C===rn.FILL_STROKE)if(o){const T=l.getTransform();l.setTransform(...o),l.stroke(P(this,fi,k0).call(this,A,T,o))}else l.lineWidth/=m,l.stroke(A);l.restore()}else(C===rn.FILL||C===rn.FILL_STROKE)&&l.fillText(e,t,n),(C===rn.STROKE||C===rn.FILL_STROKE)&&l.strokeText(e,t,n);y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:lt(l),x:t,y:n,fontSize:m,path:A})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return je(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const o=this.ctx,l=t.fontSizeScale,d=t.charSpacing,h=t.wordSpacing,p=t.fontDirection,m=t.textHScale*p,C=e.length,y=n.vertical,w=y?1:-1,x=n.defaultVMetrics,A=r*t.fontMatrix[0],T=t.textRenderingMode===rn.FILL&&!n.disableFontFace&&!t.patternFill;o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),p>0?o.scale(m,-1):o.scale(m,1);let N,L;if(t.patternFill){o.save();const U=t.fillColor.getPattern(o,this,xi(o),fn.FILL);N=lt(o),o.restore(),o.fillStyle=U}if(t.patternStroke){o.save();const U=t.strokeColor.getPattern(o,this,xi(o),fn.STROKE);L=lt(o),o.restore(),o.strokeStyle=U}let I=t.lineWidth;const M=t.textMatrixScale;if(M===0||I===0){const U=t.textRenderingMode&rn.FILL_STROKE_MASK;(U===rn.STROKE||U===rn.FILL_STROKE)&&(I=this.getSinglePixelWidth())}else I/=M;if(l!==1&&(o.scale(l,l),I/=l),o.lineWidth=I,n.isInvalidPDFjsFont){const U=[];let q=0;for(const Y of e)U.push(Y.unicode),q+=Y.width;o.fillText(U.join(""),0,0),t.x+=q*A*m,o.restore(),this.compose();return}let F=0,z;for(z=0;z<C;++z){const U=e[z];if(typeof U=="number"){F+=w*U*r/1e3;continue}let q=!1;const Y=(U.isSpace?h:0)+d,ie=U.fontChar,he=U.accent;let Fe,ue,ae=U.width;if(y){const Q=U.vmetric||x,te=-(U.vmetric?Q[1]:ae*.5)*A,Z=Q[2]*A;ae=Q?-Q[0]:ae,Fe=te/l,ue=(F+Z)/l}else Fe=F/l,ue=0;if(n.remeasure&&ae>0){const Q=o.measureText(ie).width*1e3/r*l;if(ae<Q&&this.isFontSubpixelAAEnabled){const te=ae/Q;q=!0,o.save(),o.scale(te,1),Fe/=te}else ae!==Q&&(Fe+=(ae-Q)/2e3*r/l)}if(this.contentVisible&&(U.isInFont||n.missingFile)){if(T&&!he)o.fillText(ie,Fe,ue);else if(this.paintChar(ie,Fe,ue,N,L),he){const Q=Fe+r*he.offset.x/l,te=ue-r*he.offset.y/l;this.paintChar(he.fontChar,Q,te,N,L)}}const ke=y?ae*A-Y*p:ae*A+Y*p;F+=ke,q&&o.restore()}y?t.y-=F:t.x+=F*m,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,o=n.fontSize,l=n.fontDirection,d=r.vertical?1:-1,h=n.charSpacing,p=n.wordSpacing,m=n.textHScale*l,C=n.fontMatrix||Qg,y=e.length,w=n.textRenderingMode===rn.INVISIBLE;let x,A,T,N;if(!(w||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(m,l),x=0;x<y;++x){if(A=e[x],typeof A=="number"){N=d*A*o/1e3,this.ctx.translate(N,0),n.x+=N*m;continue}const L=(A.isSpace?p:0)+h,I=r.charProcOperatorList[A.operatorListId];if(!I){Le(`Type3 character "${A.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=A,this.save(),t.scale(o,o),t.transform(...C),this.executeOperatorList(I),this.restore()),T=ve.applyTransform([A.width,0],C)[0]*o+L,t.translate(T,0),n.x+=T*m}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,o,l){this.ctx.rect(n,r,o-n,l-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],r=this.baseTransform||lt(this.ctx),o={createCanvasGraphics:l=>new B3(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new E0(e,n,this.ctx,o,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=ve.makeHexColor(e,t,n),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=ve.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=WT(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,xi(t),fn.SHADING);const r=xi(t);{const{width:o,height:l}=t.canvas,[d,h,p,m]=ve.getAxialAlignedBoundingBox([0,0,o,l],r);this.ctx.fillRect(d,h,p-d,m-h)}this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Je("Should not call beginInlineImage")}beginImageData(){Je("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=lt(this.ctx),t)){const n=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],n,r),this.current.updateRectMinMax(lt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||km("TODO: Support non-isolated groups."),e.knockout&&Le("Knockout groups not supported.");const n=lt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=ve.getAxialAlignedBoundingBox(e.bbox,lt(t));const o=[0,0,t.canvas.width,t.canvas.height];r=ve.intersect(r,o)||[0,0,0,0];const l=Math.floor(r[0]),d=Math.floor(r[1]),h=Math.max(Math.ceil(r[2])-l,1),p=Math.max(Math.ceil(r[3])-d,1);this.current.startNewPathAndClipBox([0,0,h,p]);let m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);const C=this.cachedCanvases.getCanvas(m,h,p),y=C.context;y.translate(-l,-d),y.transform(...n),e.smask?this.smaskStack.push({canvas:C.canvas,context:y,offsetX:l,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,d),t.save()),wd(t,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=lt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=ve.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,r,o){if(P(this,fi,A0).call(this),i1(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],d=t[3]-t[1];if(o&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=d;const[h,p]=ve.singularValueDecompose2dScale(lt(this.ctx)),{viewportScale:m}=this,C=Math.ceil(l*this.outputScaleX*m),y=Math.ceil(d*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(C,y);const{canvas:w,context:x}=this.annotationCanvas;this.annotationCanvasMap.set(e,w),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.save(),this.ctx.setTransform(h,0,0,-p,0,d*p),i1(this.ctx)}else i1(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],l,d),this.ctx.clip(),this.ctx.beginPath()}this.current=new Ay(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),P(this,fi,b0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=KT(e)),r.compiled)){r.compiled(n);return}const o=this._createMaskCanvas(e),l=o.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,o.offsetX,o.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,r=0,o,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const d=this.ctx;d.save();const h=lt(d);d.transform(t,n,r,o,0,0);const p=this._createMaskCanvas(e);d.setTransform(1,0,0,1,p.offsetX-h[4],p.offsetY-h[5]);for(let m=0,C=l.length;m<C;m+=2){const y=ve.transform(h,[t,n,r,o,l[m],l[m+1]]),[w,x]=ve.applyTransform([0,0],y);d.drawImage(p.canvas,w,x)}d.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const o of e){const{data:l,width:d,height:h,transform:p}=o,m=this.cachedCanvases.getCanvas("maskCanvas",d,h),C=m.context;C.save();const y=this.getObject(l,o);ky(C,y),C.globalCompositeOperation="source-in",C.fillStyle=r?n.getPattern(C,this,xi(t),fn.FILL):n,C.fillRect(0,0,d,h),C.restore(),t.save(),t.transform(...p),t.scale(1,-1),s1(t,m.canvas,0,0,d,h,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Le("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Le("Dependent image isn't ready yet");return}const l=o.width,d=o.height,h=[];for(let p=0,m=r.length;p<m;p+=2)h.push({transform:[t,0,0,n,r[p],r[p+1]],x:0,y:0,w:l,h:d});this.paintInlineImageXObjectGroup(o,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,r),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;if(this.save(),!pn){const{filter:d}=r;d!=="none"&&d!==""&&(r.filter="none")}r.scale(1/t,-1/n);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const h=this.cachedCanvases.getCanvas("inlineImage",t,n).context;by(h,e),o=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(o,xi(r));r.imageSmoothingEnabled=Ty(lt(r),e.interpolate),s1(r,l.img,0,0,l.paintWidth,l.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const o=e.width,l=e.height,h=this.cachedCanvases.getCanvas("inlineImage",o,l).context;by(h,e),r=this.applyTransferMapsToCanvas(h)}for(const o of t)n.save(),n.transform(...o.transform),n.scale(1,-1),s1(n,r,o.x,o.y,o.w,o.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===Py?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=lt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:o}=this.ctx.getTransform();let l,d;if(n===0&&r===0){const h=Math.abs(t),p=Math.abs(o);if(h===p)if(e===0)l=d=1/h;else{const m=h*e;l=d=m<1?1/m:1}else if(e===0)l=1/h,d=1/p;else{const m=h*e,C=p*e;l=m<1?1/m:1,d=C<1?1/C:1}}else{const h=Math.abs(t*o-n*r),p=Math.hypot(t,n),m=Math.hypot(r,o);if(e===0)l=m/h,d=p/h;else{const C=e*h;l=m>C?m/C:1,d=p>C?p/C:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,o]=this.getScaleForStroking();if(t.lineWidth=n||1,r===1&&o===1){t.stroke();return}const l=t.getLineDash();if(e&&t.save(),t.scale(r,o),l.length>0){const d=Math.max(r,o);t.setLineDash(l.map(h=>h/d)),t.lineDashOffset/=d}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};fi=new WeakSet,A0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},b0=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},k0=function(e,t,n){const r=new Path2D;return r.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),r};let vc=B3;for(const a in Gs)vc.prototype[a]!==void 0&&(vc.prototype[Gs[a]]=vc.prototype[a]);var Mh,Ih;class jr{static get workerPort(){return c(this,Mh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");E(this,Mh,e)}static get workerSrc(){return c(this,Ih)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");E(this,Ih,e)}}Mh=new WeakMap,Ih=new WeakMap,k(jr,Mh,null),k(jr,Ih,"");var Va,Dh;class eP{constructor({parsedData:e,rawData:t}){k(this,Va);k(this,Dh);E(this,Va,e),E(this,Dh,t)}getRaw(){return c(this,Dh)}get(e){return c(this,Va).get(e)??null}getAll(){return b3(c(this,Va))}has(e){return c(this,Va).has(e)}}Va=new WeakMap,Dh=new WeakMap;const uc=Symbol("INTERNAL");var jh,Fh,Oh,jc;class tP{constructor(e,{name:t,intent:n,usage:r,rbGroups:o}){k(this,jh,!1);k(this,Fh,!1);k(this,Oh,!1);k(this,jc,!0);E(this,jh,!!(e&us.DISPLAY)),E(this,Fh,!!(e&us.PRINT)),this.name=t,this.intent=n,this.usage=r,this.rbGroups=o}get visible(){if(c(this,Oh))return c(this,jc);if(!c(this,jc))return!1;const{print:e,view:t}=this.usage;return c(this,jh)?(t==null?void 0:t.viewState)!=="OFF":c(this,Fh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==uc&&Je("Internal method `_setVisible` called."),E(this,Oh,n),E(this,jc,t)}}jh=new WeakMap,Fh=new WeakMap,Oh=new WeakMap,jc=new WeakMap;var ko,Ye,Fc,Oc,Bh,T0;class nP{constructor(e,t=us.DISPLAY){k(this,Bh);k(this,ko,null);k(this,Ye,new Map);k(this,Fc,null);k(this,Oc,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,E(this,Oc,e.order);for(const n of e.groups)c(this,Ye).set(n.id,new tP(t,n));if(e.baseState==="OFF")for(const n of c(this,Ye).values())n._setVisible(uc,!1);for(const n of e.on)c(this,Ye).get(n)._setVisible(uc,!0);for(const n of e.off)c(this,Ye).get(n)._setVisible(uc,!1);E(this,Fc,this.getHash())}}isVisible(e){if(c(this,Ye).size===0)return!0;if(!e)return km("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,Ye).has(e.id)?c(this,Ye).get(e.id).visible:(Le(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return P(this,Bh,T0).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,Ye).has(t))return Le(`Optional content group not found: ${t}`),!0;if(c(this,Ye).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,Ye).has(t))return Le(`Optional content group not found: ${t}`),!0;if(!c(this,Ye).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,Ye).has(t))return Le(`Optional content group not found: ${t}`),!0;if(!c(this,Ye).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,Ye).has(t))return Le(`Optional content group not found: ${t}`),!0;if(c(this,Ye).get(t).visible)return!1}return!0}return Le(`Unknown optional content policy ${e.policy}.`),!0}return Le(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var o;const r=c(this,Ye).get(e);if(!r){Le(`Optional content group not found: ${e}`);return}if(n&&t&&r.rbGroups.length)for(const l of r.rbGroups)for(const d of l)d!==e&&((o=c(this,Ye).get(d))==null||o._setVisible(uc,!1,!0));r._setVisible(uc,!!t,!0),E(this,ko,null)}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const o=c(this,Ye).get(r);if(o)switch(n){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!o.visible,t);break}}E(this,ko,null)}get hasInitialVisibility(){return c(this,Fc)===null||this.getHash()===c(this,Fc)}getOrder(){return c(this,Ye).size?c(this,Oc)?c(this,Oc).slice():[...c(this,Ye).keys()]:null}getGroups(){return c(this,Ye).size>0?b3(c(this,Ye)):null}getGroup(e){return c(this,Ye).get(e)||null}getHash(){if(c(this,ko)!==null)return c(this,ko);const e=new JC;for(const[t,n]of c(this,Ye))e.update(`${t}:${n.visible}`);return E(this,ko,e.hexdigest())}}ko=new WeakMap,Ye=new WeakMap,Fc=new WeakMap,Oc=new WeakMap,Bh=new WeakSet,T0=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const o=e[r];let l;if(Array.isArray(o))l=P(this,Bh,T0).call(this,o);else if(c(this,Ye).has(o))l=c(this,Ye).get(o).visible;else return Le(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class sP{constructor(e,{disableRange:t=!1,disableStream:n=!1}){bt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:l,contentDispositionFilename:d}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=d,(o==null?void 0:o.length)>0){const h=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((h,p)=>{this._onReceiveData({begin:h,chunk:p})}),e.addProgressListener((h,p)=>{this._onProgress({loaded:h,total:p})}),e.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});bt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,r,o;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){bt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new iP(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new rP(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class iP{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=P3(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class rP{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function oP(a){let e=!0,t=n("filename\\*","i").exec(a);if(t){t=t[1];let m=d(t);return m=unescape(m),m=h(m),m=p(m),o(m)}if(t=l(a),t){const m=p(t);return o(m)}if(t=n("filename","i").exec(a),t){t=t[1];let m=d(t);return m=p(m),o(m)}function n(m,C){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',C)}function r(m,C){if(m){if(!/^[\x00-\xFF]+$/.test(C))return C;try{const y=new TextDecoder(m,{fatal:!0}),w=Tm(C);C=y.decode(w),e=!1}catch{}}return C}function o(m){return e&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),e&&(m=r("iso-8859-1",m))),m}function l(m){const C=[];let y;const w=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=w.exec(m))!==null;){let[,A,T,N]=y;if(A=parseInt(A,10),A in C){if(A===0)break;continue}C[A]=[T,N]}const x=[];for(let A=0;A<C.length&&A in C;++A){let[T,N]=C[A];N=d(N),T&&(N=unescape(N),A===0&&(N=h(N))),x.push(N)}return x.join("")}function d(m){if(m.startsWith('"')){const C=m.slice(1).split('\\"');for(let y=0;y<C.length;++y){const w=C[y].indexOf('"');w!==-1&&(C[y]=C[y].slice(0,w),C.length=y+1),C[y]=C[y].replaceAll(/\\(.)/g,"$1")}m=C.join('"')}return m}function h(m){const C=m.indexOf("'");if(C===-1)return m;const y=m.slice(0,C),x=m.slice(C+1).replace(/^[^']*'/,"");return r(y,x)}function p(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(C,y,w,x){if(w==="q"||w==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,T){return String.fromCharCode(parseInt(T,16))}),r(y,x);try{x=atob(x)}catch{}return r(y,x)})}return""}function f_(a,e){const t=new Headers;if(!a||!e||typeof e!="object")return t;for(const n in e){const r=e[n];r!==void 0&&t.append(n,r)}return t}function Lm(a){try{return new URL(a).origin}catch{}return null}function p_({responseHeaders:a,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(a.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*t)||n||!e||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function m_(a){const e=a.get("Content-Disposition");if(e){let t=oP(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(P3(t))return t}return null}function Rm(a,e){return a===404||a===0&&e.startsWith("file:")?new nh('Missing PDF "'+e+'".'):new W1(`Unexpected server response (${a}) while retrieving PDF "${e}".`,a)}function g_(a){return a===200||a===206}function v_(a,e,t){return{method:"GET",headers:a,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function y_(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(Le(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class Ny{constructor(e){ye(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=f_(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return bt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new aP(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new lP(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class aP{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,v_(n,this._withCredentials,this._abortController)).then(o=>{if(e._responseOrigin=Lm(o.url),!g_(o.status))throw Rm(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:d,suggestedLength:h}=p_({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=h||this._contentLength,this._filename=m_(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Xo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:y_(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class lP{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${t}-${n-1}`);const l=r.url;fetch(l,v_(o,this._withCredentials,this._abortController)).then(d=>{const h=Lm(d.url);if(h!==e._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${e._responseOrigin}".`);if(!g_(d.status))throw Rm(d.status,l);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:y_(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Ug=200,Vg=206;function cP(a){const e=a.response;return typeof e!="string"?e:Tm(e).buffer}class uP{constructor({url:e,httpHeaders:t,withCredentials:n}){ye(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=f_(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[o,l]of this.headers)t.setRequestHeader(o,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=Vg):r.expectedStatus=Ug,t.responseType="arraybuffer",bt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var r;const n=this.pendingRequests[e];n&&((r=n.onProgress)==null||r.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){n.onError(r.status);return}const o=r.status||Ug;if(!(o===Ug&&n.expectedStatus===Vg)&&o!==n.expectedStatus){n.onError(r.status);return}const d=cP(r);if(o===Vg){const h=r.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);p?n.onDone({begin:parseInt(p[1],10),chunk:d}):(Le('Missing or invalid "Content-Range" header.'),n.onError(0))}else d?n.onDone({begin:0,chunk:d}):n.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class dP{constructor(e){this._source=e,this._manager=new uP(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return bt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new hP(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new fP(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class hP{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Lm(t.responseURL);const n=t.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(d=>{const[h,...p]=d.split(": ");return[h,p.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=p_({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=m_(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Rm(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class fP{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Lm((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Rm(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const pP=/^[a-z][a-z0-9\-+.]+:/i;function mP(a){if(pP.test(a))return new URL(a);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(a))}class gP{constructor(e){this.source=e,this.url=mP(e.url),bt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return bt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new vP(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new yP(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class vP{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new nh(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Xo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class yP{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const CP=1e5,jn=30,_P=.8;var Oy,To,zn,$h,zh,Wa,_r,Hh,Uh,Ga,Bc,$c,Po,zc,Vh,Hc,qa,Wh,Gh,Xa,Ya,qh,No,Uc,Hr,C_,__,P0,ps,x1,N0,w_,x_;const Rt=class Rt{constructor({textContentSource:e,container:t,viewport:n}){k(this,Hr);k(this,To,Promise.withResolvers());k(this,zn,null);k(this,$h,!1);k(this,zh,!!((Oy=globalThis.FontInspector)!=null&&Oy.enabled));k(this,Wa,null);k(this,_r,null);k(this,Hh,0);k(this,Uh,0);k(this,Ga,null);k(this,Bc,null);k(this,$c,0);k(this,Po,0);k(this,zc,Object.create(null));k(this,Vh,[]);k(this,Hc,null);k(this,qa,[]);k(this,Wh,new WeakMap);k(this,Gh,null);var h;if(e instanceof ReadableStream)E(this,Hc,e);else if(typeof e=="object")E(this,Hc,new ReadableStream({start(p){p.enqueue(e),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');E(this,zn,E(this,Bc,t)),E(this,Po,n.scale*(globalThis.devicePixelRatio||1)),E(this,$c,n.rotation),E(this,_r,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:l,pageY:d}=n.rawDims;E(this,Gh,[1,0,0,-1,-l,d+o]),E(this,Uh,r),E(this,Hh,o),P(h=Rt,ps,w_).call(h),Al(t,n),c(this,To).promise.finally(()=>{c(Rt,Uc).delete(this),E(this,_r,null),E(this,zc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=bn.platform;return je(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{c(this,Ga).read().then(({value:t,done:n})=>{if(n){c(this,To).resolve();return}c(this,Wa)??E(this,Wa,t.lang),Object.assign(c(this,zc),t.styles),P(this,Hr,C_).call(this,t.items),e()},c(this,To).reject)};return E(this,Ga,c(this,Hc).getReader()),c(Rt,Uc).add(this),e(),c(this,To).promise}update({viewport:e,onBefore:t=null}){var o;const n=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==c(this,$c)&&(t==null||t(),E(this,$c,r),Al(c(this,Bc),{rotation:r})),n!==c(this,Po)){t==null||t(),E(this,Po,n);const l={div:null,properties:null,ctx:P(o=Rt,ps,x1).call(o,c(this,Wa))};for(const d of c(this,qa))l.properties=c(this,Wh).get(d),l.div=d,P(this,Hr,P0).call(this,l)}}cancel(){var t;const e=new Xo("TextLayer task cancelled.");(t=c(this,Ga))==null||t.cancel(e).catch(()=>{}),E(this,Ga,null),c(this,To).reject(e)}get textDivs(){return c(this,qa)}get textContentItemsStr(){return c(this,Vh)}static cleanup(){if(!(c(this,Uc).size>0)){c(this,Xa).clear();for(const{canvas:e}of c(this,Ya).values())e.remove();c(this,Ya).clear()}}};To=new WeakMap,zn=new WeakMap,$h=new WeakMap,zh=new WeakMap,Wa=new WeakMap,_r=new WeakMap,Hh=new WeakMap,Uh=new WeakMap,Ga=new WeakMap,Bc=new WeakMap,$c=new WeakMap,Po=new WeakMap,zc=new WeakMap,Vh=new WeakMap,Hc=new WeakMap,qa=new WeakMap,Wh=new WeakMap,Gh=new WeakMap,Xa=new WeakMap,Ya=new WeakMap,qh=new WeakMap,No=new WeakMap,Uc=new WeakMap,Hr=new WeakSet,C_=function(e){var r,o;if(c(this,$h))return;(o=c(this,_r)).ctx??(o.ctx=P(r=Rt,ps,x1).call(r,c(this,Wa)));const t=c(this,qa),n=c(this,Vh);for(const l of e){if(t.length>CP){Le("Ignoring additional textDivs for performance reasons."),E(this,$h,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const d=c(this,zn);E(this,zn,document.createElement("span")),c(this,zn).classList.add("markedContent"),l.id!==null&&c(this,zn).setAttribute("id",`${l.id}`),d.append(c(this,zn))}else l.type==="endMarkedContent"&&E(this,zn,c(this,zn).parentNode);continue}n.push(l.str),P(this,Hr,__).call(this,l)}},__=function(e){var A;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,qa).push(t);const r=ve.transform(c(this,Gh),e.transform);let o=Math.atan2(r[1],r[0]);const l=c(this,zc)[e.fontName];l.vertical&&(o+=Math.PI/2);let d=c(this,zh)&&l.fontSubstitution||l.fontFamily;d=Rt.fontFamilyMap.get(d)||d;const h=Math.hypot(r[2],r[3]),p=h*P(A=Rt,ps,x_).call(A,d,c(this,Wa));let m,C;o===0?(m=r[4],C=r[5]-p):(m=r[4]+p*Math.sin(o),C=r[5]-p*Math.cos(o));const y="calc(var(--scale-factor)*",w=t.style;c(this,zn)===c(this,Bc)?(w.left=`${(100*m/c(this,Uh)).toFixed(2)}%`,w.top=`${(100*C/c(this,Hh)).toFixed(2)}%`):(w.left=`${y}${m.toFixed(2)}px)`,w.top=`${y}${C.toFixed(2)}px)`),w.fontSize=`${y}${(c(Rt,No)*h).toFixed(2)}px)`,w.fontFamily=d,n.fontSize=h,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,zh)&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const T=Math.abs(e.transform[0]),N=Math.abs(e.transform[3]);T!==N&&Math.max(T,N)/Math.min(T,N)>1.5&&(x=!0)}if(x&&(n.canvasWidth=l.vertical?e.height:e.width),c(this,Wh).set(t,n),c(this,_r).div=t,c(this,_r).properties=n,P(this,Hr,P0).call(this,c(this,_r)),n.hasText&&c(this,zn).append(t),n.hasEOL){const T=document.createElement("br");T.setAttribute("role","presentation"),c(this,zn).append(T)}},P0=function(e){var d;const{div:t,properties:n,ctx:r}=e,{style:o}=t;let l="";if(c(Rt,No)>1&&(l=`scale(${1/c(Rt,No)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:h}=o,{canvasWidth:p,fontSize:m}=n;P(d=Rt,ps,N0).call(d,r,m*c(this,Po),h);const{width:C}=r.measureText(t.textContent);C>0&&(l=`scaleX(${p*c(this,Po)/C}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)},ps=new WeakSet,x1=function(e=null){let t=c(this,Ya).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,Ya).set(e,t),c(this,qh).set(t,{size:0,family:""})}return t},N0=function(e,t,n){const r=c(this,qh).get(e);t===r.size&&n===r.family||(e.font=`${t}px ${n}`,r.size=t,r.family=n)},w_=function(){if(c(this,No)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),E(this,No,e.getBoundingClientRect().height),e.remove()},x_=function(e,t){const n=c(this,Xa).get(e);if(n)return n;const r=P(this,ps,x1).call(this,t);r.canvas.width=r.canvas.height=jn,P(this,ps,N0).call(this,r,jn,e);const o=r.measureText("");let l=o.fontBoundingBoxAscent,d=Math.abs(o.fontBoundingBoxDescent);if(l){const m=l/(l+d);return c(this,Xa).set(e,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,jn,jn),r.strokeText("g",0,0);let h=r.getImageData(0,0,jn,jn).data;d=0;for(let m=h.length-1-3;m>=0;m-=4)if(h[m]>0){d=Math.ceil(m/4/jn);break}r.clearRect(0,0,jn,jn),r.strokeText("A",0,jn),h=r.getImageData(0,0,jn,jn).data,l=0;for(let m=0,C=h.length;m<C;m+=4)if(h[m]>0){l=jn-Math.floor(m/4/jn);break}r.canvas.width=r.canvas.height=0;const p=l?l/(l+d):_P;return c(this,Xa).set(e,p),p},k(Rt,ps),k(Rt,Xa,new Map),k(Rt,Ya,new Map),k(Rt,qh,new WeakMap),k(Rt,No,null),k(Rt,Uc,new Set);let sh=Rt;class ih{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(o){var h;if(!o)return;let l=null;const d=o.name;if(d==="#text")l=o.value;else if(ih.shouldBuildText(d))(h=o==null?void 0:o.attributes)!=null&&h.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&t.push({str:l}),!!o.children)for(const p of o.children)r(p)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const wP=65536,xP=100,SP=5e3,EP=pn?OT:DT,AP=pn?BT:a_,bP=pn?FT:jT,kP=pn?$T:d_;function TP(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const e=new L0,{docId:t}=e,n=a.url?PP(a.url):null,r=a.data?NP(a.data):null,o=a.httpHeaders||null,l=a.withCredentials===!0,d=a.password??null,h=a.range instanceof S_?a.range:null,p=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:wP;let m=a.worker instanceof yc?a.worker:null;const C=a.verbosity,y=typeof a.docBaseUrl=="string"&&!Nm(a.docBaseUrl)?a.docBaseUrl:null,w=typeof a.cMapUrl=="string"?a.cMapUrl:null,x=a.cMapPacked!==!1,A=a.CMapReaderFactory||AP,T=typeof a.standardFontDataUrl=="string"?a.standardFontDataUrl:null,N=a.StandardFontDataFactory||kP,L=a.stopAtErrors!==!0,I=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,M=a.isEvalSupported!==!1,F=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!pn,z=typeof a.isImageDecoderSupported=="boolean"?a.isImageDecoderSupported:!pn&&(bn.platform.isFirefox||!globalThis.chrome),U=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,q=typeof a.disableFontFace=="boolean"?a.disableFontFace:pn,Y=a.fontExtraProperties===!0,ie=a.enableXfa===!0,he=a.ownerDocument||globalThis.document,Fe=a.disableRange===!0,ue=a.disableStream===!0,ae=a.disableAutoFetch===!0,ke=a.pdfBug===!0,Q=a.CanvasFactory||EP,te=a.FilterFactory||bP,Z=a.enableHWA===!0,fe=h?h.length:a.length??NaN,ee=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!pn&&!q,O=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:A===a_&&N===d_&&w&&T&&Ld(w,document.baseURI)&&Ld(T,document.baseURI),V=null;fT(C);const me={canvasFactory:new Q({ownerDocument:he,enableHWA:Z}),filterFactory:new te({docId:t,ownerDocument:he}),cMapReaderFactory:O?null:new A({baseUrl:w,isCompressed:x}),standardFontDataFactory:O?null:new N({baseUrl:T})};if(!m){const Ee={verbosity:C,port:jr.workerPort};m=Ee.port?yc.fromPort(Ee):new yc(Ee),e._worker=m}const Te={docId:t,apiVersion:"4.10.38",data:r,password:d,disableAutoFetch:ae,rangeChunkSize:p,length:fe,docBaseUrl:y,enableXfa:ie,evaluatorOptions:{maxImageSize:I,disableFontFace:q,ignoreErrors:L,isEvalSupported:M,isOffscreenCanvasSupported:F,isImageDecoderSupported:z,canvasMaxAreaInBytes:U,fontExtraProperties:Y,useSystemFonts:ee,cMapUrl:O?w:null,standardFontDataUrl:O?T:null}},Me={disableFontFace:q,fontExtraProperties:Y,ownerDocument:he,pdfBug:ke,styleElement:V,loadingParams:{disableAutoFetch:ae,enableXfa:ie}};return m.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Ee=m.messageHandler.sendWithPromise("GetDocRequest",Te,r?[r.buffer]:null);let we;if(h)we=new sP(h,{disableRange:Fe,disableStream:ue});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");let Oe;if(pn)if(Ld(n)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");Oe=Ny}else Oe=gP;else Oe=Ld(n)?Ny:dP;we=new Oe({url:n,length:fe,httpHeaders:o,withCredentials:l,rangeChunkSize:p,disableRange:Fe,disableStream:ue})}return Ee.then(Oe=>{if(e.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Qe=new Dd(t,Oe,m.port),mn=new IP(Qe,e,we,Me,me);e._transport=mn,Qe.send("Ready",null)})}).catch(e._capability.reject),e}function PP(a){if(a instanceof URL)return a.href;try{return new URL(a,window.location).href}catch{if(pn&&typeof a=="string")return a}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function NP(a){if(pn&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return Tm(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a==null?void 0:a.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Ly(a){return typeof a=="object"&&Number.isInteger(a==null?void 0:a.num)&&a.num>=0&&Number.isInteger(a==null?void 0:a.gen)&&a.gen>=0}var am;const lm=class lm{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${yn(lm,am)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(o){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,o}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}};am=new WeakMap,k(lm,am,0);let L0=lm;class S_{constructor(e,t,n=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Je("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class LP{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return je(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Lo,wr,Ls,dc,S1;class RP{constructor(e,t,n,r=!1){k(this,Ls);k(this,Lo,null);k(this,wr,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new vy:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new E_,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:o=!1}={}){return new Ff({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return je(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:r=po.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:d=null,annotationCanvasMap:h=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:C=!1}){var M,F;(M=this._stats)==null||M.time("Overall");const y=this._transport.getRenderingIntent(n,r,m,C),{renderingIntent:w,cacheKey:x}=y;E(this,wr,!1),P(this,Ls,S1).call(this),d||(d=this._transport.getOptionalContentConfig(w));let A=this._intentStates.get(x);A||(A=Object.create(null),this._intentStates.set(x,A)),A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null);const T=!!(w&us.PRINT);A.displayReadyCapability||(A.displayReadyCapability=Promise.withResolvers(),A.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(y));const N=z=>{var U;A.renderTasks.delete(L),(this._maybeCleanupAfterRender||T)&&E(this,wr,!0),P(this,Ls,dc).call(this,!T),z?(L.capability.reject(z),this._abortOperatorList({intentState:A,reason:z instanceof Error?z:new Error(z)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(U=globalThis.Stats)!=null&&U.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new M0({callback:N,params:{canvasContext:e,viewport:t,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:A.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:p});(A.renderTasks||(A.renderTasks=new Set)).add(L);const I=L.task;return Promise.all([A.displayReadyCapability.promise,d]).then(([z,U])=>{var q;if(this.destroyed){N();return}if((q=this._stats)==null||q.time("Rendering"),!(U.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:z,optionalContentConfig:U}),L.operatorListChanged()}).catch(N),I}getOperatorList({intent:e="display",annotationMode:t=po.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){var p;function o(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(e,t,n,r,!0);let d=this._intentStates.get(l.cacheKey);d||(d=Object.create(null),this._intentStates.set(l.cacheKey,d));let h;return d.opListReadCapability||(h=Object.create(null),h.operatorListChanged=o,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||(d.renderTasks=new Set)).add(h),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(l)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>ih.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function o(){l.read().then(function({value:h,done:p}){if(p){n(d);return}d.lang??(d.lang=h.lang),Object.assign(d.styles,h.styles),d.items.push(...h.items),o()},r)}const l=t.getReader(),d={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),E(this,wr,!1),P(this,Ls,S1).call(this),Promise.all(e)}cleanup(e=!1){E(this,wr,!0);const t=P(this,Ls,dc).call(this,!1);return e&&t&&this._stats&&(this._stats=new vy),t}_startRenderPage(e,t){var r,o;const n=this._intentStates.get(t);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=n.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&P(this,Ls,dc).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:r}){const{map:o,transfer:l}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:r},l).getReader(),p=this._intentStates.get(t);p.streamReader=h;const m=()=>{h.read().then(({value:C,done:y})=>{if(y){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(C,p),m())},C=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const y of p.renderTasks)y.operatorListChanged();P(this,Ls,dc).call(this,!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(C);else if(p.opListReadCapability)p.opListReadCapability.reject(C);else throw C}})};m()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof T3){let r=xP;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Xo(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Lo=new WeakMap,wr=new WeakMap,Ls=new WeakSet,dc=function(e=!1){if(P(this,Ls,S1).call(this),!c(this,wr)||this.destroyed)return!1;if(e)return E(this,Lo,setTimeout(()=>{E(this,Lo,null),P(this,Ls,dc).call(this,!1)},SP)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E(this,wr,!1),!0},S1=function(){c(this,Lo)&&(clearTimeout(c(this,Lo)),E(this,Lo,null))};var xr,cm;class MP{constructor(){k(this,xr,new Map);k(this,cm,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};c(this,cm).then(()=>{for(const[r]of c(this,xr))r.call(this,n)})}addEventListener(e,t,n=null){let r=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Le("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}c(this,xr).set(t,r)}removeEventListener(e,t){const n=c(this,xr).get(t);n==null||n(),c(this,xr).delete(t)}terminate(){for(const[,e]of c(this,xr))e==null||e();c(this,xr).clear()}}xr=new WeakMap,cm=new WeakMap;var um,Ka,Za,Vc,E1,Wc,A1;const at=class at{constructor({name:e=null,port:t=null,verbosity:n=pT()}={}){k(this,Vc);var r;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=c(at,Za))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(c(at,Za)||E(at,Za,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Dd("main","worker",e),this._messageHandler.on("ready",function(){}),P(this,Vc,E1).call(this)}_initialize(){if(c(at,Ka)||c(at,Wc,A1)){this._setupFakeWorker();return}let{workerSrc:e}=at;try{at._isSameOrigin(window.location.href,e)||(e=at._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Dd("main","worker",t),r=()=>{o.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),n.on("test",d=>{if(o.abort(),this.destroyed||!d){r();return}this._messageHandler=n,this._port=t,this._webWorker=t,P(this,Vc,E1).call(this)}),n.on("ready",d=>{if(o.abort(),this.destroyed){r();return}try{l()}catch{this._setupFakeWorker()}});const l=()=>{const d=new Uint8Array;n.send("test",d,[d.buffer])};l();return}catch{km("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){c(at,Ka)||(Le("Setting up fake worker."),E(at,Ka,!0)),at._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new MP;this._port=t;const n=`fake${yn(at,um)._++}`,r=new Dd(n+"_worker",n,t);e.setup(r,t),this._messageHandler=new Dd(n,n+"_worker",t),P(this,Vc,E1).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,t,n;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(t=c(at,Za))==null||t.delete(this._port),this._port=null,(n=this._messageHandler)==null||n.destroy(),this._messageHandler=null}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=c(this,Za))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new at(e)}static get workerSrc(){if(jr.workerSrc)return jr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return je(this,"_setupFakeWorkerGlobal",(async()=>c(this,Wc,A1)?c(this,Wc,A1):(await import(this.workerSrc)).WorkerMessageHandler)())}};um=new WeakMap,Ka=new WeakMap,Za=new WeakMap,Vc=new WeakSet,E1=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Wc=new WeakSet,A1=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},k(at,Wc),k(at,um,0),k(at,Ka,!1),k(at,Za),pn&&(E(at,Ka,!0),jr.workerSrc||(jr.workerSrc="./pdf.worker.mjs")),at._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(t,n);return n.origin===r.origin},at._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let yc=at;var Sr,Di,Gc,qc,Er,Qa,$d;class IP{constructor(e,t,n,r,o){k(this,Qa);k(this,Sr,new Map);k(this,Di,new Map);k(this,Gc,new Map);k(this,qc,new Map);k(this,Er,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new E_,this.fontLoader=new MT({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return je(this,"annotationStorage",new R3)}getRenderingIntent(e,t=po.ENABLE,n=null,r=!1,o=!1){let l=us.DISPLAY,d=_0;switch(e){case"any":l=us.ANY;break;case"display":break;case"print":l=us.PRINT;break;default:Le(`getRenderingIntent - invalid intent: ${e}`)}const h=l&us.PRINT&&n instanceof t_?n:this.annotationStorage;switch(t){case po.DISABLE:l+=us.ANNOTATIONS_DISABLE;break;case po.ENABLE:break;case po.ENABLE_FORMS:l+=us.ANNOTATIONS_FORMS;break;case po.ENABLE_STORAGE:l+=us.ANNOTATIONS_STORAGE,d=h.serializable;break;default:Le(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(l+=us.IS_EDITING),o&&(l+=us.OPLIST);const{ids:p,hash:m}=h.modifiedIds,C=[l,d.hash,m];return{renderingIntent:l,cacheKey:C.join("_"),annotationStorageSerializable:d,modifiedIds:p}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=c(this,Er))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of c(this,Di).values())e.push(r._destroy());c(this,Di).clear(),c(this,Gc).clear(),c(this,qc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,o;this.commonObjs.clear(),this.fontLoader.clear(),c(this,Sr).clear(),this.filterFactory.destroy(),sh.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Xo("Worker was terminated.")),(o=this.messageHandler)==null||o.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{bt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){r.close();return}bt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async n=>{var d;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:l}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((d=t.onProgress)==null||d.call(t,this._lastProgress)),this._fullReader.onProgress=h=>{var p;(p=t.onProgress)==null||p.call(t,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:l}}),e.on("GetRangeReader",(n,r)=>{bt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:l,done:d}){if(d){r.close();return}bt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{o.cancel(l),r.ready.catch(d=>{if(!this.destroyed)throw d})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new LP(n,this))}),e.on("DocException",n=>{t._capability.reject(On(n))}),e.on("PasswordRequest",n=>{E(this,Er,Promise.withResolvers());try{if(!t.onPassword)throw On(n);const r=o=>{o instanceof Error?c(this,Er).reject(o):c(this,Er).resolve({password:o})};t.onPassword(r,n.code)}catch(r){c(this,Er).reject(r)}return c(this,Er).promise}),e.on("DataLoaded",n=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;c(this,Di).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,o])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":const{disableFontFace:d,fontExtraProperties:h,pdfBug:p}=this._params;if("error"in o){const w=o.error;Le(`Error during font loading: ${w}`),this.commonObjs.resolve(n,w);break}const m=p&&((l=globalThis.FontInspector)!=null&&l.enabled)?(w,x)=>globalThis.FontInspector.fontAdded(w,x):null,C=new IT(o,{disableFontFace:d,fontExtraProperties:h,inspectFont:m});this.fontLoader.bind(C).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h&&C.data&&(C.data=null),this.commonObjs.resolve(n,C)});break;case"CopyLocalImage":const{imageRef:y}=o;bt(y,"The imageRef must be defined.");for(const w of c(this,Di).values())for(const[,x]of w.objs)if((x==null?void 0:x.ref)===y)return x.dataLen?(this.commonObjs.resolve(n,structuredClone(x)),x.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,o,l])=>{var h;if(this.destroyed)return;const d=c(this,Di).get(r);if(!d.objs.has(n)){if(d._intentStates.size===0){(h=l==null?void 0:l.bitmap)==null||h.close();return}switch(o){case"Image":d.objs.resolve(n,l),(l==null?void 0:l.dataLen)>cT&&(d._maybeCleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Le("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=c(this,Gc).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&c(this,qc).set(o.refStr,e);const l=new RP(t,o,this,this._params.pdfBug);return c(this,Di).set(t,l),l});return c(this,Gc).set(t,r),r}getPageIndex(e){return Ly(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return P(this,Qa,$d).call(this,"GetFieldObjects")}hasJSActions(){return P(this,Qa,$d).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return P(this,Qa,$d).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return P(this,Qa,$d).call(this,"GetOptionalContentConfig").then(t=>new nP(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,Sr).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>{var o,l;return{info:r[0],metadata:r[1]?new eP(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return c(this,Sr).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,Di).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,Sr).clear(),this.filterFactory.destroy(!0),sh.cleanup()}}cachedPageNumber(e){if(!Ly(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,qc).get(t)??null}}Sr=new WeakMap,Di=new WeakMap,Gc=new WeakMap,qc=new WeakMap,Er=new WeakMap,Qa=new WeakSet,$d=function(e,t=null){const n=c(this,Sr).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return c(this,Sr).set(e,r),r};const xd=Symbol("INITIAL_DATA");var ts,Xh,R0;class E_{constructor(){k(this,Xh);k(this,ts,Object.create(null))}get(e,t=null){if(t){const r=P(this,Xh,R0).call(this,e);return r.promise.then(()=>t(r.data)),null}const n=c(this,ts)[e];if(!n||n.data===xd)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=c(this,ts)[e];return!!t&&t.data!==xd}delete(e){const t=c(this,ts)[e];return!t||t.data===xd?!1:(delete c(this,ts)[e],!0)}resolve(e,t=null){const n=P(this,Xh,R0).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in c(this,ts)){const{data:n}=c(this,ts)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}E(this,ts,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,ts)){const{data:t}=c(this,ts)[e];t!==xd&&(yield[e,t])}}}ts=new WeakMap,Xh=new WeakSet,R0=function(e){var t;return(t=c(this,ts))[e]||(t[e]={...Promise.withResolvers(),data:xd})};var Ro;class DP{constructor(e){k(this,Ro,null);E(this,Ro,e),this.onContinue=null}get promise(){return c(this,Ro).capability.promise}cancel(e=0){c(this,Ro).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,Ro).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,Ro);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Ro=new WeakMap;var Mo,Ja;const _a=class _a{constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:o,operatorList:l,pageIndex:d,canvasFactory:h,filterFactory:p,useRequestAnimationFrame:m=!1,pdfBug:C=!1,pageColors:y=null}){k(this,Mo,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=d,this.canvasFactory=h,this.filterFactory=p,this._pdfBug=C,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new DP(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var d,h;if(this.cancelled)return;if(this._canvas){if(c(_a,Ja).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(_a,Ja).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:o,background:l}=this.params;this.gfx=new vc(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),c(this,Mo)&&(window.cancelAnimationFrame(c(this,Mo)),E(this,Mo,null)),c(_a,Ja).delete(this._canvas),this.callback(e||new T3(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?E(this,Mo,window.requestAnimationFrame(()=>{E(this,Mo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(_a,Ja).delete(this._canvas),this.callback())))}};Mo=new WeakMap,Ja=new WeakMap,k(_a,Ja,new WeakSet);let M0=_a;const jP="4.10.38",FP="f9bea397f";function Ry(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function Sd(a){return Math.max(0,Math.min(255,255*a))}class My{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Sd(e),[e,e,e]}static G_HTML([e]){const t=Ry(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Sd)}static RGB_HTML(e){return`#${e.map(Ry).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[Sd(1-Math.min(1,e+r)),Sd(1-Math.min(1,n+r)),Sd(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,o=1-t,l=1-n,d=Math.min(r,o,l);return["CMYK",r,o,l,d]}}class OP{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Je("Abstract method `_createSVG` called.")}}class I3 extends OP{_createSVG(e){return document.createElementNS(or,e)}}class A_{static setupStorage(e,t,n,r,o){const l=r.getValue(t,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),o==="print")break;e.addEventListener("input",d=>{r.setValue(t,{value:d.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?e.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",d=>{r.setValue(t,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),o==="print")break;e.addEventListener("input",d=>{r.setValue(t,{value:d.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const d of n.children)d.attributes.value===l.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}e.addEventListener("input",d=>{const h=d.target.options,p=h.selectedIndex===-1?"":h[h.selectedIndex].value;r.setValue(t,{value:p})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:o}){const{attributes:l}=t,d=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[h,p]of Object.entries(l))if(p!=null)switch(h){case"class":p.length&&e.setAttribute(h,p.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",p);break;case"style":Object.assign(e.style,p);break;case"textContent":e.textContent=p;break;default:(!d||h!=="href"&&h!=="newWindow")&&e.setAttribute(h,p)}d&&o.addLinkAttributes(e,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(e,l.dataId,t,n)}static render(e){var C,y;const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,o=e.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:o,linkService:n});const d=o!=="richText",h=e.div;if(h.append(l),e.viewport){const w=`matrix(${e.viewport.transform.join(",")})`;h.style.transform=w}d&&h.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const w=document.createTextNode(r.value);l.append(w),d&&ih.shouldBuildText(r.name)&&p.push(w)}return{textDivs:p}}const m=[[r,-1,l]];for(;m.length>0;){const[w,x,A]=m.at(-1);if(x+1===w.children.length){m.pop();continue}const T=w.children[++m.at(-1)[1]];if(T===null)continue;const{name:N}=T;if(N==="#text"){const I=document.createTextNode(T.value);p.push(I),A.append(I);continue}const L=(C=T==null?void 0:T.attributes)!=null&&C.xmlns?document.createElementNS(T.attributes.xmlns,N):document.createElement(N);if(A.append(L),T.attributes&&this.setAttributes({html:L,element:T,storage:t,intent:o,linkService:n}),((y=T.children)==null?void 0:y.length)>0)m.push([T,-1,L]);else if(T.value){const I=document.createTextNode(T.value);d&&ih.shouldBuildText(N)&&p.push(I),L.append(I)}}for(const w of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:p}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Bf=1e3,BP=9,kl=new WeakSet;function Go(a){return{width:a[2]-a[0],height:a[3]-a[1]}}class $P{static create(e){switch(e.data.annotationType){case Lt.LINK:return new b_(e);case Lt.TEXT:return new zP(e);case Lt.WIDGET:switch(e.data.fieldType){case"Tx":return new HP(e);case"Btn":return e.data.radioButton?new P_(e):e.data.checkBox?new VP(e):new WP(e);case"Ch":return new GP(e);case"Sig":return new UP(e)}return new Pl(e);case Lt.POPUP:return new D0(e);case Lt.FREETEXT:return new I_(e);case Lt.LINE:return new XP(e);case Lt.SQUARE:return new YP(e);case Lt.CIRCLE:return new KP(e);case Lt.POLYLINE:return new D_(e);case Lt.CARET:return new QP(e);case Lt.INK:return new D3(e);case Lt.POLYGON:return new ZP(e);case Lt.HIGHLIGHT:return new j_(e);case Lt.UNDERLINE:return new JP(e);case Lt.SQUIGGLY:return new eN(e);case Lt.STRIKEOUT:return new tN(e);case Lt.STAMP:return new F_(e);case Lt.FILEATTACHMENT:return new nN(e);default:return new xt(e)}}}var el,Xc,Yc,Yh,I0;const $3=class $3{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){k(this,Yh);k(this,el,null);k(this,Xc,!1);k(this,Yc,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return $3._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;c(this,el)||E(this,el,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&P(this,Yh,I0).call(this,t),(n=c(this,Yc))==null||n.popup.updateEdited(e)}resetEdited(){var e;c(this,el)&&(P(this,Yh,I0).call(this,c(this,el).rect),(e=c(this,Yc))==null||e.popup.resetEdited(),E(this,el,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof Pl||(o.tabIndex=Bf);const{style:l}=o;if(l.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof D0){const{rotation:A}=t;return!t.hasOwnCanvas&&A!==0&&this.setRotation(A,o),o}const{width:d,height:h}=Go(t.rect);if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const A=t.borderStyle.horizontalCornerRadius,T=t.borderStyle.verticalCornerRadius;if(A>0||T>0){const L=`calc(${A}px * var(--scale-factor)) / calc(${T}px * var(--scale-factor))`;l.borderRadius=L}else if(this instanceof P_){const L=`calc(${d}px * var(--scale-factor)) / calc(${h}px * var(--scale-factor))`;l.borderRadius=L}switch(t.borderStyle.style){case _d.SOLID:l.borderStyle="solid";break;case _d.DASHED:l.borderStyle="dashed";break;case _d.BEVELED:Le("Unimplemented border style: beveled");break;case _d.INSET:Le("Unimplemented border style: inset");break;case _d.UNDERLINE:l.borderBottomStyle="solid";break}const N=t.borderColor||null;N?(E(this,Xc,!0),l.borderColor=ve.makeHexColor(N[0]|0,N[1]|0,N[2]|0)):l.borderWidth=0}const p=ve.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:m,pageHeight:C,pageX:y,pageY:w}=r.rawDims;l.left=`${100*(p[0]-y)/m}%`,l.top=`${100*(p[1]-w)/C}%`;const{rotation:x}=t;return t.hasOwnCanvas||x===0?(l.width=`${100*d/m}%`,l.height=`${100*h/C}%`):this.setRotation(x,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:l}=Go(this.data.rect);let d,h;e%180===0?(d=100*o/n,h=100*l/r):(d=100*l/n,h=100*o/r),t.style.width=`${d}%`,t.style.height=`${h}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const o=r.detail[t],l=o[0],d=o.slice(1);r.target.style[n]=My[`${l}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[n]:My[`${l}_rgb`](d)})};return je(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const o=e[r]||n[r];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,o]of Object.entries(t)){const l=n[r];if(l){const d={detail:{[r]:o},target:e};l(d),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,o]=this.data.rect.map(A=>Math.fround(A));if(e.length===8){const[A,T,N,L]=e.subarray(2,6);if(r===A&&o===T&&t===N&&n===L)return}const{style:l}=this.container;let d;if(c(this,Xc)){const{borderColor:A,borderWidth:T}=l;l.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const h=r-t,p=o-n,{svgFactory:m}=this,C=m.createElement("svg");C.classList.add("quadrilateralsContainer"),C.setAttribute("width",0),C.setAttribute("height",0);const y=m.createElement("defs");C.append(y);const w=m.createElement("clipPath"),x=`clippath_${this.data.id}`;w.setAttribute("id",x),w.setAttribute("clipPathUnits","objectBoundingBox"),y.append(w);for(let A=2,T=e.length;A<T;A+=8){const N=e[A],L=e[A+1],I=e[A+2],M=e[A+3],F=m.createElement("rect"),z=(I-t)/h,U=(o-L)/p,q=(N-I)/h,Y=(L-M)/p;F.setAttribute("x",z),F.setAttribute("y",U),F.setAttribute("width",q),F.setAttribute("height",Y),w.append(F),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${z}" y="${U}" width="${q}" height="${Y}"/>`)}c(this,Xc)&&(d.push("</g></svg>')"),l.backgroundImage=d.join("")),this.container.append(C),this.container.style.clipPath=`url(#${x})`}_createPopup(){const{data:e}=this,t=E(this,Yc,new D0({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Je("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:o,id:l,exportValues:d}of r){if(o===-1||l===t)continue;const h=typeof d=="string"?d:null,p=document.querySelector(`[data-element-id="${l}"]`);if(p&&!kl.has(p)){Le(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:h,domElement:p})}return n}for(const r of document.getElementsByName(e)){const{exportValue:o}=r,l=r.getAttribute("data-element-id");l!==t&&kl.has(r)&&n.push({id:l,exportValue:o,domElement:r})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};el=new WeakMap,Xc=new WeakMap,Yc=new WeakMap,Yh=new WeakSet,I0=function(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:d,pageY:h}}}}=this;n==null||n.splice(0,4,...e);const{width:p,height:m}=Go(e);t.left=`${100*(e[0]-d)/o}%`,t.top=`${100*(l-e[3]+h)/l}%`,r===0?(t.width=`${100*p/o}%`,t.height=`${100*m/l}%`):this.setRotation(r)};let xt=$3;var ds,ma,k_,T_;class b_ extends xt{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});k(this,ds);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let o=!1;return t.url?(n.addLinkAttributes(r,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(r,t.action),o=!0):t.attachment?(P(this,ds,k_).call(this,r,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(P(this,ds,T_).call(this,r,t.setOCGState),o=!0):t.dest?(this._bindLink(r,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),o=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&P(this,ds,ma).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),P(this,ds,ma).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(n.actions)){const l=r.get(o);l&&(t[l]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),P(this,ds,ma).call(this)}_bindResetFormAction(t,n){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),P(this,ds,ma).call(this),!this._fieldObjects){Le('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var C;r==null||r();const{fields:o,refs:l,include:d}=n,h=[];if(o.length!==0||l.length!==0){const y=new Set(l);for(const w of o){const x=this._fieldObjects[w]||[];for(const{id:A}of x)y.add(A)}for(const w of Object.values(this._fieldObjects))for(const x of w)y.has(x.id)===d&&h.push(x)}else for(const y of Object.values(this._fieldObjects))h.push(...y);const p=this.annotationStorage,m=[];for(const y of h){const{id:w}=y;switch(m.push(w),y.type){case"text":{const A=y.defaultValue||"";p.setValue(w,{value:A});break}case"checkbox":case"radiobutton":{const A=y.defaultValue===y.exportValues;p.setValue(w,{value:A});break}case"combobox":case"listbox":{const A=y.defaultValue||"";p.setValue(w,{value:A});break}default:continue}const x=document.querySelector(`[data-element-id="${w}"]`);if(x){if(!kl.has(x)){Le(`_bindResetFormAction - element not allowed: ${w}`);continue}}else continue;x.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}ds=new WeakSet,ma=function(){this.container.setAttribute("data-internal-link","")},k_=function(t,n,r=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(n.content,n.filename,r),!1},P(this,ds,ma).call(this)},T_=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),P(this,ds,ma).call(this)};class zP extends xt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Pl extends xt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return bn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,o){n.includes("mouse")?e.addEventListener(n,l=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(n,l=>{var d;if(n==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}o&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l)}}))})}_setEventListeners(e,t,n,r){var o,l,d;for(const[h,p]of n)(p==="Action"||(o=this.data.actions)!=null&&o[p])&&((p==="Focus"||p==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,h,p,r),p==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(e,t,"blur","Blur",null):p==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ve.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||BP,o=e.style;let l;const d=2,h=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d),m=Math.round(p/(Og*r))||1,C=p/m;l=Math.min(r,h(C/Og))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d);l=Math.min(r,h(p/Og))}o.fontSize=`calc(${l}px * var(--scale-factor))`,o.color=ve.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class HP extends Pl{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const o=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=n),o.setValue(l.id,{[r]:n})}render(){var r,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=e.getValue(t,{value:this.data.fieldValue});let d=l.value||"";const h=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;h&&d.length>h&&(d=d.slice(0,h));let p=l.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const m={userValue:d,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=p??d,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",p??d),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),kl.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Bf,this._setRequired(n,this.data.required),h&&(n.maxLength=h),n.addEventListener("input",y=>{e.setValue(t,{value:y.target.value}),this.setPropertyOnSiblings(n,"value",y.target.value,"value"),m.formattedValue=null}),n.addEventListener("resetform",y=>{const w=this.data.defaultFieldValue??"";n.value=m.userValue=w,m.formattedValue=null});let C=y=>{const{formattedValue:w}=m;w!=null&&(y.target.value=w),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",w=>{var A;if(m.focused)return;const{target:x}=w;m.userValue&&(x.value=m.userValue),m.lastCommittedValue=x.value,m.commitKey=1,(A=this.data.actions)!=null&&A.Focus||(m.focused=!0)}),n.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const x={value(A){m.userValue=A.detail.value??"",e.setValue(t,{value:m.userValue.toString()}),A.target.value=m.userValue},formattedValue(A){const{formattedValue:T}=A.detail;m.formattedValue=T,T!=null&&A.target!==document.activeElement&&(A.target.value=T),e.setValue(t,{formattedValue:T})},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{var I;const{charLimit:T}=A.detail,{target:N}=A;if(T===0){N.removeAttribute("maxLength");return}N.setAttribute("maxLength",T);let L=m.userValue;!L||L.length<=T||(L=L.slice(0,T),N.value=m.userValue=L,e.setValue(t,{value:L}),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:N.selectionStart,selEnd:N.selectionEnd}}))}};this._dispatchEventFromSandbox(x,w)}),n.addEventListener("keydown",w=>{var T;m.commitKey=1;let x=-1;if(w.key==="Escape"?x=0:w.key==="Enter"&&!this.data.multiLine?x=2:w.key==="Tab"&&(m.commitKey=3),x===-1)return;const{value:A}=w.target;m.lastCommittedValue!==A&&(m.lastCommittedValue=A,m.userValue=A,(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:x,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const y=C;C=null,n.addEventListener("blur",w=>{var A,T;if(!m.focused||!w.relatedTarget)return;(A=this.data.actions)!=null&&A.Blur||(m.focused=!1);const{value:x}=w.target;m.userValue=x,m.lastCommittedValue!==x&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:m.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}})),y(w)}),(o=this.data.actions)!=null&&o.Keystroke&&n.addEventListener("beforeinput",w=>{var F;m.lastCommittedValue=null;const{data:x,target:A}=w,{value:T,selectionStart:N,selectionEnd:L}=A;let I=N,M=L;switch(w.inputType){case"deleteWordBackward":{const z=T.substring(0,N).match(/\w*[^\w]*$/);z&&(I-=z[0].length);break}case"deleteWordForward":{const z=T.substring(N).match(/^[^\w]*\w*/);z&&(M+=z[0].length);break}case"deleteContentBackward":N===L&&(I-=1);break;case"deleteContentForward":N===L&&(M+=1);break}w.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,change:x||"",willCommit:!1,selStart:I,selEnd:M}})}),this._setEventListeners(n,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(C&&n.addEventListener("blur",C),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/h;n.classList.add("comb"),n.style.letterSpacing=`calc(${w}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class UP extends Pl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class VP extends Pl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return kl.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=Bf,o.addEventListener("change",l=>{const{name:d,checked:h}=l.target;for(const p of this._getElementsByName(d,n)){const m=h&&p.exportValue===t.exportValue;p.domElement&&(p.domElement.checked=m),e.setValue(p.id,{value:m})}e.setValue(n,{value:h})}),o.addEventListener("resetform",l=>{const d=t.defaultFieldValue||"Off";l.target.checked=d===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const d={value(h){h.target.checked=h.detail.value!=="Off",e.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(d,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class P_ extends Pl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const l of this._getElementsByName(t.fieldName,n))e.setValue(l.id,{value:!1});const o=document.createElement("input");if(kl.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=Bf,o.addEventListener("change",l=>{const{name:d,checked:h}=l.target;for(const p of this._getElementsByName(d,n))e.setValue(p.id,{value:!1});e.setValue(n,{value:h})}),o.addEventListener("resetform",l=>{const d=t.defaultFieldValue;l.target.checked=d!=null&&d===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;o.addEventListener("updatefromsandbox",d=>{const h={value:p=>{const m=l===p.detail.value;for(const C of this._getElementsByName(p.target.name)){const y=m&&C.id===n;C.domElement&&(C.domElement.checked=y),e.setValue(C.id,{value:y})}}};this._dispatchEventFromSandbox(h,d)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class WP extends b_{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class GP extends Pl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");kl.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Bf;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const C=this.data.defaultFieldValue;for(const y of r.options)y.selected=y.value===C});for(const m of this.data.options){const C=document.createElement("option");C.textContent=m.displayValue,C.value=m.exportValue,n.value.includes(m.exportValue)&&(C.setAttribute("selected",!0),o=!1),r.append(C)}let l=null;if(o){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),l=()=>{m.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const d=m=>{const C=m?"value":"textContent",{options:y,multiple:w}=r;return w?Array.prototype.filter.call(y,x=>x.selected).map(x=>x[C]):y.selectedIndex===-1?null:y[y.selectedIndex][C]};let h=d(!1);const p=m=>{const C=m.target.options;return Array.prototype.map.call(C,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const C={value(y){l==null||l();const w=y.detail.value,x=new Set(Array.isArray(w)?w:[w]);for(const A of r.options)A.selected=x.has(A.value);e.setValue(t,{value:d(!0)}),h=d(!1)},multipleSelection(y){r.multiple=!0},remove(y){const w=r.options,x=y.detail.remove;w[x].selected=!1,r.remove(x),w.length>0&&Array.prototype.findIndex.call(w,T=>T.selected)===-1&&(w[0].selected=!0),e.setValue(t,{value:d(!0),items:p(y)}),h=d(!1)},clear(y){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),h=d(!1)},insert(y){const{index:w,displayValue:x,exportValue:A}=y.detail.insert,T=r.children[w],N=document.createElement("option");N.textContent=x,N.value=A,T?T.before(N):r.append(N),e.setValue(t,{value:d(!0),items:p(y)}),h=d(!1)},items(y){const{items:w}=y.detail;for(;r.length!==0;)r.remove(0);for(const x of w){const{displayValue:A,exportValue:T}=x,N=document.createElement("option");N.textContent=A,N.value=T,r.append(N)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:d(!0),items:p(y)}),h=d(!1)},indices(y){const w=new Set(y.detail.indices);for(const x of y.target.options)x.selected=w.has(x.index);e.setValue(t,{value:d(!0)}),h=d(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(C,m)}),r.addEventListener("input",m=>{var w;const C=d(!0),y=d(!1);e.setValue(t,{value:C}),m.preventDefault(),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,change:y,changeEx:C,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){e.setValue(t,{value:d(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class D0 extends xt{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:xt._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new qP({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${k3}${n}`).join(",")),this.container}}var Kc,dm,hm,Zc,tl,vt,Ar,Qc,Kh,Zh,Jc,br,Zs,kr,Qh,Tr,Jh,nl,sl,Ze,b1,j0,N_,L_,R_,M_,k1,T1,F0;class qP{constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:o,contentsObj:l,richText:d,parent:h,rect:p,parentRect:m,open:C}){k(this,Ze);k(this,Kc,P(this,Ze,R_).bind(this));k(this,dm,P(this,Ze,F0).bind(this));k(this,hm,P(this,Ze,T1).bind(this));k(this,Zc,P(this,Ze,k1).bind(this));k(this,tl,null);k(this,vt,null);k(this,Ar,null);k(this,Qc,null);k(this,Kh,null);k(this,Zh,null);k(this,Jc,null);k(this,br,!1);k(this,Zs,null);k(this,kr,null);k(this,Qh,null);k(this,Tr,null);k(this,Jh,null);k(this,nl,null);k(this,sl,!1);var y;E(this,vt,e),E(this,Jh,r),E(this,Ar,l),E(this,Tr,d),E(this,Zh,h),E(this,tl,t),E(this,Qh,p),E(this,Jc,m),E(this,Kh,n),E(this,Qc,N3.toDateObject(o)),this.trigger=n.flatMap(w=>w.getElementsToTriggerPopup());for(const w of this.trigger)w.addEventListener("click",c(this,Zc)),w.addEventListener("mouseenter",c(this,hm)),w.addEventListener("mouseleave",c(this,dm)),w.classList.add("popupTriggerArea");for(const w of n)(y=w.container)==null||y.addEventListener("keydown",c(this,Kc));c(this,vt).hidden=!0,C&&P(this,Ze,k1).call(this)}render(){if(c(this,Zs))return;const e=E(this,Zs,document.createElement("div"));if(e.className="popup",c(this,tl)){const o=e.style.outlineColor=ve.makeHexColor(...c(this,tl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=ve.makeHexColor(...c(this,tl).map(d=>Math.floor(.7*(255-d)+d)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=c(this,Jh),e.append(t),c(this,Qc)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:c(this,Qc).valueOf()})),t.append(o)}const r=c(this,Ze,b1);if(r)A_.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(c(this,Ar));e.append(o)}c(this,vt).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let o=0,l=r.length;o<l;++o){const d=r[o];n.append(document.createTextNode(d)),o<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;c(this,nl)||E(this,nl,{contentsObj:c(this,Ar),richText:c(this,Tr)}),e&&E(this,kr,null),t&&(E(this,Tr,P(this,Ze,L_).call(this,t)),E(this,Ar,null)),(n=c(this,Zs))==null||n.remove(),E(this,Zs,null)}resetEdited(){var e;c(this,nl)&&({contentsObj:yn(this,Ar)._,richText:yn(this,Tr)._}=c(this,nl),E(this,nl,null),(e=c(this,Zs))==null||e.remove(),E(this,Zs,null),E(this,kr,null))}forceHide(){E(this,sl,this.isVisible),c(this,sl)&&(c(this,vt).hidden=!0)}maybeShow(){c(this,sl)&&(c(this,Zs)||P(this,Ze,T1).call(this),E(this,sl,!1),c(this,vt).hidden=!1)}get isVisible(){return c(this,vt).hidden===!1}}Kc=new WeakMap,dm=new WeakMap,hm=new WeakMap,Zc=new WeakMap,tl=new WeakMap,vt=new WeakMap,Ar=new WeakMap,Qc=new WeakMap,Kh=new WeakMap,Zh=new WeakMap,Jc=new WeakMap,br=new WeakMap,Zs=new WeakMap,kr=new WeakMap,Qh=new WeakMap,Tr=new WeakMap,Jh=new WeakMap,nl=new WeakMap,sl=new WeakMap,Ze=new WeakSet,b1=function(){const e=c(this,Tr),t=c(this,Ar);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,Tr).html||null},j0=function(){var e,t,n;return((n=(t=(e=c(this,Ze,b1))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},N_=function(){var e,t,n;return((n=(t=(e=c(this,Ze,b1))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},L_=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:c(this,Ze,N_),fontSize:c(this,Ze,j0)?`calc(${c(this,Ze,j0)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:r});return n},R_=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,br))&&P(this,Ze,k1).call(this)},M_=function(){if(c(this,kr)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:o}}}=c(this,Zh);let l=!!c(this,Jc),d=l?c(this,Jc):c(this,Qh);for(const x of c(this,Kh))if(!d||ve.intersect(x.data.rect,d)!==null){d=x.data.rect,l=!0;break}const h=ve.normalizeRect([d[0],e[3]-d[1]+e[1],d[2],e[3]-d[3]+e[1]]),m=l?d[2]-d[0]+5:0,C=h[0]+m,y=h[1];E(this,kr,[100*(C-r)/t,100*(y-o)/n]);const{style:w}=c(this,vt);w.left=`${c(this,kr)[0]}%`,w.top=`${c(this,kr)[1]}%`},k1=function(){E(this,br,!c(this,br)),c(this,br)?(P(this,Ze,T1).call(this),c(this,vt).addEventListener("click",c(this,Zc)),c(this,vt).addEventListener("keydown",c(this,Kc))):(P(this,Ze,F0).call(this),c(this,vt).removeEventListener("click",c(this,Zc)),c(this,vt).removeEventListener("keydown",c(this,Kc)))},T1=function(){c(this,Zs)||this.render(),this.isVisible?c(this,br)&&c(this,vt).classList.add("focused"):(P(this,Ze,M_).call(this),c(this,vt).hidden=!1,c(this,vt).style.zIndex=parseInt(c(this,vt).style.zIndex)+1e3)},F0=function(){c(this,vt).classList.remove("focused"),!(c(this,br)||!this.isVisible)&&(c(this,vt).hidden=!0,c(this,vt).style.zIndex=parseInt(c(this,vt).style.zIndex)-1e3)};class I_ extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ne.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ef;class XP extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,ef,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:r}=Go(t.rect),o=this.svgFactory.create(n,r,!0),l=E(this,ef,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),o.append(l),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,ef)}addHighlightArea(){this.container.classList.add("highlightArea")}}ef=new WeakMap;var tf;class YP extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,tf,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:r}=Go(t.rect),o=this.svgFactory.create(n,r,!0),l=t.borderStyle.width,d=E(this,tf,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",l/2),d.setAttribute("y",l/2),d.setAttribute("width",n-l),d.setAttribute("height",r-l),d.setAttribute("stroke-width",l||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,tf)}addHighlightArea(){this.container.classList.add("highlightArea")}}tf=new WeakMap;var nf;class KP extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,nf,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:r}=Go(t.rect),o=this.svgFactory.create(n,r,!0),l=t.borderStyle.width,d=E(this,nf,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",n/2),d.setAttribute("cy",r/2),d.setAttribute("rx",n/2-l/2),d.setAttribute("ry",r/2-l/2),d.setAttribute("stroke-width",l||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,nf)}addHighlightArea(){this.container.classList.add("highlightArea")}}nf=new WeakMap;var sf;class D_ extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,sf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:r,popupRef:o}}=this;if(!n)return this.container;const{width:l,height:d}=Go(t),h=this.svgFactory.create(l,d,!0);let p=[];for(let C=0,y=n.length;C<y;C+=2){const w=n[C]-t[0],x=t[3]-n[C+1];p.push(`${w},${x}`)}p=p.join(" ");const m=E(this,sf,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",p),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),h.append(m),this.container.append(h),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,sf)}addHighlightArea(){this.container.classList.add("highlightArea")}}sf=new WeakMap;class ZP extends D_{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class QP extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var rf,il,of,O0;class D3 extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,of);k(this,rf,null);k(this,il,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ne.HIGHLIGHT:Ne.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:r,borderStyle:o,popupRef:l}}=this,{transform:d,width:h,height:p}=P(this,of,O0).call(this,n,t),m=this.svgFactory.create(h,p,!0),C=E(this,rf,this.svgFactory.createElement("svg:g"));m.append(C),C.setAttribute("stroke-width",o.width||1),C.setAttribute("stroke-linecap","round"),C.setAttribute("stroke-linejoin","round"),C.setAttribute("stroke-miterlimit",10),C.setAttribute("stroke","transparent"),C.setAttribute("fill","transparent"),C.setAttribute("transform",d);for(let y=0,w=r.length;y<w;y++){const x=this.svgFactory.createElement(this.svgElementName);c(this,il).push(x),x.setAttribute("points",r[y].join(",")),C.append(x)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(m),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:r,rect:o}=t,l=c(this,rf);if(n>=0&&l.setAttribute("stroke-width",n||1),r)for(let d=0,h=c(this,il).length;d<h;d++)c(this,il)[d].setAttribute("points",r[d].join(","));if(o){const{transform:d,width:h,height:p}=P(this,of,O0).call(this,this.data.rotation,o);l.parentElement.setAttribute("viewBox",`0 0 ${h} ${p}`),l.setAttribute("transform",d)}}getElementsToTriggerPopup(){return c(this,il)}addHighlightArea(){this.container.classList.add("highlightArea")}}rf=new WeakMap,il=new WeakMap,of=new WeakSet,O0=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class j_ extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ne.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class JP extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class eN extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class tN extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class F_ extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ne.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var af,lf,B0;class nN extends xt{constructor(t){var r;super(t,{isRenderable:!0});k(this,lf);k(this,af,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",P(this,lf,B0).bind(this)),E(this,af,r);const{isMac:o}=bn.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(o?l.metaKey:l.ctrlKey)&&P(this,lf,B0).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return c(this,af)}addHighlightArea(){this.container.classList.add("highlightArea")}}af=new WeakMap,lf=new WeakSet,B0=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var cf,rl,ol,uf,Tl,O_,$0;class sN{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:o,viewport:l,structTreeLayer:d}){k(this,Tl);k(this,cf,null);k(this,rl,null);k(this,ol,new Map);k(this,uf,null);this.div=e,E(this,cf,t),E(this,rl,n),E(this,uf,d||null),this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return c(this,ol).size>0}async render(e){var l;const{annotations:t}=e,n=this.div;Al(n,this.viewport);const r=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new I3,annotationStorage:e.annotationStorage||new R3,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const d of t){if(d.noHTML)continue;const h=d.annotationType===Lt.POPUP;if(h){const C=r.get(d.id);if(!C)continue;o.elements=C}else{const{width:C,height:y}=Go(d.rect);if(C<=0||y<=0)continue}o.data=d;const p=$P.create(o);if(!p.isRenderable)continue;if(!h&&d.popupRef){const C=r.get(d.popupRef);C?C.push(p):r.set(d.popupRef,[p])}const m=p.render();d.hidden&&(m.style.visibility="hidden"),await P(this,Tl,O_).call(this,m,d.id),p._isEditable&&(c(this,ol).set(p.data.id,p),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(p))}P(this,Tl,$0).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Al(t,{rotation:e.rotation}),P(this,Tl,$0).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,ol).values())}getEditableAnnotation(e){return c(this,ol).get(e)}}cf=new WeakMap,rl=new WeakMap,ol=new WeakMap,uf=new WeakMap,Tl=new WeakSet,O_=async function(e,t){var l,d;const n=e.firstChild||e,r=n.id=`${k3}${t}`,o=await((l=c(this,uf))==null?void 0:l.getAriaAttributes(r));if(o)for(const[h,p]of o)n.setAttribute(h,p);this.div.append(e),(d=c(this,cf))==null||d.moveElementInDOM(this.div,e,n,!1)},$0=function(){if(!c(this,rl))return;const e=this.div;for(const[t,n]of c(this,rl)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):r.append(n)}c(this,rl).clear()};const r1=/\r\n?|\n/g;var Qs,ns,df,al,ss,kt,B_,$_,z_,P1,Br,N1,L1,H_,H0,U_;const tt=class tt extends pt{constructor(t){super({...t,name:"freeTextEditor"});k(this,kt);k(this,Qs);k(this,ns,"");k(this,df,`${this.id}-editor`);k(this,al,null);k(this,ss);E(this,Qs,t.color||tt._defaultColor||pt._defaultLineColor),E(this,ss,t.fontSize||tt._defaultFontSize)}static get _keyboardManager(){const t=tt.prototype,n=l=>l.isEmpty(),r=bl.TRANSLATE_SMALL,o=bl.TRANSLATE_BIG;return je(this,"_keyboardManager",new Of([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(t,n){pt.initialize(t,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Be.FREETEXT_SIZE:tt._defaultFontSize=n;break;case Be.FREETEXT_COLOR:tt._defaultColor=n;break}}updateParams(t,n){switch(t){case Be.FREETEXT_SIZE:P(this,kt,B_).call(this,n);break;case Be.FREETEXT_COLOR:P(this,kt,$_).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Be.FREETEXT_SIZE,tt._defaultFontSize],[Be.FREETEXT_COLOR,tt._defaultColor||pt._defaultLineColor]]}get propertiesToUpdate(){return[[Be.FREETEXT_SIZE,c(this,ss)],[Be.FREETEXT_COLOR,c(this,Qs)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-tt._internalPadding*t,-(tt._internalPadding+c(this,ss))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ne.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),E(this,al,new AbortController);const t=this._uiManager.combinedSignal(c(this,al));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,df)),this._isDraggable=!0,(t=c(this,al))==null||t.abort(),E(this,al,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,ns),n=E(this,ns,P(this,kt,z_).call(this).trimEnd());if(t===n)return;const r=o=>{if(E(this,ns,o),!o){this.remove();return}P(this,kt,L1).call(this),this._uiManager.rebuild(this),P(this,kt,P1).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(t)},mustExec:!1}),P(this,kt,P1).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){tt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,df)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${c(this,ss)}px * var(--scale-factor))`,r.color=c(this,Qs),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),G1(this,this.div,["dblclick","keydown"]),this.width){const[o,l]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this._initialData;let[h,p]=this.getInitialTranslation();[h,p]=this.pageTranslationToScreen(h,p);const[m,C]=this.pageDimensions,[y,w]=this.pageTranslation;let x,A;switch(this.rotation){case 0:x=t+(d[0]-y)/m,A=n+this.height-(d[1]-w)/C;break;case 90:x=t+(d[0]-y)/m,A=n-(d[1]-w)/C,[h,p]=[p,-h];break;case 180:x=t-this.width+(d[0]-y)/m,A=n-(d[1]-w)/C,[h,p]=[-h,-p];break;case 270:x=t+(d[0]-y-this.height*C)/m,A=n+(d[1]-w-this.width*m)/C,[h,p]=[-p,h];break}this.setAt(x*o,A*l,h,p)}else this.setAt(t*o,n*l,this.width*o,this.height*l);P(this,kt,L1).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var x,A,T;const n=t.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const o=P(x=tt,Br,H0).call(x,n.getData("text")||"").replaceAll(r1,`
`);if(!o)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const d=l.getRangeAt(0);if(!o.includes(`
`)){d.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:h,startOffset:p}=d,m=[],C=[];if(h.nodeType===Node.TEXT_NODE){const N=h.parentElement;if(C.push(h.nodeValue.slice(p).replaceAll(r1,"")),N!==this.editorDiv){let L=m;for(const I of this.editorDiv.childNodes){if(I===N){L=C;continue}L.push(P(A=tt,Br,N1).call(A,I))}}m.push(h.nodeValue.slice(0,p).replaceAll(r1,""))}else if(h===this.editorDiv){let N=m,L=0;for(const I of this.editorDiv.childNodes)L++===p&&(N=C),N.push(P(T=tt,Br,N1).call(T,I))}E(this,ns,`${m.join(`
`)}${o}${C.join(`
`)}`),P(this,kt,L1).call(this);const y=new Range;let w=m.reduce((N,L)=>N+L.length,0);for(const{firstChild:N}of this.editorDiv.childNodes)if(N.nodeType===Node.TEXT_NODE){const L=N.nodeValue.length;if(w<=L){y.setStart(N,w),y.setEnd(N,w);break}w-=L}l.removeAllRanges(),l.addRange(y)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,r){var d;let o=null;if(t instanceof I_){const{data:{defaultAppearanceData:{fontSize:h,fontColor:p},rect:m,rotation:C,id:y,popupRef:w},textContent:x,textPosition:A,parent:{page:{pageNumber:T}}}=t;if(!x||x.length===0)return null;o=t={annotationType:Ne.FREETEXT,color:Array.from(p),fontSize:h,value:x.join(`
`),position:A,pageIndex:T-1,rect:m.slice(0),rotation:C,id:y,deleted:!1,popupRef:w}}const l=await super.deserialize(t,n,r);return E(l,ss,t.fontSize),E(l,Qs,ve.makeHexColor(...t.color)),E(l,ns,P(d=tt,Br,H0).call(d,t.value)),l.annotationElementId=t.id||null,l._initialData=o,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=tt._internalPadding*this.parentScale,r=this.getRect(n,n),o=pt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,Qs)),l={annotationType:Ne.FREETEXT,color:o,fontSize:c(this,ss),value:P(this,kt,H_).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?l:this.annotationElementId&&!P(this,kt,U_).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${c(this,ss)}px * var(--scale-factor))`,r.color=c(this,Qs),n.replaceChildren();for(const l of c(this,ns).split(`
`)){const d=document.createElement("div");d.append(l?document.createTextNode(l):document.createElement("br")),n.append(d)}const o=tt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:c(this,ns)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Qs=new WeakMap,ns=new WeakMap,df=new WeakMap,al=new WeakMap,ss=new WeakMap,kt=new WeakSet,B_=function(t){const n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-c(this,ss))*this.parentScale),E(this,ss,o),P(this,kt,P1).call(this)},r=c(this,ss);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Be.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},$_=function(t){const n=o=>{E(this,Qs,this.editorDiv.style.color=o)},r=c(this,Qs);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Be.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},z_=function(){var r;const t=[];this.editorDiv.normalize();let n=null;for(const o of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(t.push(P(r=tt,Br,N1).call(r,o)),n=o);return t.join(`
`)},P1=function(){const[t,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:l}=this,d=l.style.display,h=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",o.div.append(this.div),r=l.getBoundingClientRect(),l.remove(),l.style.display=d,l.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/n):(this.width=r.height/t,this.height=r.width/n),this.fixAndSetPosition()},Br=new WeakSet,N1=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(r1,"")},L1=function(){if(this.editorDiv.replaceChildren(),!!c(this,ns))for(const t of c(this,ns).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},H_=function(){return c(this,ns).replaceAll(" "," ")},H0=function(t){return t.replaceAll(" "," ")},U_=function(t){const{value:n,fontSize:r,color:o,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==r||t.color.some((d,h)=>d!==o[h])||t.pageIndex!==l},k(tt,Br),ye(tt,"_freeTextDefaultContent",""),ye(tt,"_internalPadding",0),ye(tt,"_defaultColor",null),ye(tt,"_defaultFontSize",10),ye(tt,"_type","freetext"),ye(tt,"_editorType",Ne.FREETEXT);let z0=tt;class oe{toSVGPath(){Je("Abstract method `toSVGPath` must be implemented.")}get box(){Je("Abstract getter `box` must be implemented.")}serialize(e,t){Je("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,r,o,l){l||(l=new Float32Array(e.length));for(let d=0,h=e.length;d<h;d+=2)l[d]=t+e[d]*r,l[d+1]=n+e[d+1]*o;return l}static _rescaleAndSwap(e,t,n,r,o,l){l||(l=new Float32Array(e.length));for(let d=0,h=e.length;d<h;d+=2)l[d]=t+e[d+1]*r,l[d+1]=n+e[d]*o;return l}static _translate(e,t,n,r){r||(r=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)r[o]=t+e[o],r[o+1]=n+e[o+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,r,o){switch(o){case 90:return[1-t/n,e/r];case 180:return[1-e/n,1-t/r];case 270:return[t/n,1-e/r];default:return[e/n,t/r]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,r,o,l){return[(e+5*n)/6,(t+5*r)/6,(5*n+o)/6,(5*r+l)/6,(n+o)/2,(r+l)/2]}}ye(oe,"PRECISION",1e-4);var is,Js,eu,tu,ji,De,ll,cl,hf,ff,nu,su,Io,pf,fm,pm,Dt,zd,V_,W_,G_,q_,X_,Y_;const ur=class ur{constructor({x:e,y:t},n,r,o,l,d=0){k(this,Dt);k(this,is);k(this,Js,[]);k(this,eu);k(this,tu);k(this,ji,[]);k(this,De,new Float32Array(18));k(this,ll);k(this,cl);k(this,hf);k(this,ff);k(this,nu);k(this,su);k(this,Io,[]);E(this,is,n),E(this,su,o*r),E(this,tu,l),c(this,De).set([NaN,NaN,NaN,NaN,e,t],6),E(this,eu,d),E(this,ff,c(ur,pf)*r),E(this,hf,c(ur,pm)*r),E(this,nu,r),c(this,Io).push(e,t)}isEmpty(){return isNaN(c(this,De)[8])}add({x:e,y:t}){var Y;E(this,ll,e),E(this,cl,t);const[n,r,o,l]=c(this,is);let[d,h,p,m]=c(this,De).subarray(8,12);const C=e-p,y=t-m,w=Math.hypot(C,y);if(w<c(this,hf))return!1;const x=w-c(this,ff),A=x/w,T=A*C,N=A*y;let L=d,I=h;d=p,h=m,p+=T,m+=N,(Y=c(this,Io))==null||Y.push(e,t);const M=-N/x,F=T/x,z=M*c(this,su),U=F*c(this,su);return c(this,De).set(c(this,De).subarray(2,8),0),c(this,De).set([p+z,m+U],4),c(this,De).set(c(this,De).subarray(14,18),12),c(this,De).set([p-z,m-U],16),isNaN(c(this,De)[6])?(c(this,ji).length===0&&(c(this,De).set([d+z,h+U],2),c(this,ji).push(NaN,NaN,NaN,NaN,(d+z-n)/o,(h+U-r)/l),c(this,De).set([d-z,h-U],14),c(this,Js).push(NaN,NaN,NaN,NaN,(d-z-n)/o,(h-U-r)/l)),c(this,De).set([L,I,d,h,p,m],6),!this.isEmpty()):(c(this,De).set([L,I,d,h,p,m],6),Math.abs(Math.atan2(I-h,L-d)-Math.atan2(N,T))<Math.PI/2?([d,h,p,m]=c(this,De).subarray(2,6),c(this,ji).push(NaN,NaN,NaN,NaN,((d+p)/2-n)/o,((h+m)/2-r)/l),[d,h,L,I]=c(this,De).subarray(14,18),c(this,Js).push(NaN,NaN,NaN,NaN,((L+d)/2-n)/o,((I+h)/2-r)/l),!0):([L,I,d,h,p,m]=c(this,De).subarray(0,6),c(this,ji).push(((L+5*d)/6-n)/o,((I+5*h)/6-r)/l,((5*d+p)/6-n)/o,((5*h+m)/6-r)/l,((d+p)/2-n)/o,((h+m)/2-r)/l),[p,m,d,h,L,I]=c(this,De).subarray(12,18),c(this,Js).push(((L+5*d)/6-n)/o,((I+5*h)/6-r)/l,((5*d+p)/6-n)/o,((5*h+m)/6-r)/l,((d+p)/2-n)/o,((h+m)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,ji),t=c(this,Js);if(isNaN(c(this,De)[6])&&!this.isEmpty())return P(this,Dt,V_).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);P(this,Dt,G_).call(this,n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return P(this,Dt,W_).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,r,o,l){return new K_(e,t,n,r,o,l)}getOutlines(){var C;const e=c(this,ji),t=c(this,Js),n=c(this,De),[r,o,l,d]=c(this,is),h=new Float32Array((((C=c(this,Io))==null?void 0:C.length)??0)+2);for(let y=0,w=h.length-2;y<w;y+=2)h[y]=(c(this,Io)[y]-r)/l,h[y+1]=(c(this,Io)[y+1]-o)/d;if(h[h.length-2]=(c(this,ll)-r)/l,h[h.length-1]=(c(this,cl)-o)/d,isNaN(n[6])&&!this.isEmpty())return P(this,Dt,q_).call(this,h);const p=new Float32Array(c(this,ji).length+24+c(this,Js).length);let m=e.length;for(let y=0;y<m;y+=2){if(isNaN(e[y])){p[y]=p[y+1]=NaN;continue}p[y]=e[y],p[y+1]=e[y+1]}m=P(this,Dt,Y_).call(this,p,m);for(let y=t.length-6;y>=6;y-=6)for(let w=0;w<6;w+=2){if(isNaN(t[y+w])){p[m]=p[m+1]=NaN,m+=2;continue}p[m]=t[y+w],p[m+1]=t[y+w+1],m+=2}return P(this,Dt,X_).call(this,p,m),this.newFreeDrawOutline(p,h,c(this,is),c(this,nu),c(this,eu),c(this,tu))}};is=new WeakMap,Js=new WeakMap,eu=new WeakMap,tu=new WeakMap,ji=new WeakMap,De=new WeakMap,ll=new WeakMap,cl=new WeakMap,hf=new WeakMap,ff=new WeakMap,nu=new WeakMap,su=new WeakMap,Io=new WeakMap,pf=new WeakMap,fm=new WeakMap,pm=new WeakMap,Dt=new WeakSet,zd=function(){const e=c(this,De).subarray(4,6),t=c(this,De).subarray(16,18),[n,r,o,l]=c(this,is);return[(c(this,ll)+(e[0]-t[0])/2-n)/o,(c(this,cl)+(e[1]-t[1])/2-r)/l,(c(this,ll)+(t[0]-e[0])/2-n)/o,(c(this,cl)+(t[1]-e[1])/2-r)/l]},V_=function(){const[e,t,n,r]=c(this,is),[o,l,d,h]=P(this,Dt,zd).call(this);return`M${(c(this,De)[2]-e)/n} ${(c(this,De)[3]-t)/r} L${(c(this,De)[4]-e)/n} ${(c(this,De)[5]-t)/r} L${o} ${l} L${d} ${h} L${(c(this,De)[16]-e)/n} ${(c(this,De)[17]-t)/r} L${(c(this,De)[14]-e)/n} ${(c(this,De)[15]-t)/r} Z`},W_=function(e){const t=c(this,Js);e.push(`L${t[4]} ${t[5]} Z`)},G_=function(e){const[t,n,r,o]=c(this,is),l=c(this,De).subarray(4,6),d=c(this,De).subarray(16,18),[h,p,m,C]=P(this,Dt,zd).call(this);e.push(`L${(l[0]-t)/r} ${(l[1]-n)/o} L${h} ${p} L${m} ${C} L${(d[0]-t)/r} ${(d[1]-n)/o}`)},q_=function(e){const t=c(this,De),[n,r,o,l]=c(this,is),[d,h,p,m]=P(this,Dt,zd).call(this),C=new Float32Array(36);return C.set([NaN,NaN,NaN,NaN,(t[2]-n)/o,(t[3]-r)/l,NaN,NaN,NaN,NaN,(t[4]-n)/o,(t[5]-r)/l,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(t[16]-n)/o,(t[17]-r)/l,NaN,NaN,NaN,NaN,(t[14]-n)/o,(t[15]-r)/l],0),this.newFreeDrawOutline(C,e,c(this,is),c(this,nu),c(this,eu),c(this,tu))},X_=function(e,t){const n=c(this,Js);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},Y_=function(e,t){const n=c(this,De).subarray(4,6),r=c(this,De).subarray(16,18),[o,l,d,h]=c(this,is),[p,m,C,y]=P(this,Dt,zd).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-o)/d,(n[1]-l)/h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,C,y,NaN,NaN,NaN,NaN,(r[0]-o)/d,(r[1]-l)/h],t),t+=24},k(ur,pf,8),k(ur,fm,2),k(ur,pm,c(ur,pf)+c(ur,fm));let Y1=ur;var iu,ul,Pr,mf,rs,gf,wt,mm,Z_;class K_ extends oe{constructor(t,n,r,o,l,d){super();k(this,mm);k(this,iu);k(this,ul,new Float32Array(4));k(this,Pr);k(this,mf);k(this,rs);k(this,gf);k(this,wt);E(this,wt,t),E(this,rs,n),E(this,iu,r),E(this,gf,o),E(this,Pr,l),E(this,mf,d),this.lastPoint=[NaN,NaN],P(this,mm,Z_).call(this,d);const[h,p,m,C]=c(this,ul);for(let y=0,w=t.length;y<w;y+=2)t[y]=(t[y]-h)/m,t[y+1]=(t[y+1]-p)/C;for(let y=0,w=n.length;y<w;y+=2)n[y]=(n[y]-h)/m,n[y+1]=(n[y+1]-p)/C}toSVGPath(){const t=[`M${c(this,wt)[4]} ${c(this,wt)[5]}`];for(let n=6,r=c(this,wt).length;n<r;n+=6){if(isNaN(c(this,wt)[n])){t.push(`L${c(this,wt)[n+4]} ${c(this,wt)[n+5]}`);continue}t.push(`C${c(this,wt)[n]} ${c(this,wt)[n+1]} ${c(this,wt)[n+2]} ${c(this,wt)[n+3]} ${c(this,wt)[n+4]} ${c(this,wt)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,r,o],l){const d=r-t,h=o-n;let p,m;switch(l){case 0:p=oe._rescale(c(this,wt),t,o,d,-h),m=oe._rescale(c(this,rs),t,o,d,-h);break;case 90:p=oe._rescaleAndSwap(c(this,wt),t,n,d,h),m=oe._rescaleAndSwap(c(this,rs),t,n,d,h);break;case 180:p=oe._rescale(c(this,wt),r,n,-d,h),m=oe._rescale(c(this,rs),r,n,-d,h);break;case 270:p=oe._rescaleAndSwap(c(this,wt),r,o,-d,-h),m=oe._rescaleAndSwap(c(this,rs),r,o,-d,-h);break}return{outline:Array.from(p),points:[Array.from(m)]}}get box(){return c(this,ul)}newOutliner(t,n,r,o,l,d=0){return new Y1(t,n,r,o,l,d)}getNewOutline(t,n){const[r,o,l,d]=c(this,ul),[h,p,m,C]=c(this,iu),y=l*m,w=d*C,x=r*m+h,A=o*C+p,T=this.newOutliner({x:c(this,rs)[0]*y+x,y:c(this,rs)[1]*w+A},c(this,iu),c(this,gf),t,c(this,mf),n??c(this,Pr));for(let N=2;N<c(this,rs).length;N+=2)T.add({x:c(this,rs)[N]*y+x,y:c(this,rs)[N+1]*w+A});return T.getOutlines()}}iu=new WeakMap,ul=new WeakMap,Pr=new WeakMap,mf=new WeakMap,rs=new WeakMap,gf=new WeakMap,wt=new WeakMap,mm=new WeakSet,Z_=function(t){const n=c(this,wt);let r=n[4],o=n[5],l=r,d=o,h=r,p=o,m=r,C=o;const y=t?Math.max:Math.min;for(let x=6,A=n.length;x<A;x+=6){if(isNaN(n[x]))l=Math.min(l,n[x+4]),d=Math.min(d,n[x+5]),h=Math.max(h,n[x+4]),p=Math.max(p,n[x+5]),C<n[x+5]?(m=n[x+4],C=n[x+5]):C===n[x+5]&&(m=y(m,n[x+4]));else{const T=ve.bezierBoundingBox(r,o,...n.slice(x,x+6));l=Math.min(l,T[0]),d=Math.min(d,T[1]),h=Math.max(h,T[2]),p=Math.max(p,T[3]),C<T[3]?(m=T[2],C=T[3]):C===T[3]&&(m=y(m,T[2]))}r=n[x+4],o=n[x+5]}const w=c(this,ul);w[0]=l-c(this,Pr),w[1]=d-c(this,Pr),w[2]=h-l+2*c(this,Pr),w[3]=p-d+2*c(this,Pr),this.lastPoint=[m,C]};var vf,yf,Do,ei,Tn,Q_,R1,J_,e8,V0;class U0{constructor(e,t=0,n=0,r=!0){k(this,Tn);k(this,vf);k(this,yf);k(this,Do,[]);k(this,ei,[]);let o=1/0,l=-1/0,d=1/0,h=-1/0;const p=10**-4;for(const{x:T,y:N,width:L,height:I}of e){const M=Math.floor((T-t)/p)*p,F=Math.ceil((T+L+t)/p)*p,z=Math.floor((N-t)/p)*p,U=Math.ceil((N+I+t)/p)*p,q=[M,z,U,!0],Y=[F,z,U,!1];c(this,Do).push(q,Y),o=Math.min(o,M),l=Math.max(l,F),d=Math.min(d,z),h=Math.max(h,U)}const m=l-o+2*n,C=h-d+2*n,y=o-n,w=d-n,x=c(this,Do).at(r?-1:-2),A=[x[0],x[2]];for(const T of c(this,Do)){const[N,L,I]=T;T[0]=(N-y)/m,T[1]=(L-w)/C,T[2]=(I-w)/C}E(this,vf,new Float32Array([y,w,m,C])),E(this,yf,A)}getOutlines(){c(this,Do).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of c(this,Do))t[3]?(e.push(...P(this,Tn,V0).call(this,t)),P(this,Tn,J_).call(this,t)):(P(this,Tn,e8).call(this,t),e.push(...P(this,Tn,V0).call(this,t)));return P(this,Tn,Q_).call(this,e)}}vf=new WeakMap,yf=new WeakMap,Do=new WeakMap,ei=new WeakMap,Tn=new WeakSet,Q_=function(e){const t=[],n=new Set;for(const l of e){const[d,h,p]=l;t.push([d,h,l],[d,p,l])}t.sort((l,d)=>l[1]-d[1]||l[0]-d[0]);for(let l=0,d=t.length;l<d;l+=2){const h=t[l][2],p=t[l+1][2];h.push(p),p.push(h),n.add(h),n.add(p)}const r=[];let o;for(;n.size>0;){const l=n.values().next().value;let[d,h,p,m,C]=l;n.delete(l);let y=d,w=h;for(o=[d,p],r.push(o);;){let x;if(n.has(m))x=m;else if(n.has(C))x=C;else break;n.delete(x),[d,h,p,m,C]=x,y!==d&&(o.push(y,w,d,w===h?h:p),y=d),w=w===h?p:h}o.push(y,w)}return new iN(r,c(this,vf),c(this,yf))},R1=function(e){const t=c(this,ei);let n=0,r=t.length-1;for(;n<=r;){const o=n+r>>1,l=t[o][0];if(l===e)return o;l<e?n=o+1:r=o-1}return r+1},J_=function([,e,t]){const n=P(this,Tn,R1).call(this,e);c(this,ei).splice(n,0,[e,t])},e8=function([,e,t]){const n=P(this,Tn,R1).call(this,e);for(let r=n;r<c(this,ei).length;r++){const[o,l]=c(this,ei)[r];if(o!==e)break;if(o===e&&l===t){c(this,ei).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[o,l]=c(this,ei)[r];if(o!==e)break;if(o===e&&l===t){c(this,ei).splice(r,1);return}}},V0=function(e){const[t,n,r]=e,o=[[t,n,r]],l=P(this,Tn,R1).call(this,r);for(let d=0;d<l;d++){const[h,p]=c(this,ei)[d];for(let m=0,C=o.length;m<C;m++){const[,y,w]=o[m];if(!(p<=y||w<=h)){if(y>=h){if(w>p)o[m][1]=p;else{if(C===1)return[];o.splice(m,1),m--,C--}continue}o[m][2]=h,w>p&&o.push([t,p,w])}}}return o};var Cf,ru;class iN extends oe{constructor(t,n,r){super();k(this,Cf);k(this,ru);E(this,ru,t),E(this,Cf,n),this.lastPoint=r}toSVGPath(){const t=[];for(const n of c(this,ru)){let[r,o]=n;t.push(`M${r} ${o}`);for(let l=2;l<n.length;l+=2){const d=n[l],h=n[l+1];d===r?(t.push(`V${h}`),o=h):h===o&&(t.push(`H${d}`),r=d)}t.push("Z")}return t.join(" ")}serialize([t,n,r,o],l){const d=[],h=r-t,p=o-n;for(const m of c(this,ru)){const C=new Array(m.length);for(let y=0;y<m.length;y+=2)C[y]=t+m[y]*h,C[y+1]=o-m[y+1]*p;d.push(C)}return d}get box(){return c(this,Cf)}get classNamesForOutlining(){return["highlightOutline"]}}Cf=new WeakMap,ru=new WeakMap;class W0 extends Y1{newFreeDrawOutline(e,t,n,r,o,l){return new rN(e,t,n,r,o,l)}}class rN extends K_{newOutliner(e,t,n,r,o,l=0){return new W0(e,t,n,r,o,l)}}var ti,dl,ou,It,_f,au,wf,xf,jo,ni,lu,Sf,Ke,G0,q0,X0,ga,t8,fo;const Bn=class Bn{constructor({editor:e=null,uiManager:t=null}){k(this,Ke);k(this,ti,null);k(this,dl,null);k(this,ou);k(this,It,null);k(this,_f,!1);k(this,au,!1);k(this,wf,null);k(this,xf);k(this,jo,null);k(this,ni,null);k(this,lu);var n;e?(E(this,au,!1),E(this,lu,Be.HIGHLIGHT_COLOR),E(this,wf,e)):(E(this,au,!0),E(this,lu,Be.HIGHLIGHT_DEFAULT_COLOR)),E(this,ni,(e==null?void 0:e._uiManager)||t),E(this,xf,c(this,ni)._eventBus),E(this,ou,(e==null?void 0:e.color)||((n=c(this,ni))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),c(Bn,Sf)||E(Bn,Sf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return je(this,"_keyboardManager",new Of([[["Escape","mac+Escape"],Bn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Bn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Bn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Bn.prototype._moveToPrevious],[["Home","mac+Home"],Bn.prototype._moveToBeginning],[["End","mac+End"],Bn.prototype._moveToEnd]]))}renderButton(){const e=E(this,ti,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=c(this,ni)._signal;e.addEventListener("click",P(this,Ke,ga).bind(this),{signal:t}),e.addEventListener("keydown",P(this,Ke,X0).bind(this),{signal:t});const n=E(this,dl,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=c(this,ou),e.append(n),e}renderMainDropdown(){const e=E(this,It,P(this,Ke,G0).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,ti)){P(this,Ke,ga).call(this,e);return}const t=e.target.getAttribute("data-color");t&&P(this,Ke,q0).call(this,t,e)}_moveToNext(e){var t,n;if(!c(this,Ke,fo)){P(this,Ke,ga).call(this,e);return}if(e.target===c(this,ti)){(t=c(this,It).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=c(this,It))==null?void 0:t.firstChild)||e.target===c(this,ti)){c(this,Ke,fo)&&this._hideDropdownFromKeyboard();return}c(this,Ke,fo)||P(this,Ke,ga).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!c(this,Ke,fo)){P(this,Ke,ga).call(this,e);return}(t=c(this,It).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,Ke,fo)){P(this,Ke,ga).call(this,e);return}(t=c(this,It).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=c(this,It))==null||e.classList.add("hidden"),(t=c(this,jo))==null||t.abort(),E(this,jo,null)}_hideDropdownFromKeyboard(){var e;if(!c(this,au)){if(!c(this,Ke,fo)){(e=c(this,wf))==null||e.unselect();return}this.hideDropdown(),c(this,ti).focus({preventScroll:!0,focusVisible:c(this,_f)})}}updateColor(e){if(c(this,dl)&&(c(this,dl).style.backgroundColor=e),!c(this,It))return;const t=c(this,ni).highlightColors.values();for(const n of c(this,It).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=c(this,ti))==null||e.remove(),E(this,ti,null),E(this,dl,null),(t=c(this,It))==null||t.remove(),E(this,It,null)}};ti=new WeakMap,dl=new WeakMap,ou=new WeakMap,It=new WeakMap,_f=new WeakMap,au=new WeakMap,wf=new WeakMap,xf=new WeakMap,jo=new WeakMap,ni=new WeakMap,lu=new WeakMap,Sf=new WeakMap,Ke=new WeakSet,G0=function(){const e=document.createElement("div"),t=c(this,ni)._signal;e.addEventListener("contextmenu",hi,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of c(this,ni).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=n,o.setAttribute("data-l10n-id",c(Bn,Sf)[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=r,o.setAttribute("aria-selected",r===c(this,ou)),o.addEventListener("click",P(this,Ke,q0).bind(this,r),{signal:t}),e.append(o)}return e.addEventListener("keydown",P(this,Ke,X0).bind(this),{signal:t}),e},q0=function(e,t){t.stopPropagation(),c(this,xf).dispatch("switchannotationeditorparams",{source:this,type:c(this,lu),value:e})},X0=function(e){Bn._keyboardManager.exec(this,e)},ga=function(e){if(c(this,Ke,fo)){this.hideDropdown();return}if(E(this,_f,e.detail===0),c(this,jo)||(E(this,jo,new AbortController),window.addEventListener("pointerdown",P(this,Ke,t8).bind(this),{signal:c(this,ni).combinedSignal(c(this,jo))})),c(this,It)){c(this,It).classList.remove("hidden");return}const t=E(this,It,P(this,Ke,G0).call(this));c(this,ti).append(t)},t8=function(e){var t;(t=c(this,It))!=null&&t.contains(e.target)||this.hideDropdown()},fo=function(){return c(this,It)&&!c(this,It).classList.contains("hidden")},k(Bn,Sf,null);let K1=Bn;var cu,Ef,Nr,hl,uu,Hn,Af,bf,fl,ks,os,Yt,du,Lr,un,hu,Ts,kf,Pe,Y0,M1,n8,s8,i8,K0,va,Rs,hc,r8,I1,Hd,o8,a8,l8,c8,u8;const We=class We extends pt{constructor(t){super({...t,name:"highlightEditor"});k(this,Pe);k(this,cu,null);k(this,Ef,0);k(this,Nr);k(this,hl,null);k(this,uu,null);k(this,Hn,null);k(this,Af,null);k(this,bf,0);k(this,fl,null);k(this,ks,null);k(this,os,null);k(this,Yt,!1);k(this,du,null);k(this,Lr);k(this,un,null);k(this,hu,"");k(this,Ts);k(this,kf,"");this.color=t.color||We._defaultColor,E(this,Ts,t.thickness||We._defaultThickness),E(this,Lr,t.opacity||We._defaultOpacity),E(this,Nr,t.boxes||null),E(this,kf,t.methodOfCreation||""),E(this,hu,t.text||""),this._isDraggable=!1,t.highlightId>-1?(E(this,Yt,!0),P(this,Pe,M1).call(this,t),P(this,Pe,va).call(this)):c(this,Nr)&&(E(this,cu,t.anchorNode),E(this,Ef,t.anchorOffset),E(this,Af,t.focusNode),E(this,bf,t.focusOffset),P(this,Pe,Y0).call(this),P(this,Pe,va).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=We.prototype;return je(this,"_keyboardManager",new Of([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,Yt)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,Ts),methodOfCreation:c(this,kf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var r;pt.initialize(t,n),We._defaultColor||(We._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Be.HIGHLIGHT_DEFAULT_COLOR:We._defaultColor=n;break;case Be.HIGHLIGHT_THICKNESS:We._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return c(this,du)}updateParams(t,n){switch(t){case Be.HIGHLIGHT_COLOR:P(this,Pe,n8).call(this,n);break;case Be.HIGHLIGHT_THICKNESS:P(this,Pe,s8).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Be.HIGHLIGHT_DEFAULT_COLOR,We._defaultColor],[Be.HIGHLIGHT_THICKNESS,We._defaultThickness]]}get propertiesToUpdate(){return[[Be.HIGHLIGHT_COLOR,this.color||We._defaultColor],[Be.HIGHLIGHT_THICKNESS,c(this,Ts)||We._defaultThickness],[Be.HIGHLIGHT_FREE,c(this,Yt)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(E(this,uu,new K1({editor:this})),t.addColorPicker(c(this,uu))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(P(this,Pe,Hd).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,P(this,Pe,Hd).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){P(this,Pe,K0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(P(this,Pe,va).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?P(this,Pe,K0).call(this):t&&(P(this,Pe,va).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var o,l,d;const{drawLayer:n}=this.parent;let r;c(this,Yt)?(t=(t-this.rotation+360)%360,r=P(o=We,Rs,hc).call(o,c(this,ks).box,t)):r=P(l=We,Rs,hc).call(l,[this.x,this.y,this.width,this.height],t),n.updateProperties(c(this,os),{bbox:r,root:{"data-main-rotation":t}}),n.updateProperties(c(this,un),{bbox:P(d=We,Rs,hc).call(d,c(this,Hn).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();c(this,hu)&&(t.setAttribute("aria-label",c(this,hu)),t.setAttribute("role","mark")),c(this,Yt)?t.classList.add("free"):this.div.addEventListener("keydown",P(this,Pe,r8).bind(this),{signal:this._uiManager._signal});const n=E(this,fl,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=c(this,hl);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),G1(this,c(this,fl),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(c(this,un),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(c(this,un),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:P(this,Pe,I1).call(this,!0);break;case 1:case 3:P(this,Pe,I1).call(this,!1);break}}select(){var t;super.select(),c(this,un)&&((t=this.parent)==null||t.drawLayer.updateProperties(c(this,un),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),c(this,un)&&((t=this.parent)==null||t.drawLayer.updateProperties(c(this,un),{rootClass:{selected:!1}}),c(this,Yt)||P(this,Pe,I1).call(this,!1))}get _mustFixPosition(){return!c(this,Yt)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(c(this,os),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(c(this,un),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:r,x:o,y:l}){const{x:d,y:h,width:p,height:m}=r.getBoundingClientRect(),C=new AbortController,y=t.combinedSignal(C),w=x=>{C.abort(),P(this,Rs,c8).call(this,t,x)};window.addEventListener("blur",w,{signal:y}),window.addEventListener("pointerup",w,{signal:y}),window.addEventListener("pointerdown",hs,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",hi,{signal:y}),r.addEventListener("pointermove",P(this,Rs,l8).bind(this,t),{signal:y}),this._freeHighlight=new W0({x:o,y:l},[d,h,p,m],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,r){var A,T,N,L;let o=null;if(t instanceof j_){const{data:{quadPoints:I,rect:M,rotation:F,id:z,color:U,opacity:q,popupRef:Y},parent:{page:{pageNumber:ie}}}=t;o=t={annotationType:Ne.HIGHLIGHT,color:Array.from(U),opacity:q,quadPoints:I,boxes:null,pageIndex:ie-1,rect:M.slice(0),rotation:F,id:z,deleted:!1,popupRef:Y}}else if(t instanceof D3){const{data:{inkLists:I,rect:M,rotation:F,id:z,color:U,borderStyle:{rawWidth:q},popupRef:Y},parent:{page:{pageNumber:ie}}}=t;o=t={annotationType:Ne.HIGHLIGHT,color:Array.from(U),thickness:q,inkLists:I,boxes:null,pageIndex:ie-1,rect:M.slice(0),rotation:F,id:z,deleted:!1,popupRef:Y}}const{color:l,quadPoints:d,inkLists:h,opacity:p}=t,m=await super.deserialize(t,n,r);m.color=ve.makeHexColor(...l),E(m,Lr,p||1),h&&E(m,Ts,t.thickness),m.annotationElementId=t.id||null,m._initialData=o;const[C,y]=m.pageDimensions,[w,x]=m.pageTranslation;if(d){const I=E(m,Nr,[]);for(let M=0;M<d.length;M+=8)I.push({x:(d[M]-w)/C,y:1-(d[M+1]-x)/y,width:(d[M+2]-d[M])/C,height:(d[M+1]-d[M+5])/y});P(A=m,Pe,Y0).call(A),P(T=m,Pe,va).call(T),m.rotate(m.rotation)}else if(h){E(m,Yt,!0);const I=h[0],M={x:I[0]-w,y:y-(I[1]-x)},F=new W0(M,[0,0,C,y],1,c(m,Ts)/2,!0,.001);for(let q=0,Y=I.length;q<Y;q+=2)M.x=I[q]-w,M.y=y-(I[q+1]-x),F.add(M);const{id:z,clipPathId:U}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:m.color,"fill-opacity":m._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:F.toSVGPath()}},!0,!0);P(N=m,Pe,M1).call(N,{highlightOutlines:F.getOutlines(),highlightId:z,clipPathId:U}),P(L=m,Pe,va).call(L)}return m}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=pt._colorManager.convert(this.color),o={annotationType:Ne.HIGHLIGHT,color:r,opacity:c(this,Lr),thickness:c(this,Ts),quadPoints:P(this,Pe,o8).call(this),outlines:P(this,Pe,a8).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:P(this,Pe,Hd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!P(this,Pe,u8).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};cu=new WeakMap,Ef=new WeakMap,Nr=new WeakMap,hl=new WeakMap,uu=new WeakMap,Hn=new WeakMap,Af=new WeakMap,bf=new WeakMap,fl=new WeakMap,ks=new WeakMap,os=new WeakMap,Yt=new WeakMap,du=new WeakMap,Lr=new WeakMap,un=new WeakMap,hu=new WeakMap,Ts=new WeakMap,kf=new WeakMap,Pe=new WeakSet,Y0=function(){const t=new U0(c(this,Nr),.001);E(this,ks,t.getOutlines()),[this.x,this.y,this.width,this.height]=c(this,ks).box;const n=new U0(c(this,Nr),.0025,.001,this._uiManager.direction==="ltr");E(this,Hn,n.getOutlines());const{lastPoint:r}=c(this,Hn);E(this,du,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},M1=function({highlightOutlines:t,highlightId:n,clipPathId:r}){var C,y;if(E(this,ks,t),E(this,Hn,t.getNewOutline(c(this,Ts)/2+1.5,.0025)),n>=0)E(this,os,n),E(this,hl,r),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),E(this,un,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:c(this,Hn).box,path:{d:c(this,Hn).toSVGPath()}},!0));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(c(this,os),{bbox:P(C=We,Rs,hc).call(C,c(this,ks).box,(w-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(c(this,un),{bbox:P(y=We,Rs,hc).call(y,c(this,Hn).box,w),path:{d:c(this,Hn).toSVGPath()}})}const[l,d,h,p]=t.box;switch(this.rotation){case 0:this.x=l,this.y=d,this.width=h,this.height=p;break;case 90:{const[w,x]=this.parentDimensions;this.x=d,this.y=1-l,this.width=h*x/w,this.height=p*w/x;break}case 180:this.x=1-l,this.y=1-d,this.width=h,this.height=p;break;case 270:{const[w,x]=this.parentDimensions;this.x=1-d,this.y=l,this.width=h*x/w,this.height=p*w/x;break}}const{lastPoint:m}=c(this,Hn);E(this,du,[(m[0]-l)/h,(m[1]-d)/p])},n8=function(t){const n=(l,d)=>{var h,p;this.color=l,E(this,Lr,d),(h=this.parent)==null||h.drawLayer.updateProperties(c(this,os),{root:{fill:l,"fill-opacity":d}}),(p=c(this,uu))==null||p.updateColor(l)},r=this.color,o=c(this,Lr);this.addCommands({cmd:n.bind(this,t,We._defaultOpacity),undo:n.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Be.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},s8=function(t){const n=c(this,Ts),r=o=>{E(this,Ts,o),P(this,Pe,i8).call(this,o)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Be.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},i8=function(t){if(!c(this,Yt))return;P(this,Pe,M1).call(this,{highlightOutlines:c(this,ks).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},K0=function(){c(this,os)===null||!this.parent||(this.parent.drawLayer.remove(c(this,os)),E(this,os,null),this.parent.drawLayer.remove(c(this,un)),E(this,un,null))},va=function(t=this.parent){c(this,os)===null&&({id:yn(this,os)._,clipPathId:yn(this,hl)._}=t.drawLayer.draw({bbox:c(this,ks).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":c(this,Lr)},rootClass:{highlight:!0,free:c(this,Yt)},path:{d:c(this,ks).toSVGPath()}},!1,!0),E(this,un,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:c(this,Yt)},bbox:c(this,Hn).box,path:{d:c(this,Hn).toSVGPath()}},c(this,Yt))),c(this,fl)&&(c(this,fl).style.clipPath=c(this,hl)))},Rs=new WeakSet,hc=function([t,n,r,o],l){switch(l){case 90:return[1-n-o,t,o,r];case 180:return[1-t-r,1-n-o,r,o];case 270:return[n,1-t-r,o,r]}return[t,n,r,o]},r8=function(t){We._keyboardManager.exec(this,t)},I1=function(t){if(!c(this,cu))return;const n=window.getSelection();t?n.setPosition(c(this,cu),c(this,Ef)):n.setPosition(c(this,Af),c(this,bf))},Hd=function(){return c(this,Yt)?this.rotation:0},o8=function(){if(c(this,Yt))return null;const[t,n]=this.pageDimensions,[r,o]=this.pageTranslation,l=c(this,Nr),d=new Float32Array(l.length*8);let h=0;for(const{x:p,y:m,width:C,height:y}of l){const w=p*t+r,x=(1-m)*n+o;d[h]=d[h+4]=w,d[h+1]=d[h+3]=x,d[h+2]=d[h+6]=w+C*t,d[h+5]=d[h+7]=x-y*n,h+=8}return d},a8=function(t){return c(this,ks).serialize(t,P(this,Pe,Hd).call(this))},l8=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},c8=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},u8=function(t){const{color:n}=this._initialData;return t.color.some((r,o)=>r!==n[o])},k(We,Rs),ye(We,"_defaultColor",null),ye(We,"_defaultOpacity",1),ye(We,"_defaultThickness",12),ye(We,"_type","highlight"),ye(We,"_editorType",Ne.HIGHLIGHT),ye(We,"_freeHighlightId",-1),ye(We,"_freeHighlight",null),ye(We,"_freeHighlightClipId","");let Z1=We;var pl;class oN{constructor(){k(this,pl,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))this.updateProperty(t,n)}updateSVGProperty(e,t){c(this,pl)[e]=t}toSVGProperties(){const e=c(this,pl);return E(this,pl,Object.create(null)),{root:e}}reset(){E(this,pl,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Je("Not implemented")}}pl=new WeakMap;var as,fu,Ht,ml,gl,Fo,Oo,Bo,vl,He,Q0,J0,e3,Ud,d8,D1,Vd,fc;const le=class le extends pt{constructor(t){super(t);k(this,He);k(this,as,null);k(this,fu);ye(this,"_drawId",null);E(this,fu,t.mustBeCommitted||!1),t.drawOutlines&&(P(this,He,Q0).call(this,t),P(this,He,Ud).call(this))}static _mergeSVGProperties(t,n){const r=new Set(Object.keys(t));for(const[o,l]of Object.entries(n))r.has(o)?Object.assign(t[o],l):t[o]=l;return t}static getDefaultDrawingOptions(t){Je("Not implemented")}static get typesMap(){Je("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(c(le,Ht).updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[r,o]of this.typesMap)t.push([r,n[o]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[r,o]of this.constructor.typesMap)t.push([r,n[o]]);return t}_updateProperty(t,n,r){const o=this._drawingOptions,l=o[n],d=h=>{var m;o.updateProperty(n,h);const p=c(this,as).updateProperty(n,h);p&&P(this,He,Vd).call(this,p),(m=this.parent)==null||m.drawLayer.updateProperties(this._drawId,o.toSVGProperties())};this.addCommands({cmd:d.bind(this,r),undo:d.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,le._mergeSVGProperties(c(this,as).getPathResizingSVGProperties(P(this,He,D1).call(this)),{bbox:P(this,He,fc).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,le._mergeSVGProperties(c(this,as).getPathResizedSVGProperties(P(this,He,D1).call(this)),{bbox:P(this,He,fc).call(this)}))}_onTranslating(t,n){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:P(this,He,fc).call(this,t,n)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,le._mergeSVGProperties(c(this,as).getPathTranslatedSVGProperties(P(this,He,D1).call(this),this.parentDimensions),{bbox:P(this,He,fc).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,c(this,fu)&&(E(this,fu,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){P(this,He,e3).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(P(this,He,Ud).call(this),P(this,He,Vd).call(this,c(this,as).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),P(this,He,e3).call(this)):t&&(this._uiManager.addShouldRescale(this),P(this,He,Ud).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,le._mergeSVGProperties({bbox:P(this,He,fc).call(this)},c(this,as).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&P(this,He,Vd).call(this,c(this,as).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const t=super.render();t.classList.add("draw");const n=document.createElement("div");t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal";const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),t}static createDrawerInstance(t,n,r,o,l){Je("Not implemented")}static startDrawing(t,n,r,o){var T;const{target:l,offsetX:d,offsetY:h,pointerId:p,pointerType:m}=o;if(c(le,Oo)&&c(le,Oo)!==m)return;const{viewport:{rotation:C}}=t,{width:y,height:w}=l.getBoundingClientRect(),x=E(le,ml,new AbortController),A=t.combinedSignal(x);if(c(le,Fo)||E(le,Fo,p),c(le,Oo)??E(le,Oo,m),window.addEventListener("pointerup",N=>{var L;c(le,Fo)===N.pointerId?this._endDraw(N):(L=c(le,Bo))==null||L.delete(N.pointerId)},{signal:A}),window.addEventListener("pointercancel",N=>{var L;c(le,Fo)===N.pointerId?this._currentParent.endDrawingSession():(L=c(le,Bo))==null||L.delete(N.pointerId)},{signal:A}),window.addEventListener("pointerdown",N=>{c(le,Oo)===N.pointerType&&((c(le,Bo)||E(le,Bo,new Set)).add(N.pointerId),c(le,Ht).isCancellable()&&(c(le,Ht).removeLastElement(),c(le,Ht).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",hi,{signal:A}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:A}),l.addEventListener("touchmove",N=>{N.timeStamp===c(le,vl)&&hs(N)},{signal:A}),t.toggleDrawing(),(T=n._editorUndoBar)==null||T.hide(),c(le,Ht)){t.drawLayer.updateProperties(this._currentDrawId,c(le,Ht).startNew(d,h,y,w,C));return}n.updateUIForDefaultProperties(this),E(le,Ht,this.createDrawerInstance(d,h,y,w,C)),E(le,gl,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(c(le,gl).toSVGProperties(),c(le,Ht).defaultSVGProperties),!0,!1)}static _drawMove(t){var l;if(E(le,vl,-1),!c(le,Ht))return;const{offsetX:n,offsetY:r,pointerId:o}=t;if(c(le,Fo)===o){if(((l=c(le,Bo))==null?void 0:l.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,c(le,Ht).add(n,r)),E(le,vl,t.timeStamp),hs(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,E(le,Ht,null),E(le,gl,null),E(le,Oo,null),E(le,vl,NaN)),c(le,ml)&&(c(le,ml).abort(),E(le,ml,null),E(le,Fo,NaN),E(le,Bo,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),t&&n.drawLayer.updateProperties(this._currentDrawId,c(le,Ht).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=c(le,Ht),o=this._currentDrawId,l=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(o,r.setLastElement(l))},undo:()=>{n.drawLayer.updateProperties(o,r.removeLastElement())},mustExec:!1,type:Be.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Be.DRAW_STEP),!c(le,Ht).isEmpty()){const{pageDimensions:[r,o],scale:l}=n,d=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:c(le,Ht).getOutlines(r*l,o*l,l,this._INNER_MARGIN),drawingOptions:c(le,gl),mustBeCommitted:!t});return this._cleanup(!0),d}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,r,o,l,d){Je("Not implemented")}static async deserialize(t,n,r){var C,y;const{rawDims:{pageWidth:o,pageHeight:l,pageX:d,pageY:h}}=n.viewport,p=this.deserializeDraw(d,h,o,l,this._INNER_MARGIN,t),m=await super.deserialize(t,n,r);return m.createDrawingOptions(t),P(C=m,He,Q0).call(C,{drawOutlines:p}),P(y=m,He,Ud).call(y),m.onScaleChanging(),m.rotate(),m}serializeDraw(t){const[n,r]=this.pageTranslation,[o,l]=this.pageDimensions;return c(this,as).serialize([n,r,o,l],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};as=new WeakMap,fu=new WeakMap,Ht=new WeakMap,ml=new WeakMap,gl=new WeakMap,Fo=new WeakMap,Oo=new WeakMap,Bo=new WeakMap,vl=new WeakMap,He=new WeakSet,Q0=function({drawOutlines:t,drawId:n,drawingOptions:r}){E(this,as,t),this._drawingOptions||(this._drawingOptions=r),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=P(this,He,J0).call(this,t,this.parent),P(this,He,Vd).call(this,t.box)},J0=function(t,n){const{id:r}=n.drawLayer.draw(le._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},e3=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Ud=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=P(this,He,J0).call(this,c(this,as),t)}},d8=function([t,n,r,o]){const{parentDimensions:[l,d],rotation:h}=this;switch(h){case 90:return[n,1-t,r*(d/l),o*(l/d)];case 180:return[1-t,1-n,r,o];case 270:return[1-n,t,r*(d/l),o*(l/d)];default:return[t,n,r,o]}},D1=function(){const{x:t,y:n,width:r,height:o,parentDimensions:[l,d],rotation:h}=this;switch(h){case 90:return[1-n,t,r*(l/d),o*(d/l)];case 180:return[1-t,1-n,r,o];case 270:return[n,1-t,r*(l/d),o*(d/l)];default:return[t,n,r,o]}},Vd=function(t){if([this.x,this.y,this.width,this.height]=P(this,He,d8).call(this,t),this.div){this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)}this._onResized()},fc=function(){const{x:t,y:n,width:r,height:o,rotation:l,parentRotation:d,parentDimensions:[h,p]}=this;switch((l*4+d)/90){case 1:return[1-n-o,t,o,r];case 2:return[1-t-r,1-n-o,r,o];case 3:return[n,1-t-r,o,r];case 4:return[t,n-r*(h/p),o*(p/h),r*(h/p)];case 5:return[1-n,t,r*(h/p),o*(p/h)];case 6:return[1-t-o*(p/h),1-n,o*(p/h),r*(h/p)];case 7:return[n-r*(h/p),1-t-o*(p/h),r*(h/p),o*(p/h)];case 8:return[t-r,n-o,r,o];case 9:return[1-n,t-r,o,r];case 10:return[1-t,1-n,r,o];case 11:return[n-o,1-t,o,r];case 12:return[t-o*(p/h),n,o*(p/h),r*(h/p)];case 13:return[1-n-r*(h/p),t-o*(p/h),r*(h/p),o*(p/h)];case 14:return[1-t,1-n-r*(h/p),o*(p/h),r*(h/p)];case 15:return[n,1-t,r*(h/p),o*(p/h)];default:return[t,n,r,o]}},ye(le,"_currentDrawId",-1),ye(le,"_currentParent",null),k(le,Ht,null),k(le,ml,null),k(le,gl,null),k(le,Fo,NaN),k(le,Oo,null),k(le,Bo,null),k(le,vl,NaN),ye(le,"_INNER_MARGIN",3);let Z0=le;var Fi,Ut,Vt,yl,pu,Sn,Kt,Ps,Cl,_l,wl,mu,j1;class aN{constructor(e,t,n,r,o,l){k(this,mu);k(this,Fi,new Float64Array(6));k(this,Ut);k(this,Vt);k(this,yl);k(this,pu);k(this,Sn);k(this,Kt,"");k(this,Ps,0);k(this,Cl,new Q1);k(this,_l);k(this,wl);E(this,_l,n),E(this,wl,r),E(this,yl,o),E(this,pu,l),[e,t]=P(this,mu,j1).call(this,e,t);const d=E(this,Ut,[NaN,NaN,NaN,NaN,e,t]);E(this,Sn,[e,t]),E(this,Vt,[{line:d,points:c(this,Sn)}]),c(this,Fi).set(d,0)}updateProperty(e,t){e==="stroke-width"&&E(this,pu,t)}isEmpty(){return!c(this,Vt)||c(this,Vt).length===0}isCancellable(){return c(this,Sn).length<=10}add(e,t){[e,t]=P(this,mu,j1).call(this,e,t);const[n,r,o,l]=c(this,Fi).subarray(2,6),d=e-o,h=t-l;return Math.hypot(c(this,_l)*d,c(this,wl)*h)<=2?null:(c(this,Sn).push(e,t),isNaN(n)?(c(this,Fi).set([o,l,e,t],2),c(this,Ut).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(c(this,Fi)[0])&&c(this,Ut).splice(6,6),c(this,Fi).set([n,r,o,l,e,t],0),c(this,Ut).push(...oe.createBezierPoints(n,r,o,l,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(c(this,Sn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,r,o){E(this,_l,n),E(this,wl,r),E(this,yl,o),[e,t]=P(this,mu,j1).call(this,e,t);const l=E(this,Ut,[NaN,NaN,NaN,NaN,e,t]);E(this,Sn,[e,t]);const d=c(this,Vt).at(-1);return d&&(d.line=new Float32Array(d.line),d.points=new Float32Array(d.points)),c(this,Vt).push({line:l,points:c(this,Sn)}),c(this,Fi).set(l,0),E(this,Ps,0),this.toSVGPath(),null}getLastElement(){return c(this,Vt).at(-1)}setLastElement(e){return c(this,Vt)?(c(this,Vt).push(e),E(this,Ut,e.line),E(this,Sn,e.points),E(this,Ps,0),{path:{d:this.toSVGPath()}}):c(this,Cl).setLastElement(e)}removeLastElement(){if(!c(this,Vt))return c(this,Cl).removeLastElement();c(this,Vt).pop(),E(this,Kt,"");for(let e=0,t=c(this,Vt).length;e<t;e++){const{line:n,points:r}=c(this,Vt)[e];E(this,Ut,n),E(this,Sn,r),E(this,Ps,0),this.toSVGPath()}return{path:{d:c(this,Kt)}}}toSVGPath(){const e=oe.svgRound(c(this,Ut)[4]),t=oe.svgRound(c(this,Ut)[5]);if(c(this,Sn).length===2)return E(this,Kt,`${c(this,Kt)} M ${e} ${t} Z`),c(this,Kt);if(c(this,Sn).length<=6){const r=c(this,Kt).lastIndexOf("M");E(this,Kt,`${c(this,Kt).slice(0,r)} M ${e} ${t}`),E(this,Ps,6)}if(c(this,Sn).length===4){const r=oe.svgRound(c(this,Ut)[10]),o=oe.svgRound(c(this,Ut)[11]);return E(this,Kt,`${c(this,Kt)} L ${r} ${o}`),E(this,Ps,12),c(this,Kt)}const n=[];c(this,Ps)===0&&(n.push(`M ${e} ${t}`),E(this,Ps,6));for(let r=c(this,Ps),o=c(this,Ut).length;r<o;r+=6){const[l,d,h,p,m,C]=c(this,Ut).slice(r,r+6).map(oe.svgRound);n.push(`C${l} ${d} ${h} ${p} ${m} ${C}`)}return E(this,Kt,c(this,Kt)+n.join(" ")),E(this,Ps,c(this,Ut).length),c(this,Kt)}getOutlines(e,t,n,r){const o=c(this,Vt).at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),c(this,Cl).build(c(this,Vt),e,t,n,c(this,yl),c(this,pu),r),E(this,Fi,null),E(this,Ut,null),E(this,Vt,null),E(this,Kt,null),c(this,Cl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Fi=new WeakMap,Ut=new WeakMap,Vt=new WeakMap,yl=new WeakMap,pu=new WeakMap,Sn=new WeakMap,Kt=new WeakMap,Ps=new WeakMap,Cl=new WeakMap,_l=new WeakMap,wl=new WeakMap,mu=new WeakSet,j1=function(e,t){return oe._normalizePoint(e,t,c(this,_l),c(this,wl),c(this,yl))};var En,Tf,Pf,ls,Oi,Bi,gu,vu,yu,Qt,lr,h8,f8,p8;const z3=class z3 extends oe{constructor(){super(...arguments);k(this,Qt);k(this,En);k(this,Tf,0);k(this,Pf);k(this,ls);k(this,Oi);k(this,Bi);k(this,gu);k(this,vu);k(this,yu)}build(t,n,r,o,l,d,h){E(this,Oi,n),E(this,Bi,r),E(this,gu,o),E(this,vu,l),E(this,yu,d),E(this,Pf,h??0),E(this,ls,t),P(this,Qt,f8).call(this)}setLastElement(t){return c(this,ls).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return c(this,ls).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of c(this,ls)){if(t.push(`M${oe.svgRound(n[4])} ${oe.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12){t.push(`L${oe.svgRound(n[10])} ${oe.svgRound(n[11])}`);continue}for(let r=6,o=n.length;r<o;r+=6){const[l,d,h,p,m,C]=n.subarray(r,r+6).map(oe.svgRound);t.push(`C${l} ${d} ${h} ${p} ${m} ${C}`)}}return t.join("")}serialize([t,n,r,o],l){const d=[],h=[],[p,m,C,y]=P(this,Qt,h8).call(this);let w,x,A,T,N,L,I,M,F;switch(c(this,vu)){case 0:F=oe._rescale,w=t,x=n+o,A=r,T=-o,N=t+p*r,L=n+(1-m-y)*o,I=t+(p+C)*r,M=n+(1-m)*o;break;case 90:F=oe._rescaleAndSwap,w=t,x=n,A=r,T=o,N=t+m*r,L=n+p*o,I=t+(m+y)*r,M=n+(p+C)*o;break;case 180:F=oe._rescale,w=t+r,x=n,A=-r,T=o,N=t+(1-p-C)*r,L=n+m*o,I=t+(1-p)*r,M=n+(m+y)*o;break;case 270:F=oe._rescaleAndSwap,w=t+r,x=n+o,A=-r,T=-o,N=t+(1-m-y)*r,L=n+(1-p-C)*o,I=t+(1-m)*r,M=n+(1-p)*o;break}for(const{line:z,points:U}of c(this,ls))d.push(F(z,w,x,A,T,l?new Array(z.length):null)),h.push(F(U,w,x,A,T,l?new Array(U.length):null));return{lines:d,points:h,rect:[N,L,I,M]}}static deserialize(t,n,r,o,l,{paths:{lines:d,points:h},rotation:p,thickness:m}){const C=[];let y,w,x,A,T;switch(p){case 0:T=oe._rescale,y=-t/r,w=n/o+1,x=1/r,A=-1/o;break;case 90:T=oe._rescaleAndSwap,y=-n/o,w=-t/r,x=1/o,A=1/r;break;case 180:T=oe._rescale,y=t/r+1,w=-n/o,x=-1/r,A=1/o;break;case 270:T=oe._rescaleAndSwap,y=n/o+1,w=t/r+1,x=-1/o,A=-1/r;break}if(!d){d=[];for(const L of h){const I=L.length;if(I===2){d.push(new Float32Array([NaN,NaN,NaN,NaN,L[0],L[1]]));continue}if(I===4){d.push(new Float32Array([NaN,NaN,NaN,NaN,L[0],L[1],NaN,NaN,NaN,NaN,L[2],L[3]]));continue}const M=new Float32Array(3*(I-2));d.push(M);let[F,z,U,q]=L.subarray(0,4);M.set([NaN,NaN,NaN,NaN,F,z],0);for(let Y=4;Y<I;Y+=2){const ie=L[Y],he=L[Y+1];M.set(oe.createBezierPoints(F,z,U,q,ie,he),(Y-2)*3),[F,z,U,q]=[U,q,ie,he]}}}for(let L=0,I=d.length;L<I;L++)C.push({line:T(d[L].map(M=>M??NaN),y,w,x,A),points:T(h[L].map(M=>M??NaN),y,w,x,A)});const N=new z3;return N.build(C,r,o,1,p,m,l),N}get box(){return c(this,En)}updateProperty(t,n){return t==="stroke-width"?P(this,Qt,p8).call(this,n):null}updateParentDimensions([t,n],r){const[o,l]=P(this,Qt,lr).call(this);E(this,Oi,t),E(this,Bi,n),E(this,gu,r);const[d,h]=P(this,Qt,lr).call(this),p=d-o,m=h-l,C=c(this,En);return C[0]-=p,C[1]-=m,C[2]+=2*p,C[3]+=2*m,C}updateRotation(t){return E(this,Tf,t),{path:{transform:this.rotationTransform}}}get viewBox(){return c(this,En).map(oe.svgRound).join(" ")}get defaultProperties(){const[t,n]=c(this,En);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${oe.svgRound(t)} ${oe.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=c(this,En);let r=0,o=0,l=0,d=0,h=0,p=0;switch(c(this,Tf)){case 90:o=n/t,l=-t/n,h=t;break;case 180:r=-1,d=-1,h=t,p=n;break;case 270:o=-n/t,l=t/n,p=n;break;default:return""}return`matrix(${r} ${o} ${l} ${d} ${oe.svgRound(h)} ${oe.svgRound(p)})`}getPathResizingSVGProperties([t,n,r,o]){const[l,d]=P(this,Qt,lr).call(this),[h,p,m,C]=c(this,En);if(Math.abs(m-l)<=oe.PRECISION||Math.abs(C-d)<=oe.PRECISION){const T=t+r/2-(h+m/2),N=n+o/2-(p+C/2);return{path:{"transform-origin":`${oe.svgRound(t)} ${oe.svgRound(n)}`,transform:`${this.rotationTransform} translate(${T} ${N})`}}}const y=(r-2*l)/(m-2*l),w=(o-2*d)/(C-2*d),x=m/r,A=C/o;return{path:{"transform-origin":`${oe.svgRound(h)} ${oe.svgRound(p)}`,transform:`${this.rotationTransform} scale(${x} ${A}) translate(${oe.svgRound(l)} ${oe.svgRound(d)}) scale(${y} ${w}) translate(${oe.svgRound(-l)} ${oe.svgRound(-d)})`}}}getPathResizedSVGProperties([t,n,r,o]){const[l,d]=P(this,Qt,lr).call(this),h=c(this,En),[p,m,C,y]=h;if(h[0]=t,h[1]=n,h[2]=r,h[3]=o,Math.abs(C-l)<=oe.PRECISION||Math.abs(y-d)<=oe.PRECISION){const N=t+r/2-(p+C/2),L=n+o/2-(m+y/2);for(const{line:I,points:M}of c(this,ls))oe._translate(I,N,L,I),oe._translate(M,N,L,M);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${oe.svgRound(t)} ${oe.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const w=(r-2*l)/(C-2*l),x=(o-2*d)/(y-2*d),A=-w*(p+l)+t+l,T=-x*(m+d)+n+d;if(w!==1||x!==1||A!==0||T!==0)for(const{line:N,points:L}of c(this,ls))oe._rescale(N,A,T,w,x,N),oe._rescale(L,A,T,w,x,L);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${oe.svgRound(t)} ${oe.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],r){const[o,l]=r,d=c(this,En),h=t-d[0],p=n-d[1];if(c(this,Oi)===o&&c(this,Bi)===l)for(const{line:m,points:C}of c(this,ls))oe._translate(m,h,p,m),oe._translate(C,h,p,C);else{const m=c(this,Oi)/o,C=c(this,Bi)/l;E(this,Oi,o),E(this,Bi,l);for(const{line:y,points:w}of c(this,ls))oe._rescale(y,h,p,m,C,y),oe._rescale(w,h,p,m,C,w);d[2]*=m,d[3]*=C}return d[0]=t,d[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${oe.svgRound(t)} ${oe.svgRound(n)}`}}}get defaultSVGProperties(){const t=c(this,En);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${oe.svgRound(t[0])} ${oe.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}};En=new WeakMap,Tf=new WeakMap,Pf=new WeakMap,ls=new WeakMap,Oi=new WeakMap,Bi=new WeakMap,gu=new WeakMap,vu=new WeakMap,yu=new WeakMap,Qt=new WeakSet,lr=function(t=c(this,yu)){const n=c(this,Pf)+t/2*c(this,gu);return c(this,vu)%180===0?[n/c(this,Oi),n/c(this,Bi)]:[n/c(this,Bi),n/c(this,Oi)]},h8=function(){const[t,n,r,o]=c(this,En),[l,d]=P(this,Qt,lr).call(this,0);return[t+l,n+d,r-2*l,o-2*d]},f8=function(){const t=E(this,En,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:o}of c(this,ls)){if(o.length<=12){for(let h=4,p=o.length;h<p;h+=6){const[m,C]=o.subarray(h,h+2);t[0]=Math.min(t[0],m),t[1]=Math.min(t[1],C),t[2]=Math.max(t[2],m),t[3]=Math.max(t[3],C)}continue}let l=o[4],d=o[5];for(let h=6,p=o.length;h<p;h+=6){const[m,C,y,w,x,A]=o.subarray(h,h+6);ve.bezierBoundingBox(l,d,m,C,y,w,x,A,t),l=x,d=A}}const[n,r]=P(this,Qt,lr).call(this);t[0]=Math.min(1,Math.max(0,t[0]-n)),t[1]=Math.min(1,Math.max(0,t[1]-r)),t[2]=Math.min(1,Math.max(0,t[2]+n)),t[3]=Math.min(1,Math.max(0,t[3]+r)),t[2]-=t[0],t[3]-=t[1]},p8=function(t){const[n,r]=P(this,Qt,lr).call(this);E(this,yu,t);const[o,l]=P(this,Qt,lr).call(this),[d,h]=[o-n,l-r],p=c(this,En);return p[0]-=d,p[1]-=h,p[2]+=2*d,p[3]+=2*h,p};let Q1=z3;var Cu;const H3=class H3 extends oN{constructor(t){super();k(this,Cu);E(this,Cu,t),super.updateProperties({fill:"none",stroke:pt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,n){t==="stroke-width"&&(n??(n=this["stroke-width"]),n*=c(this,Cu).realScale),super.updateSVGProperty(t,n)}clone(){const t=new H3(c(this,Cu));return t.updateAll(this),t}};Cu=new WeakMap;let t3=H3;var gm,m8;const gc=class gc extends Z0{constructor(t){super({...t,name:"inkEditor"});k(this,gm);this._willKeepAspectRatio=!0}static initialize(t,n){pt.initialize(t,n),this._defaultDrawingOptions=new t3(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return je(this,"typesMap",new Map([[Be.INK_THICKNESS,"stroke-width"],[Be.INK_COLOR,"stroke"],[Be.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,r,o,l){return new aN(t,n,r,o,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,r,o,l,d){return Q1.deserialize(t,n,r,o,l,d)}static async deserialize(t,n,r){let o=null;if(t instanceof D3){const{data:{inkLists:d,rect:h,rotation:p,id:m,color:C,opacity:y,borderStyle:{rawWidth:w},popupRef:x},parent:{page:{pageNumber:A}}}=t;o=t={annotationType:Ne.INK,color:Array.from(C),thickness:w,opacity:y,paths:{points:d},boxes:null,pageIndex:A-1,rect:h.slice(0),rotation:p,id:m,deleted:!1,popupRef:x}}const l=await super.deserialize(t,n,r);return l.annotationElementId=t.id||null,l._initialData=o,l}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:r}){this._drawingOptions=gc.getDefaultDrawingOptions({stroke:ve.makeHexColor(...t),"stroke-width":n,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r,rect:o}=this.serializeDraw(t),{_drawingOptions:{stroke:l,"stroke-opacity":d,"stroke-width":h}}=this,p={annotationType:Ne.INK,color:pt._colorManager.convert(l),opacity:d,thickness:h,paths:{lines:n,points:r},pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?p:this.annotationElementId&&!P(this,gm,m8).call(this,p)?null:(p.id=this.annotationElementId,p)}renderAnnotationElement(t){const{points:n,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n}),null}};gm=new WeakSet,m8=function(t){const{color:n,thickness:r,opacity:o,pageIndex:l}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((d,h)=>d!==n[h])||t.thickness!==r||t.opacity!==o||t.pageIndex!==l},ye(gc,"_type","ink"),ye(gc,"_editorType",Ne.INK),ye(gc,"_defaultDrawingOptions",null);let n3=gc;var ft,Zt,$o,Rr,zo,_u,$i,zi,cs,wu,Ve,Wd,Gd,F1,i3,O1,r3,B1,g8;const Zd=class Zd extends pt{constructor(t){super({...t,name:"stampEditor"});k(this,Ve);k(this,ft,null);k(this,Zt,null);k(this,$o,null);k(this,Rr,null);k(this,zo,null);k(this,_u,"");k(this,$i,null);k(this,zi,null);k(this,cs,!1);k(this,wu,!1);E(this,Rr,t.bitmapUrl),E(this,zo,t.bitmapFile)}static initialize(t,n){pt.initialize(t,n)}static get supportedTypes(){return je(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return je(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(Ne.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:l,height:d}=t||this.copyCanvas(null,null,!0).imageData,h=await r.guess({name:"altText",request:{data:o,width:l,height:d,channels:o.length/(l*d)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const p=h.output;return await this.setGuessedAltText(p),n&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var t;c(this,Zt)&&(E(this,ft,null),this._uiManager.imageManager.deleteId(c(this,Zt)),(t=c(this,$i))==null||t.remove(),E(this,$i,null),c(this,zi)&&(clearTimeout(c(this,zi)),E(this,zi,null))),super.remove()}rebuild(){if(!this.parent){c(this,Zt)&&P(this,Ve,F1).call(this);return}super.rebuild(),this.div!==null&&(c(this,Zt)&&c(this,$i)===null&&P(this,Ve,F1).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(c(this,$o)||c(this,ft)||c(this,Rr)||c(this,zo)||c(this,Zt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),c(this,ft)?P(this,Ve,i3).call(this):P(this,Ve,F1).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(t*r,n*o,this.width*r,this.height*o)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;c(this,zi)!==null&&clearTimeout(c(this,zi)),E(this,zi,setTimeout(()=>{E(this,zi,null),P(this,Ve,r3).call(this)},200))}copyCanvas(t,n,r=!1){var w;t||(t=224);const{width:o,height:l}=c(this,ft),d=new t0;let h=c(this,ft),p=o,m=l,C=null;if(n){if(o>n||l>n){const q=Math.min(n/o,n/l);p=Math.floor(o*q),m=Math.floor(l*q)}C=document.createElement("canvas");const x=C.width=Math.ceil(p*d.sx),A=C.height=Math.ceil(m*d.sy);c(this,cs)||(h=P(this,Ve,O1).call(this,x,A));const T=C.getContext("2d");T.filter=this._uiManager.hcmFilter;let N="white",L="#cfcfd8";this._uiManager.hcmFilter!=="none"?L="black":(w=window.matchMedia)!=null&&w.call(window,"(prefers-color-scheme: dark)").matches&&(N="#8f8f9d",L="#42414d");const I=15,M=I*d.sx,F=I*d.sy,z=new OffscreenCanvas(M*2,F*2),U=z.getContext("2d");U.fillStyle=N,U.fillRect(0,0,M*2,F*2),U.fillStyle=L,U.fillRect(0,0,M,F),U.fillRect(M,F,M,F),T.fillStyle=T.createPattern(z,"repeat"),T.fillRect(0,0,x,A),T.drawImage(h,0,0,h.width,h.height,0,0,x,A)}let y=null;if(r){let x,A;if(d.symmetric&&h.width<t&&h.height<t)x=h.width,A=h.height;else if(h=c(this,ft),o>t||l>t){const L=Math.min(t/o,t/l);x=Math.floor(o*L),A=Math.floor(l*L),c(this,cs)||(h=P(this,Ve,O1).call(this,x,A))}const N=new OffscreenCanvas(x,A).getContext("2d",{willReadFrequently:!0});N.drawImage(h,0,0,h.width,h.height,0,0,x,A),y={width:x,height:A,data:N.getImageData(0,0,x,A).data}}return{canvas:C,width:p,height:m,imageData:y}}getImageForAltText(){return c(this,$i)}static async deserialize(t,n,r){var A;let o=null;if(t instanceof F_){const{data:{rect:T,rotation:N,id:L,structParent:I,popupRef:M},container:F,parent:{page:{pageNumber:z}}}=t,U=F.querySelector("canvas"),q=r.imageManager.getFromCanvas(F.id,U);U.remove();const Y=((A=await n._structTree.getAriaAttributes(`${k3}${L}`))==null?void 0:A.get("aria-label"))||"";o=t={annotationType:Ne.STAMP,bitmapId:q.id,bitmap:q.bitmap,pageIndex:z-1,rect:T.slice(0),rotation:N,id:L,deleted:!1,accessibilityData:{decorative:!1,altText:Y},isSvg:!1,structParent:I,popupRef:M}}const l=await super.deserialize(t,n,r),{rect:d,bitmap:h,bitmapUrl:p,bitmapId:m,isSvg:C,accessibilityData:y}=t;m&&r.imageManager.isValidId(m)?(E(l,Zt,m),h&&E(l,ft,h)):E(l,Rr,p),E(l,cs,C);const[w,x]=l.pageDimensions;return l.width=(d[2]-d[0])/w,l.height=(d[3]-d[1])/x,l.annotationElementId=t.id||null,y&&(l.altTextData=y),l._initialData=o,E(l,wu,!!o),l}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Ne.STAMP,bitmapId:c(this,Zt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,cs),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=P(this,Ve,B1).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:l}=this.serializeAltText(!1);if(!o&&l&&(r.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const h=P(this,Ve,g8).call(this,r);if(h.isSame)return null;h.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||(n.stamps=new Map);const d=c(this,cs)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(c(this,Zt)))n.stamps.set(c(this,Zt),{area:d,serialized:r}),r.bitmap=P(this,Ve,B1).call(this,!1);else if(c(this,cs)){const h=n.stamps.get(c(this,Zt));d>h.area&&(h.area=d,h.serialized.bitmap.close(),h.serialized.bitmap=P(this,Ve,B1).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};ft=new WeakMap,Zt=new WeakMap,$o=new WeakMap,Rr=new WeakMap,zo=new WeakMap,_u=new WeakMap,$i=new WeakMap,zi=new WeakMap,cs=new WeakMap,wu=new WeakMap,Ve=new WeakSet,Wd=function(t,n=!1){if(!t){this.remove();return}E(this,ft,t.bitmap),n||(E(this,Zt,t.id),E(this,cs,t.isSvg)),t.file&&E(this,_u,t.file.name),P(this,Ve,i3).call(this)},Gd=function(){if(E(this,$o,null),this._uiManager.enableWaiting(!1),!!c(this,$i)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,ft)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,ft)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},F1=function(){if(c(this,Zt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,Zt)).then(r=>P(this,Ve,Wd).call(this,r,!0)).finally(()=>P(this,Ve,Gd).call(this));return}if(c(this,Rr)){const r=c(this,Rr);E(this,Rr,null),this._uiManager.enableWaiting(!0),E(this,$o,this._uiManager.imageManager.getFromUrl(r).then(o=>P(this,Ve,Wd).call(this,o)).finally(()=>P(this,Ve,Gd).call(this)));return}if(c(this,zo)){const r=c(this,zo);E(this,zo,null),this._uiManager.enableWaiting(!0),E(this,$o,this._uiManager.imageManager.getFromFile(r).then(o=>P(this,Ve,Wd).call(this,o)).finally(()=>P(this,Ve,Gd).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Zd.supportedTypesStr;const n=this._uiManager._signal;E(this,$o,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),P(this,Ve,Wd).call(this,o)}r()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>P(this,Ve,Gd).call(this))),t.click()},i3=function(){var C;const{div:t}=this;let{width:n,height:r}=c(this,ft);const[o,l]=this.pageDimensions,d=.75;if(this.width)n=this.width*o,r=this.height*l;else if(n>d*o||r>d*l){const y=Math.min(d*o/n,d*l/r);n*=y,r*=y}const[h,p]=this.parentDimensions;this.setDims(n*h/o,r*p/l),this._uiManager.enableWaiting(!1);const m=E(this,$i,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),this.width=n/o,this.height=r/l,(C=this._initialOptions)!=null&&C.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),P(this,Ve,r3).call(this),c(this,wu)||(this.parent.addUndoableEditor(this),E(this,wu,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,_u)&&m.setAttribute("aria-label",c(this,_u))},O1=function(t,n){const{width:r,height:o}=c(this,ft);let l=r,d=o,h=c(this,ft);for(;l>2*t||d>2*n;){const p=l,m=d;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),d>2*n&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const C=new OffscreenCanvas(l,d);C.getContext("2d").drawImage(h,0,0,p,m,0,0,l,d),h=C.transferToImageBitmap()}return h},r3=function(){const[t,n]=this.parentDimensions,{width:r,height:o}=this,l=new t0,d=Math.ceil(r*t*l.sx),h=Math.ceil(o*n*l.sy),p=c(this,$i);if(!p||p.width===d&&p.height===h)return;p.width=d,p.height=h;const m=c(this,cs)?c(this,ft):P(this,Ve,O1).call(this,d,h),C=p.getContext("2d");C.filter=this._uiManager.hcmFilter,C.drawImage(m,0,0,m.width,m.height,0,0,d,h)},B1=function(t){if(t){if(c(this,cs)){const o=this._uiManager.imageManager.getSvgUrl(c(this,Zt));if(o)return o}const n=document.createElement("canvas");return{width:n.width,height:n.height}=c(this,ft),n.getContext("2d").drawImage(c(this,ft),0,0),n.toDataURL()}if(c(this,cs)){const[n,r]=this.pageDimensions,o=Math.round(this.width*n*Yo.PDF_TO_CSS_UNITS),l=Math.round(this.height*r*Yo.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(o,l);return d.getContext("2d").drawImage(c(this,ft),0,0,c(this,ft).width,c(this,ft).height,0,0,o,l),d.transferToImageBitmap()}return structuredClone(c(this,ft))},g8=function(t){var d;const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,o=t.pageIndex===n,l=(((d=t.accessibilityData)==null?void 0:d.alt)||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&o&&l,isSameAltText:l}},ye(Zd,"_type","stamp"),ye(Zd,"_editorType",Ne.STAMP);let s3=Zd;var xl,xu,Hi,Ho,Mr,Ns,Uo,Su,Sl,si,Ir,dn,Dr,ge,Vo,ct,v8,Ei,a3,l3,$1;const Ws=class Ws{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:r,accessibilityManager:o,annotationLayer:l,drawLayer:d,textLayer:h,viewport:p,l10n:m}){k(this,ct);k(this,xl);k(this,xu,!1);k(this,Hi,null);k(this,Ho,null);k(this,Mr,null);k(this,Ns,new Map);k(this,Uo,!1);k(this,Su,!1);k(this,Sl,!1);k(this,si,null);k(this,Ir,null);k(this,dn,null);k(this,Dr,null);k(this,ge);const C=[...c(Ws,Vo).values()];if(!Ws._initialized){Ws._initialized=!0;for(const y of C)y.initialize(m,e)}e.registerEditorTypes(C),E(this,ge,e),this.pageIndex=t,this.div=n,E(this,xl,o),E(this,Hi,l),this.viewport=p,E(this,dn,h),this.drawLayer=d,this._structTree=r,c(this,ge).addLayer(this)}get isEmpty(){return c(this,Ns).size===0}get isInvisible(){return this.isEmpty&&c(this,ge).getMode()===Ne.NONE}updateToolbar(e){c(this,ge).updateToolbar(e)}updateMode(e=c(this,ge).getMode()){switch(P(this,ct,$1).call(this),e){case Ne.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ne.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ne.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of c(Ws,Vo).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,dn))==null?void 0:t.div)}setEditingState(e){c(this,ge).setEditingState(e)}addCommands(e){c(this,ge).addCommands(e)}cleanUndoStack(e){c(this,ge).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,Hi))==null||t.div.classList.toggle("disabled",!e)}async enable(){E(this,Sl,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of c(this,Ns).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(c(this,ge).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!c(this,Hi)){E(this,Sl,!1);return}const t=c(this,Hi).getEditableAnnotations();for(const n of t){if(n.hide(),c(this,ge).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}E(this,Sl,!1)}disable(){var r;E(this,Su,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const o of c(this,Ns).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(c(this,Hi)){const o=c(this,Hi).getEditableAnnotations();for(const l of o){const{id:d}=l.data;if(c(this,ge).isDeletedAnnotationElement(d))continue;let h=t.get(d);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=e.get(d),h&&(c(this,ge).addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}P(this,ct,$1).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const o of c(Ws,Vo).values())n.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),E(this,Su,!1)}getEditableAnnotation(e){var t;return((t=c(this,Hi))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,ge).getActive()!==e&&c(this,ge).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=c(this,dn))!=null&&e.div&&!c(this,Dr)){E(this,Dr,new AbortController);const t=c(this,ge).combinedSignal(c(this,Dr));c(this,dn).div.addEventListener("pointerdown",P(this,ct,v8).bind(this),{signal:t}),c(this,dn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,dn))!=null&&e.div&&c(this,Dr)&&(c(this,Dr).abort(),E(this,Dr,null),c(this,dn).div.classList.remove("highlighting"))}enableClick(){if(c(this,Ho))return;E(this,Ho,new AbortController);const e=c(this,ge).combinedSignal(c(this,Ho));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=c(this,Ho))==null||e.abort(),E(this,Ho,null)}attach(e){c(this,Ns).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,ge).isDeletedAnnotationElement(t)&&c(this,ge).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,Ns).delete(e.id),(t=c(this,xl))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,Su)&&e.annotationElementId&&c(this,ge).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,ge).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,ge).addDeletedAnnotationElement(e.annotationElementId),pt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,ge).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!c(this,Sl)),c(this,ge).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,Mr)&&(e._focusEventsAllowed=!1,E(this,Mr,setTimeout(()=>{E(this,Mr,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,ge)._signal}),t.focus())},0))),e._structTreeParentId=(n=c(this,xl))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return c(this,ge).getId()}combinedSignal(e){return c(this,ge).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=c(this,ct,Ei))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){c(this,ge).updateToolbar(e),c(this,ge).updateMode(e);const{offsetX:n,offsetY:r}=P(this,ct,l3).call(this),o=this.getNextId(),l=P(this,ct,a3).call(this,{parent:this,id:o,x:n,y:r,uiManager:c(this,ge),isCentered:!0,...t});l&&this.add(l)}async deserialize(e){var t;return await((t=c(Ws,Vo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,ge)))||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),o=P(this,ct,a3).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:c(this,ge),isCentered:t,...n});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(P(this,ct,l3).call(this),!0)}setSelected(e){c(this,ge).setSelected(e)}toggleSelected(e){c(this,ge).toggleSelected(e)}unselect(e){c(this,ge).unselect(e)}pointerup(e){var n;const{isMac:t}=bn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&c(this,Uo)&&(E(this,Uo,!1),!((n=c(this,ct,Ei))!=null&&n.isDrawer&&c(this,ct,Ei).supportMultipleDrawings))){if(!c(this,xu)){E(this,xu,!0);return}if(c(this,ge).getMode()===Ne.STAMP){c(this,ge).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){var r;if(c(this,ge).getMode()===Ne.HIGHLIGHT&&this.enableTextSelection(),c(this,Uo)){E(this,Uo,!1);return}const{isMac:t}=bn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(E(this,Uo,!0),(r=c(this,ct,Ei))!=null&&r.isDrawer){this.startDrawingSession(e);return}const n=c(this,ge).getActive();E(this,xu,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus(),c(this,si)){c(this,ct,Ei).startDrawing(this,c(this,ge),!1,e);return}c(this,ge).setCurrentDrawingSession(this),E(this,si,new AbortController);const t=c(this,ge).combinedSignal(c(this,si));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(E(this,Ir,null),this.commitOrRemove())},{signal:t}),c(this,ct,Ei).startDrawing(this,c(this,ge),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&E(this,Ir,t);return}c(this,Ir)&&setTimeout(()=>{var t;(t=c(this,Ir))==null||t.focus(),E(this,Ir,null)},0)}endDrawingSession(e=!1){return c(this,si)?(c(this,ge).setCurrentDrawingSession(null),c(this,si).abort(),E(this,si,null),E(this,Ir,null),c(this,ct,Ei).endDrawing(e)):null}findNewParent(e,t,n){const r=c(this,ge).findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return c(this,si)?(this.endDrawingSession(),!0):!1}onScaleChanging(){c(this,si)&&c(this,ct,Ei).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=c(this,ge).getActive())==null?void 0:e.parent)===this&&(c(this,ge).commitOrRemove(),c(this,ge).setActiveEditor(null)),c(this,Mr)&&(clearTimeout(c(this,Mr)),E(this,Mr,null));for(const n of c(this,Ns).values())(t=c(this,xl))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,c(this,Ns).clear(),c(this,ge).removeLayer(this)}render({viewport:e}){this.viewport=e,Al(this.div,e);for(const t of c(this,ge).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,ge).commitOrRemove(),P(this,ct,$1).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Al(this.div,{rotation:n}),t!==n)for(const r of c(this,Ns).values())r.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,ge).viewParameters.realScale}};xl=new WeakMap,xu=new WeakMap,Hi=new WeakMap,Ho=new WeakMap,Mr=new WeakMap,Ns=new WeakMap,Uo=new WeakMap,Su=new WeakMap,Sl=new WeakMap,si=new WeakMap,Ir=new WeakMap,dn=new WeakMap,Dr=new WeakMap,ge=new WeakMap,Vo=new WeakMap,ct=new WeakSet,v8=function(e){c(this,ge).unselectAll();const{target:t}=e;if(t===c(this,dn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&c(this,dn).div.contains(t)){const{isMac:n}=bn.platform;if(e.button!==0||e.ctrlKey&&n)return;c(this,ge).showAllEditors("highlight",!0,!0),c(this,dn).div.classList.add("free"),this.toggleDrawing(),Z1.startHighlighting(this,c(this,ge).direction==="ltr",{target:c(this,dn).div,x:e.x,y:e.y}),c(this,dn).div.addEventListener("pointerup",()=>{c(this,dn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:c(this,ge)._signal}),e.preventDefault()}},Ei=function(){return c(Ws,Vo).get(c(this,ge).getMode())},a3=function(e){const t=c(this,ct,Ei);return t?new t.prototype.constructor(e):null},l3=function(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,e),l=Math.max(0,t),d=Math.min(window.innerWidth,e+n),h=Math.min(window.innerHeight,t+r),p=(o+d)/2-e,m=(l+h)/2-t,[C,y]=this.viewport.rotation%180===0?[p,m]:[m,p];return{offsetX:C,offsetY:y}},$1=function(){for(const e of c(this,Ns).values())e.isEmpty()&&e.remove()},ye(Ws,"_initialized",!1),k(Ws,Vo,new Map([z0,n3,s3,Z1].map(e=>[e._editorType,e])));let o3=Ws;var ii,Nf,An,El,vm,y8,Wi,u3,C8,d3;const an=class an{constructor({pageIndex:e}){k(this,Wi);k(this,ii,null);k(this,Nf,0);k(this,An,new Map);k(this,El,new Map);this.pageIndex=e}setParent(e){if(!c(this,ii)){E(this,ii,e);return}if(c(this,ii)!==e){if(c(this,An).size>0)for(const t of c(this,An).values())t.remove(),e.append(t);E(this,ii,e)}}static get _svgFactory(){return je(this,"_svgFactory",new I3)}draw(e,t=!1,n=!1){const r=yn(this,Nf)._++,o=P(this,Wi,u3).call(this),l=an._svgFactory.createElement("defs");o.append(l);const d=an._svgFactory.createElement("path");l.append(d);const h=`path_p${this.pageIndex}_${r}`;d.setAttribute("id",h),d.setAttribute("vector-effect","non-scaling-stroke"),t&&c(this,El).set(r,d);const p=n?P(this,Wi,C8).call(this,l,h):null,m=an._svgFactory.createElement("use");return o.append(m),m.setAttribute("href",`#${h}`),this.updateProperties(o,e),c(this,An).set(r,o),{id:r,clipPathId:`url(#${p})`}}drawOutline(e,t){const n=yn(this,Nf)._++,r=P(this,Wi,u3).call(this),o=an._svgFactory.createElement("defs");r.append(o);const l=an._svgFactory.createElement("path");o.append(l);const d=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",d),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(t){const C=an._svgFactory.createElement("mask");o.append(C),h=`mask_p${this.pageIndex}_${n}`,C.setAttribute("id",h),C.setAttribute("maskUnits","objectBoundingBox");const y=an._svgFactory.createElement("rect");C.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const w=an._svgFactory.createElement("use");C.append(w),w.setAttribute("href",`#${d}`),w.setAttribute("stroke","none"),w.setAttribute("fill","black"),w.setAttribute("fill-rule","nonzero"),w.classList.add("mask")}const p=an._svgFactory.createElement("use");r.append(p),p.setAttribute("href",`#${d}`),h&&p.setAttribute("mask",`url(#${h})`);const m=p.cloneNode();return r.append(m),p.classList.add("mainOutline"),m.classList.add("secondaryOutline"),this.updateProperties(r,e),c(this,An).set(n,r),n}finalizeDraw(e,t){c(this,El).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var h;if(!t)return;const{root:n,bbox:r,rootClass:o,path:l}=t,d=typeof e=="number"?c(this,An).get(e):e;if(d){if(n&&P(this,Wi,d3).call(this,d,n),r&&P(h=an,vm,y8).call(h,d,r),o){const{classList:p}=d;for(const[m,C]of Object.entries(o))p.toggle(m,C)}if(l){const m=d.firstChild.firstChild;P(this,Wi,d3).call(this,m,l)}}}updateParent(e,t){if(t===this)return;const n=c(this,An).get(e);n&&(c(t,ii).append(n),c(this,An).delete(e),c(t,An).set(e,n))}remove(e){c(this,El).delete(e),c(this,ii)!==null&&(c(this,An).get(e).remove(),c(this,An).delete(e))}destroy(){E(this,ii,null);for(const e of c(this,An).values())e.remove();c(this,An).clear(),c(this,El).clear()}};ii=new WeakMap,Nf=new WeakMap,An=new WeakMap,El=new WeakMap,vm=new WeakSet,y8=function(e,[t,n,r,o]){const{style:l}=e;l.top=`${100*n}%`,l.left=`${100*t}%`,l.width=`${100*r}%`,l.height=`${100*o}%`},Wi=new WeakSet,u3=function(){const e=an._svgFactory.create(1,1,!0);return c(this,ii).append(e),e.setAttribute("aria-hidden",!0),e},C8=function(e,t){const n=an._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const o=an._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),r},d3=function(e,t){for(const[n,r]of Object.entries(t))r===null?e.removeAttribute(n):e.setAttribute(n,r)},k(an,vm);let c3=an;globalThis.pdfjsTestingUtils={HighlightOutliner:U0};be.AbortException;be.AnnotationEditorLayer;be.AnnotationEditorParamsType;be.AnnotationEditorType;be.AnnotationEditorUIManager;be.AnnotationLayer;be.AnnotationMode;be.ColorPicker;be.DOMSVGFactory;be.DrawLayer;be.FeatureTest;var lN=be.GlobalWorkerOptions;be.ImageKind;be.InvalidPDFException;be.MissingPDFException;be.OPS;be.OutputScale;be.PDFDataRangeTransport;be.PDFDateString;be.PDFWorker;be.PasswordResponses;be.PermissionFlag;be.PixelsPerInch;be.RenderingCancelledException;be.TextLayer;be.TouchManager;be.UnexpectedResponseException;be.Util;be.VerbosityLevel;be.XfaLayer;be.build;be.createValidAbsoluteUrl;be.fetchData;var Iy=be.getDocument;be.getFilenameFromUrl;be.getPdfFilenameFromUrl;be.getXfaPageViewport;be.isDataScheme;be.isPdfFile;be.noContextMenu;be.normalizeUnicode;be.setLayerDimensions;be.shadow;be.stopEvent;be.version;const cN="/assets/pdf.worker-BgryrOlp.mjs";lN.workerSrc=cN;const uN=1370,dN=770,hN=(a,e)=>{const t=a.getViewport({scale:1}),n=t.height>t.width?dN/t.height:uN/t.width;return a.getViewport({scale:e*n})},fN=(a,e)=>{const t=document.createElement("canvas");t.width=a,t.height=e;const n=t.getContext("2d");return n?{canvas:t,context:n}:null},pN=async(a,e,t,n,r)=>{var d;const o=e.current;if(!o)return;const l=o.getContext("2d");if(l)try{const h=await a.getPage(t),p=hN(h,n),m=fN(p.width,p.height);if(!m){console.error("오프스크린 캔버스 컨텍스트를 생성할 수 없습니다.");return}const{canvas:C,context:y}=m;(d=r.current)==null||d.cancel();const w=h.render({canvasContext:y,viewport:p});r.current=w,await w.promise,o.width=p.width,o.height=p.height,l.clearRect(0,0,o.width,o.height),l.drawImage(C,0,0)}catch(h){if(h.name==="RenderingCancelledException")return;console.error("페이지 렌더링 오류:",h)}};function mN(){const[a,e]=S.useState(null),[t,n]=S.useState(1),[r,o]=S.useState(1),l=S.useRef(null),d=S.useRef(null),h=S.useRef(null),p=async A=>{try{let T;if(typeof A=="string")T=Iy(A);else{const L=await A.arrayBuffer();T=Iy({data:new Uint8Array(L)})}const N=await T.promise;e(N),o(1)}catch(T){console.error("PDF 로딩 오류:",T)}};S.useEffect(()=>{var A;a&&(pN(a,d,r,t,h),(A=l.current)==null||A.focus())},[a,r,t]);const m=()=>{a&&r>1&&o(A=>Math.max(A-1,1))},C=()=>{a&&r<a.numPages&&o(A=>Math.min(A+1,a.numPages))};return{scale:t,loadPdf:p,prevPage:m,nextPage:C,zoomIn:()=>{a&&t<3&&n(A=>Math.min(A+.1,3))},zoomOut:()=>{a&&t>1&&n(A=>Math.max(A-.1,1))},handleArrowKey:A=>{A.key==="ArrowLeft"?(A.preventDefault(),m()):A.key==="ArrowRight"&&(A.preventDefault(),C())},containerRef:l,canvasRef:d}}const gN="_modal_fo3ob_1",vN="_closeButton_fo3ob_10",yN="_closeIcon_fo3ob_19",CN="_content_fo3ob_25",_N="_liveIcon_fo3ob_33",wN="_accessCode_fo3ob_39",xN="_description_fo3ob_54",fa={modal:gN,closeButton:vN,closeIcon:yN,content:CN,liveIcon:_N,accessCode:wN,description:xN},SN=a=>S.createElement("svg",{width:98,height:33,viewBox:"0 0 98 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("rect",{width:98,height:33,rx:4,fill:"#FB4A59"}),S.createElement("path",{d:"M14.9225 21.805C17.8524 21.805 20.2275 19.4299 20.2275 16.5C20.2275 13.5701 17.8524 11.195 14.9225 11.195C11.9926 11.195 9.61749 13.5701 9.61749 16.5C9.61749 19.4299 11.9926 21.805 14.9225 21.805Z",fill:"white"}),S.createElement("path",{d:"M32.2275 26.3975V6.5975H36.3375V22.9975H44.8575V26.4025H32.2325L32.2275 26.3975Z",fill:"white"}),S.createElement("path",{d:"M51.6124 6.5975V26.3975H47.5024V6.5975H51.6124Z",fill:"white"}),S.createElement("path",{d:"M58.4175 6.5975L63.2425 21.7075H63.4275L68.2625 6.5975H72.8275L65.9825 26.3975H60.6925L53.8475 6.5975H58.4225H58.4175Z",fill:"white"}),S.createElement("path",{d:"M75.0575 26.3975V6.5975H88.3425V10.0025H79.1675V14.7975H87.6575V18.1925H79.1675V22.9975H88.3825V26.4025H75.0575V26.3975Z",fill:"white"})),EN=({accessCode:a,onClose:e})=>g.jsxs("div",{className:fa.modal,children:[g.jsx("button",{className:fa.closeButton,onClick:e,children:g.jsx(Vi,{className:fa.closeIcon})}),g.jsxs("div",{className:fa.content,children:[g.jsx(SN,{className:fa.liveIcon}),g.jsx("div",{className:fa.accessCode,children:g.jsxs("span",{children:["입장코드 : ",a]})}),g.jsxs("span",{className:fa.description,children:["학생들은 웹에서 서비스에 접속 후,",g.jsx("br",{}),"로그인 없이 코드를 입력하면 참여가 가능해요"]})]})]}),AN="_modal_8ziiu_1",bN="_modalContent_8ziiu_13",kN="_icon_8ziiu_22",TN="_blueIcon_8ziiu_31 _icon_8ziiu_22",PN="_rotate_8ziiu_1",NN="_redIcon_8ziiu_53 _icon_8ziiu_22",LN="_modalText_8ziiu_62",RN="_modalTitle_8ziiu_69",MN="_modalDescription_8ziiu_74",pc={modal:AN,modalContent:bN,icon:kN,blueIcon:TN,rotate:PN,redIcon:NN,modalText:LN,modalTitle:RN,modalDescription:MN},_8=a=>S.createElement("svg",{width:57,height:57,viewBox:"0 0 57 57",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("g",{clipPath:"url(#clip0_247_3208)"},S.createElement("path",{d:"M31.415 2.61413C31.415 1.17038 30.2476 0 28.8075 0C27.3674 0 26.2 1.17038 26.2 2.61413V11.8637C26.2 13.3075 27.3674 14.4779 28.8075 14.4779C30.2476 14.4779 31.415 13.3075 31.415 11.8637V2.61413Z",fill:"url(#paint0_linear_247_3208)"}),S.createElement("path",{d:"M31.415 45.1363C31.415 43.6925 30.2476 42.5222 28.8075 42.5222C27.3674 42.5222 26.2 43.6925 26.2 45.1363V54.3859C26.2 55.8296 27.3674 57 28.8075 57C30.2476 57 31.415 55.8296 31.415 54.3859V45.1363Z",fill:"url(#paint1_linear_247_3208)"}),S.createElement("path",{d:"M54.39 30.8136C55.8315 30.8136 57 29.6444 57 28.202C57 26.7597 55.8315 25.5904 54.39 25.5904H45.155C43.7135 25.5904 42.545 26.7597 42.545 28.202C42.545 29.6444 43.7135 30.8136 45.155 30.8136H54.39Z",fill:"#5623D5"}),S.createElement("path",{d:"M11.845 30.8136C13.2865 30.8136 14.455 29.6444 14.455 28.202C14.455 26.7597 13.2865 25.5904 11.845 25.5904H2.61002C1.16855 25.5904 1.90735e-05 26.7597 1.90735e-05 28.202C1.90735e-05 29.6444 1.16855 30.8136 2.61002 30.8136H11.845Z",fill:"url(#paint2_linear_247_3208)"}),S.createElement("path",{d:"M48.834 11.7021C49.8533 10.6812 49.8541 9.02682 48.8358 8.00692C47.8175 6.98701 46.1657 6.9878 45.1465 8.00868L38.6163 14.5491C37.5971 15.57 37.5963 17.2244 38.6146 18.2443C39.6329 19.2642 41.2846 19.2634 42.3039 18.2425L48.834 11.7021Z",fill:"url(#paint3_linear_247_3208)"}),S.createElement("path",{d:"M18.7199 41.8597C19.7392 40.8388 19.74 39.1844 18.7217 38.1645C17.7034 37.1446 16.0517 37.1454 15.0324 38.1663L8.50225 44.7067C7.48298 45.7276 7.48219 47.382 8.50048 48.4019C9.51878 49.4218 11.1705 49.421 12.1898 48.4001L18.7199 41.8597Z",fill:"url(#paint4_linear_247_3208)"}),S.createElement("path",{d:"M15.2827 18.2365C16.302 19.2574 17.9537 19.2582 18.972 18.2383C19.9903 17.2184 19.9895 15.564 18.9702 14.5431L12.4401 8.00268C11.4208 6.9818 9.76908 6.981 8.75079 8.00091C7.73249 9.02081 7.73329 10.6752 8.75256 11.6961L15.2827 18.2365Z",fill:"url(#paint5_linear_247_3208)"}),S.createElement("path",{d:"M45.3987 48.3991C46.4179 49.42 48.0697 49.4208 49.088 48.4009C50.1063 47.381 50.1055 45.7266 49.0862 44.7057L42.5561 38.1653C41.5368 37.1444 39.885 37.1436 38.8668 38.1635C37.8485 39.1834 37.8493 40.8378 38.8685 41.8587L45.3987 48.3991Z",fill:"#591CD5"})),S.createElement("defs",null,S.createElement("linearGradient",{id:"paint0_linear_247_3208",x1:28.8075,y1:0,x2:28.8075,y2:14.4779,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#3193E0"}),S.createElement("stop",{offset:1,stopColor:"#3B76DD"})),S.createElement("linearGradient",{id:"paint1_linear_247_3208",x1:28.8075,y1:42.5222,x2:28.8075,y2:57,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#4F38D7"}),S.createElement("stop",{offset:1,stopColor:"#581DD5"})),S.createElement("linearGradient",{id:"paint2_linear_247_3208",x1:14.455,y1:28.202,x2:190735e-10,y2:28.202,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#3A78DD"}),S.createElement("stop",{offset:1,stopColor:"#3291E0"})),S.createElement("linearGradient",{id:"paint3_linear_247_3208",x1:49,y1:8,x2:40.2556,y2:6.95845,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#445BDA"}),S.createElement("stop",{offset:1,stopColor:"#4557DA"})),S.createElement("linearGradient",{id:"paint4_linear_247_3208",x1:19,y1:37.5,x2:9.31471,y2:36.8242,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#4459DA"}),S.createElement("stop",{offset:1,stopColor:"#4655DA"})),S.createElement("linearGradient",{id:"paint5_linear_247_3208",x1:10,y1:8,x2:18.2949,y2:7.00034,gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#2AA7E2"}),S.createElement("stop",{offset:1,stopColor:"#3683DE"})),S.createElement("clipPath",{id:"clip0_247_3208"},S.createElement("rect",{width:57,height:57,fill:"white"}))));function IN(a){const e=a==="loading"?g.jsx(_8,{width:"50px",height:"50px"}):g.jsx(x3,{}),t=a==="loading"?pc.blueIcon:pc.redIcon;return g.jsx("div",{className:t,children:e})}const Wg=({type:a,title:e,description:t})=>g.jsx("div",{className:pc.modal,onClick:n=>n.stopPropagation(),children:g.jsxs("div",{className:pc.modalContent,children:[IN(a),g.jsx("h2",{className:pc.modalTitle,children:e}),t&&g.jsx("p",{className:pc.modalDescription,children:t})]})}),DN=({courseInfo:a,setModal:e,closeModal:t,openModal:n,reactions:r,reactionsCount:o,dispatch:l,popupError:d})=>{const{scale:h,loadPdf:p,zoomIn:m,zoomOut:C,handleArrowKey:y,containerRef:w,canvasRef:x}=mN(),[A,T]=S.useState(null),[N,L]=S.useState(!1),I=S.useRef(null);S.useEffect(()=>{async function q(){try{if(!a||N)return;L(!0),e(g.jsx(Wg,{type:"loading",title:"강의자료 여는 중..."})),n();const Y=await fs.getCourseFileUrl(a.id);if(!Y)return;T(Y),await p(Y),L(!1),t(),e(null)}catch{L(!1),e(g.jsx(Wg,{type:"caution",title:"파일 열기에 실패했습니다.",description:"다시 시도해 주세요."})),n(),setTimeout(()=>{M()},2e3)}}q()},[a]);const M=()=>{t(),e(null)},F=q=>{e(g.jsx(EN,{accessCode:q,onClose:M})),n()},z=()=>{var q;(q=I.current)==null||q.click()};async function U(q){if(!a)return;const Y=q.target.files;if(Y&&Y[0])try{const ie=Y[0];rC(ie),await p(ie),T(ie),fs.uploadCourseFile(a.id,ie),q.target.value=""}catch(ie){ie instanceof Ms?d(ie):(e(g.jsx(Wg,{type:"caution",title:"파일 업로드에 실패했습니다.",description:"다시 시도해 주세요."})),n(),setTimeout(()=>{M()},2e3))}}return g.jsxs("div",{className:Zn.mainContainer,children:[g.jsxs("div",{className:Zn.mainHeader,children:[g.jsxs("div",{className:Zn.accessCodeContainer,children:[g.jsxs("div",{className:Zn.accessCode,children:["입장코드 ",a==null?void 0:a.accessCode]}),g.jsx("button",{className:Zn.expandCode,onClick:()=>(a==null?void 0:a.accessCode)&&F(a==null?void 0:a.accessCode),children:g.jsx(wC,{className:Zn.expandSvg})})]}),g.jsxs("div",{className:Zn.buttonContainer,children:[g.jsx(fy,{onButtonClick:C,type:"zoomOut",isActive:!!A&&h!==1}),g.jsx(fy,{onButtonClick:m,type:"zoomIn",isActive:!!A&&h!==3})]})]}),A?g.jsx(lT,{containerRef:w,canvasRef:x,handleArrowKey:y}):g.jsxs("div",{className:Zn.noPdfContainer,children:[g.jsx("div",{className:Zn.noPdfDesc,children:"업로드 된 강의자료가 없습니다."}),g.jsx("button",{className:Zn.fileButton,onClick:z,children:"강의자료 열기"})]}),g.jsxs("div",{className:Zn.mainFooter,children:[g.jsx("button",{className:Zn.fileButton,onClick:z,style:{visibility:A?"visible":"hidden"},children:"다른 강의자료 열기"}),g.jsx("input",{type:"file",accept:".pdf",onChange:U,className:Zn.fileInput,ref:I,style:{display:"none"}}),g.jsx(rT,{emojiCounts:o,reactions:r,dispatch:l})]})]})},jN="_sideBarContainer_1ghm2_1",FN="_sideContentContainer_1ghm2_6",ON="_requestsContainer_1ghm2_14",BN="_closeButton_1ghm2_23",o1={sideBarContainer:jN,sideContentContainer:FN,requestsContainer:ON,closeButton:BN},$N="_boardContainer_2u0m5_1",zN="_questionController_2u0m5_7",HN="_buttonContainer_2u0m5_17",UN="_icon_2u0m5_31",VN="_shadowContainer_2u0m5_41",WN="_noQuestion_2u0m5_47",GN="_firstShadow_2u0m5_59",qN="_secondShadow_2u0m5_71",XN="_page_2u0m5_83",YN="_currentPage_2u0m5_90",KN="_countContainer_2u0m5_94",ZN="_questionCount_2u0m5_100",QN="_noQuestionDesc_2u0m5_104",_n={boardContainer:$N,questionController:zN,buttonContainer:HN,icon:UN,shadowContainer:VN,noQuestion:WN,firstShadow:GN,secondShadow:qN,page:XN,currentPage:YN,countContainer:KN,questionCount:ZN,noQuestionDesc:QN},JN="_questionContainer_1ebcy_1",eL="_questionMessage_1ebcy_14",tL="_buttonContainer_1ebcy_27",nL="_expandButton_1ebcy_33",sL="_expandSvg_1ebcy_43",Ed={questionContainer:JN,questionMessage:eL,buttonContainer:tL,expandButton:nL,expandSvg:sL},iL=({question:a,onModalOpen:e,onResolveClick:t})=>g.jsxs("div",{className:Ed.questionContainer,children:[g.jsx("div",{className:Ed.questionMessage,children:a}),g.jsxs("div",{className:Ed.buttonContainer,children:[g.jsx(At,{type:"button",color:"green",size:"web3",width:"382px",height:"48px",text:"질문이 해결되었어요",onClick:t}),g.jsx("button",{className:Ed.expandButton,onClick:e,children:g.jsx(wC,{className:Ed.expandSvg})})]})]}),rL=({questions:a,handleResolveClick:e,handleModalOpen:t})=>{const{prevPage:n,nextPage:r,PaginationDiv:o,page:l,totalPages:d}=jf();return g.jsxs("div",{className:_n.boardContainer,children:[g.jsxs("div",{className:_n.questionController,children:[g.jsx("button",{className:_n.buttonContainer,onClick:n,disabled:l===0,children:g.jsx(S3,{className:_n.icon})}),g.jsxs("div",{className:_n.page,children:[g.jsx("span",{className:_n.currentPage,children:l+1})," /"," ",Math.max(d,1)]}),g.jsx("button",{className:_n.buttonContainer,onClick:r,disabled:l>=d-1,children:g.jsx(E3,{className:_n.icon})})]}),a.length===0?g.jsx("div",{className:_n.noQuestion,children:"아직 아무 질문도 없어요!"}):g.jsxs("div",{className:_n.shadowContainer,children:[a.length>=2&&g.jsx("div",{className:_n.firstShadow}),a.length>=3&&g.jsx("div",{className:_n.secondShadow}),g.jsx(o,{children:a.map(h=>g.jsx(iL,{onModalOpen:()=>t(l),onResolveClick:()=>e(h.id),question:h.content},h.id))})]}),a.length===0?g.jsx("div",{className:_n.noQuestionDesc,children:"아직 아무 질문도 없어요!"}):g.jsxs("div",{className:_n.countContainer,style:{marginTop:`${18+Math.min(d-1,2)*10}px`},children:["질문이 ",g.jsxs("span",{className:_n.questionCount,children:[d,"개"]})," ","기다리고 있어요!"]})]})},oL="_container_kxbxr_1",aL="_popup_kxbxr_9",a1={container:oL,popup:aL},lL="_requestCard_1kb15_1",cL="_active_1kb15_25",uL="_container_1kb15_33",dL="_left_1kb15_42",hL="_emojiContainer_1kb15_47",fL="_emoji_1kb15_47",pL="_textContainer_1kb15_66",mL="_title_1kb15_73",gL="_description_1kb15_81",vL="_right_1kb15_89",yL="_count_1kb15_100",Us={requestCard:lL,active:cL,container:uL,left:dL,emojiContainer:hL,emoji:fL,textContainer:pL,title:mL,description:gL,right:vL,count:yL},rc=({Emoji:a,title:e,description:t,count:n})=>{const[r,o]=S.useState(!1),l=S.useRef(!0);return S.useEffect(()=>{if(l.current){l.current=!1;return}o(!0);const d=setTimeout(()=>{o(!1)},1e4);return()=>{clearTimeout(d)}},[n]),g.jsx("div",{className:`${Us.requestCard} ${r?Us.active:""}`,children:g.jsxs("div",{className:Us.container,children:[g.jsxs("div",{className:Us.left,children:[g.jsx("div",{className:Us.emojiContainer,children:g.jsx(a,{className:Us.emoji})}),g.jsxs("div",{className:Us.textContainer,children:[g.jsx("h3",{className:Us.title,children:e}),g.jsx("p",{className:Us.description,children:t})]})]}),g.jsx("div",{className:Us.right,children:g.jsx("p",{className:Us.count,children:n})})]})})},CL={[oi.kind]:Em,[ai.kind]:Sm,[li.kind]:_m,[ci.kind]:xm,[ui.kind]:wm},_L=({request:a})=>a.length===0?g.jsxs("div",{className:a1.container,children:[g.jsx(rc,{Emoji:Em,title:oi.title,description:oi.description,count:0}),g.jsx(rc,{Emoji:Sm,title:ai.title,description:ai.description,count:0}),g.jsx(rc,{Emoji:_m,title:li.title,description:li.description,count:0}),g.jsx(rc,{Emoji:xm,title:ci.title,description:ci.description,count:0}),g.jsx(rc,{Emoji:wm,title:ui.title,description:ui.description,count:0}),g.jsx("div",{className:a1.popup,children:g.jsx("span",{children:"오늘 누적 반응 학생 수"})})]}):g.jsxs("div",{className:a1.container,children:[a.map((e,t)=>g.jsx(rc,{Emoji:CL[e.type.kind],title:e.type.title,description:e.type.description,count:e.count},`${t}-${e.type.kind}`)),g.jsx("div",{className:a1.popup,children:g.jsx("span",{children:"오늘 누적 반응 학생 수"})})]}),wL=({questions:a,requests:e,handleResolveClick:t,setModal:n,openModal:r,closeModal:o,handleCloseClass:l})=>{const d=h=>{const p=()=>{o(),n(null)};n(g.jsx(fC,{questions:a,handleResolveClick:t,closeModal:p,initialPage:h})),r()};return g.jsxs("div",{className:o1.sideBarContainer,children:[g.jsxs("div",{className:o1.sideContentContainer,children:[g.jsx(rL,{questions:a,handleResolveClick:t,handleModalOpen:d}),g.jsx("div",{className:o1.requestsContainer,children:g.jsx(_L,{request:e})})]}),g.jsx("button",{className:o1.closeButton,onClick:l,children:"수업 끝내기"})]})},xL="https://softeer-reacton.shop",SL=()=>{const a=localStorage.getItem("reactions");return a?JSON.parse(a):{CLAP:0,CRYING:0,HEART_EYES:0,OKAY:0,SURPRISED:0,THUMBS_UP:0}},EL=(a,e)=>{switch(e.type){case"ADD":return[...a,{id:crypto.randomUUID(),type:e.payload}];case"REMOVE":return a.filter(t=>t.id!==e.payload);default:return a}},AL=()=>{const{courseId:a}=Ky(),[e,t]=S.useState(),[n,r]=S.useState(SL),[o,l]=S.useState(null),[d,h]=S.useState([]),[p,m]=S.useState([]),[C,y]=S.useReducer(EL,[]),w=S.useRef(n),x=S.useRef(null),A=Vr(),[,T]=S.useTransition(),{openModal:N,closeModal:L,Modal:I}=Zo(),{popupError:M,ErrorModal:F}=Df(),z=ue=>{T(()=>{y({type:"ADD",payload:ue}),w.current={...w.current,[ue]:(w.current[ue]||0)+1},r(w.current),localStorage.setItem("reactions",JSON.stringify(w.current))})},U=ue=>{m(ae=>ae.map(ke=>ke.type.kind===ue?{...ke,count:ke.count+1}:ke))},q=ue=>{h(ae=>[...ae,ue])},Y=ue=>{h(ae=>ae.filter(ke=>ke.id!==ue))},ie=()=>{if(x.current)return;const ue=new EventSource(`${xL}/sse/connection/course/${a}`,{withCredentials:!0});ue.onopen=()=>{x.current=ue},ue.onmessage=ae=>{const ke=JSON.parse(ae.data);if(ke.messageType==="REACTION")z(ke.data.type);else if(ke.messageType==="REQUEST")U(ke.data.type);else if(ke.messageType==="QUESTION")q(ke.data);else if(ke.messageType==="QUESTION_CHECK")Y(ke.data.id);else return},ue.onerror=()=>{var ae;ue.readyState!==EventSource.CONNECTING&&((ae=x.current)==null||ae.close(),x.current=null,M(new Error("SSE_ERROR")))}},he=async ue=>{try{await $r.checkQuestionByProfessor(ue),h(ae=>ae.filter(ke=>ke.id!==ue))}catch(ae){M(ae)}},Fe=()=>{var ue;if(a)try{(ue=x.current)==null||ue.close(),x.current=null,$r.closeCourse(a),A("/professor")}catch(ae){M(ae)}};return S.useEffect(()=>{async function ue(){try{if(!a){A("/professor");return}const ae=await fs.getCourseById(a);l(ae),h(ae.questions),m(ae.requests)}catch(ae){M(ae)}}ue()},[a]),S.useEffect(()=>{e&&t(g.jsx(fC,{questions:d,handleResolveClick:he,closeModal:L}))},[d]),S.useEffect(()=>(ie(),()=>{var ue;(ue=x.current)==null||ue.close(),x.current=null}),[]),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:gk.professorClassroom,children:[g.jsx(DN,{courseInfo:o,setModal:t,closeModal:L,reactionsCount:n,reactions:C,dispatch:y,openModal:N,popupError:M}),g.jsx(wL,{questions:d,requests:p,handleResolveClick:he,setModal:t,openModal:N,closeModal:L,handleCloseClass:Fe})]}),e&&g.jsx(I,{children:e}),g.jsx(F,{})]})},bL="_homeLayout_ode62_1",kL="_logo_ode62_10",TL="_classForm_ode62_15",PL="_classInput_ode62_22",NL="_formButton_ode62_36",Ad={homeLayout:bL,logo:kL,classForm:TL,classInput:PL,formButton:NL},LL="_modalContainer_1ds2z_1",RL="_modalTitle_1ds2z_16",ML="_closeButton_1ds2z_21",IL="_contentContainer_1ds2z_30",DL="_university_1ds2z_39",jL="_courseTitle_1ds2z_46",FL="_courseDescBox_1ds2z_52",OL="_descSvg_1ds2z_60",BL="_courseTime_1ds2z_65",$L="_coursePeople_1ds2z_70",zL="_buttonContainer_1ds2z_76",HL="_backButton_1ds2z_82",UL="_enterButton_1ds2z_91",Fn={modalContainer:LL,modalTitle:RL,closeButton:ML,contentContainer:IL,university:DL,courseTitle:jL,courseDescBox:FL,descSvg:OL,courseTime:BL,coursePeople:$L,buttonContainer:zL,backButton:HL,enterButton:UL},VL="_chipContainer_1u30n_1",WL="_green_1u30n_13",GL="_purple_1u30n_18",qL="_gray_1u30n_23",Dy={chipContainer:VL,green:WL,purple:GL,gray:qL},XL=a=>a==="교양"?"green":a==="전공"?"purple":"gray",YL=({text:a})=>{const e=Dy[XL(a)]||"";return g.jsx("div",{className:`${Dy.chipContainer}  ${e} } `,children:a})},KL=({university:a,courseTitle:e,coursePeople:t,courseDay:n,courseNumber:r,startTime:o,endTime:l,courseSort:d,closeModal:h,onCheckClick:p})=>g.jsxs("div",{className:Fn.modalContainer,onClick:m=>m.stopPropagation(),children:[g.jsx("div",{className:Fn.modalTitle,children:"강의 정보를 확인해주세요"}),g.jsx("button",{onClick:h,className:Fn.closeButton,children:g.jsx(Vi,{width:"100%",height:"100%"})}),g.jsxs("div",{className:Fn.contentContainer,children:[g.jsx(YL,{text:d}),g.jsx("div",{className:Fn.university,children:a}),g.jsx("div",{className:Fn.courseTitle,children:`${e} (${r})`}),g.jsxs("div",{className:Fn.courseDescBox,children:[g.jsxs("span",{className:Fn.courseTime,children:[g.jsx(eh,{className:Fn.descSvg}),`${n} ${o}-${l}`]}),g.jsxs("span",{className:Fn.coursePeople,children:[g.jsx(th,{className:Fn.descSvg}),t,"명"]})]})]}),g.jsxs("div",{className:Fn.buttonContainer,children:[g.jsx("button",{onClick:h,className:Fn.backButton,children:"뒤로가기"}),g.jsx("button",{onClick:p,className:Fn.enterButton,children:"입장하기"})]})]}),ZL="_popupContainer_1ik0v_1",QL="_closeButton_1ik0v_14",JL="_warnSvg_1ik0v_23",eR="_popupTitle_1ik0v_39",tR="_popupDesc_1ik0v_45",nR="_checkButton_1ik0v_51",oc={popupContainer:ZL,closeButton:QL,warnSvg:JL,popupTitle:eR,popupDesc:tR,checkButton:nR},sR=({title:a,content:e,closeModal:t,checkModal:n})=>g.jsxs("div",{className:oc.popupContainer,onClick:r=>r.stopPropagation(),children:[g.jsx("button",{onClick:t,className:oc.closeButton,children:g.jsx(Vi,{width:"100%",height:"100%"})}),g.jsx("div",{className:oc.warnSvg,children:g.jsx(x3,{})}),g.jsx("div",{className:oc.popupTitle,children:a}),g.jsx("div",{className:oc.popupDesc,children:e}),g.jsx("button",{onClick:n,className:oc.checkButton,children:"확인"})]}),iR={notFound:{title:"존재하지 않는 코드입니다",content:"다시 한번 코드를 확인해주세요"},notStart:{title:"아직 수업이 시작하지 않았습니다",content:"잠시만 기다려주세요"},closedCourse:{title:"교수님이 강의를 종료하셨어요",content:"확인을 누르시면 처음화면으로 돌아갑니다"},server:{title:"서버에 오류가 발생했습니다",content:"다시 한번 시도해주세요"},unknown:{title:"알 수 없는 오류입니다",content:"다시 한번 시도해주세요"},sse:{title:"서버에 오류가 발생했습니다",content:"홈 화면으로 돌아갑니다"}},Ui=(a,e,t)=>{const n=iR[a];return n?g.jsx(sR,{closeModal:e,checkModal:t,title:n.title,content:n.content}):null},Mm=({error:a,setModalType:e,openModal:t})=>{a instanceof Ms?a.errorCode==="COURSE_NOT_FOUND"?(e("notFound"),t()):a.errorCode==="COURSE_NOT_ACTIVE"?(e("notStart"),t()):(e("unknown"),t()):a instanceof Eu?(e("server"),t()):(e("unknown"),t())},rR=()=>{const[a,e]=S.useState(""),[t,n]=S.useState(null),[r,o]=S.useState(null),{openModal:l,closeModal:d,Modal:h}=Zo(),p=x=>{const A=x.target.value;/^\d*$/.test(A)&&A.length<7&&e(A)},m=x=>{Mm({error:x,setModalType:n,openModal:l})},C=async x=>{x.preventDefault();try{const A=await fs.getCourseSummary(Number(a));o(A),n("classModal"),l()}catch(A){m(A)}},y=async()=>{try{d(),await $r.enterCourse(Number(a))}catch(x){m(x)}},w=()=>{var x;switch(t){case"classModal":{if(!r)return null;const A=(x=r.schedule)==null?void 0:x.find(T=>T.day===Jd(new Date().getDay()));return g.jsx(KL,{closeModal:d,university:r.university,courseTitle:r.name,coursePeople:r.capacity,courseDay:(A==null?void 0:A.day)||r.schedule[0].day,courseNumber:r.code,startTime:(A==null?void 0:A.start)||r.schedule[0].start,endTime:(A==null?void 0:A.end)||r.schedule[0].end,courseSort:r.classType,onCheckClick:y})}case"notFound":return Ui("notFound",d,d);case"notStart":return Ui("notStart",d,d);case"server":return Ui("server",d,d);default:return Ui("unknown",d,d)}};return g.jsxs(g.Fragment,{children:[t&&g.jsx(h,{children:w()}),g.jsxs("div",{className:Ad.homeLayout,children:[g.jsx(If,{className:Ad.logo}),g.jsxs("form",{className:Ad.classForm,onSubmit:C,children:[g.jsx("input",{className:Ad.classInput,type:"text",value:a,onChange:x=>p(x),placeholder:"입장코드를 입력해주세요"}),g.jsx("button",{type:"submit",className:Ad.formButton,disabled:!a,children:"입장하기"})]})]})]})},oR="_courseLayout_12s6s_1",aR="_headerContainer_12s6s_9",lR="_logo_12s6s_18",cR="_TabsContainer_12s6s_24",uR="_TabButton_12s6s_31",dR="_underline_12s6s_35",hR="_layoutContainer_12s6s_45",fR="_layoutsWrapper_12s6s_53",pR="_tabLayout_12s6s_60",Vs={courseLayout:oR,headerContainer:aR,logo:lR,TabsContainer:cR,TabButton:uR,underline:dR,layoutContainer:hR,layoutsWrapper:fR,tabLayout:pR},mR="_TabContainer_15pj8_1",gR="_active_15pj8_14",jy={TabContainer:mR,active:gR},vR=({text:a,isActive:e})=>g.jsx("div",{className:`${jy.TabContainer} ${e?jy.active:""}`,children:a}),yR="_cardContainer_8qy5s_1",CR="_active_8qy5s_28",_R="_activeAnimation_8qy5s_1",wR="_blocked_8qy5s_32",xR="_iconBg_8qy5s_37",SR="_icon_8qy5s_37",ER="_cardContentContainer_8qy5s_52",AR="_cardTitle_8qy5s_59",bR="_cardDesc_8qy5s_64",kR="_countdownText_8qy5s_69",rr={cardContainer:yR,active:CR,activeAnimation:_R,blocked:wR,iconBg:xR,icon:SR,cardContentContainer:ER,cardTitle:AR,cardDesc:bR,countdownText:kR},w8=(a,e,t)=>{const n=Number(localStorage.getItem(a))||0,r=n>0?n:0,[o,l]=S.useState(r>0),[d,h]=S.useState(r),p=S.useRef(null),m=S.useRef(null);S.useEffect(()=>(r>0&&(l(!0),C(r)),()=>{clearTimeout(m.current),clearInterval(p.current)}),[a,e,t]);const C=w=>{h(w),localStorage.setItem(a,w.toString()),p.current=window.setInterval(()=>{h(x=>{if(x<=1)return clearInterval(p.current),localStorage.setItem(a,"0"),0;const A=x-1;return localStorage.setItem(a,A.toString()),A})},1e3),m.current=window.setTimeout(()=>{l(!1),h(0),localStorage.setItem(a,"0")},w*1e3)};return{isBlocked:o,countdown:d,startBlock:()=>{o||setTimeout(()=>{l(!0),C(e/1e3)},t)}}},TR=({onCardClick:a,Icon:e,title:t,description:n,type:r})=>{const[o,l]=S.useState(!1),{isBlocked:d,countdown:h,startBlock:p}=w8(`requests_block_${r}`,6e4,2e3);S.useEffect(()=>{l(!!d)},[d]);const m=async()=>{await a()&&(l(!0),p())};return g.jsxs("button",{className:`${rr.cardContainer} ${o?rr.active:""} ${d?rr.blocked:""} `,onClick:m,disabled:!!o||d,children:[g.jsx("div",{className:rr.iconBg,children:g.jsx(e,{className:rr.icon})}),g.jsxs("div",{className:rr.cardContentContainer,children:[g.jsx("div",{className:rr.cardTitle,children:t}),g.jsx("div",{className:rr.cardDesc,children:n})]}),d&&g.jsx("div",{className:rr.countdownText,children:h})]})},PR="_pageLayout_vobj2_1",NR="_requestTitle_vobj2_11",LR="_titleStrong_vobj2_18",RR="_requestDesc_vobj2_22",MR="_cardContainer_vobj2_29",bd={pageLayout:PR,requestTitle:NR,titleStrong:LR,requestDesc:RR,cardContainer:MR},IR="_popupContainer_16fjv_1",DR="_move_16fjv_1",jR={popupContainer:IR,move:DR},j3=({text:a,onClose:e})=>(S.useEffect(()=>{const t=setTimeout(e,2e3);return()=>clearTimeout(t)},[e]),g.jsx("div",{className:jR.popupContainer,children:a})),FR=[{type:oi.kind,icon:Em,title:oi.title,description:oi.description},{type:ai.kind,icon:Sm,title:ai.title,description:ai.description},{type:li.kind,icon:_m,title:li.title,description:li.description},{type:ci.kind,icon:xm,title:ci.title,description:ci.description},{type:ui.kind,icon:wm,title:ui.title,description:ui.description}],OR=({setModalType:a,openModal:e})=>{const[t,n]=S.useState(!1),r=async o=>{try{return await $r.sendRequest(o),n(!0),!0}catch(l){return Mm({error:l,setModalType:a,openModal:e}),!1}};return g.jsxs("div",{className:bd.pageLayout,children:[g.jsxs("div",{className:bd.requestTitle,children:[g.jsx("span",{className:bd.titleStrong,children:"불편 사항"}),"이 있을 때 사용해보세요"," "]}),g.jsx("div",{className:bd.requestDesc,children:"수업 중 말하기 힘들 때 이모지로 알릴 수 있어요"}),g.jsx("div",{className:bd.cardContainer,children:FR.map(o=>g.jsx(TR,{type:o.type,onCardClick:()=>r(o.type),title:o.title,description:o.description,Icon:o.icon},o.type))}),t&&g.jsx(j3,{text:"라이브 피드백 전송 성공",onClose:()=>n(!1)})]})},BR="_pageLayout_11xap_1",$R="_reactTitle_11xap_11",zR="_titleStrong_11xap_18",HR="_reactDesc_11xap_22",UR="_cardContainer_11xap_29",kd={pageLayout:BR,reactTitle:$R,titleStrong:zR,reactDesc:HR,cardContainer:UR},VR="_cardContainer_12k0d_1",WR="_active_12k0d_37",GR="_activeAnimation_12k0d_1",qR="_blocked_12k0d_41",XR="_icon_12k0d_46",YR="_countdownText_12k0d_51",Td={cardContainer:VR,active:WR,activeAnimation:GR,blocked:qR,icon:XR,countdownText:YR},KR=({type:a,Icon:e,onCardClick:t})=>{const[n,r]=S.useState(!1),{isBlocked:o,countdown:l,startBlock:d}=w8(`reactions_block_${a}`,1e4,2e3);S.useEffect(()=>{r(!!o)},[o]);const h=async()=>{await t()&&(r(!0),d())};return g.jsxs("button",{className:`${Td.cardContainer} ${n?Td.active:""} ${o?Td.blocked:""} `,disabled:!!n||o,onClick:h,children:[g.jsx(e,{className:Td.icon}),o&&g.jsx("div",{className:Td.countdownText,children:l})]})},ZR=[{type:"OKAY",icon:pC},{type:"CLAP",icon:mC},{type:"THUMBS_UP",icon:gC},{type:"SURPRISED",icon:yC},{type:"CRYING",icon:CC},{type:"HEART_EYES",icon:vC}],QR=({setModalType:a,openModal:e})=>{const[t,n]=S.useState(!1),r=async o=>{try{return await $r.sendReaction(o),n(!0),!0}catch(l){return l instanceof Ms?l.errorCode==="COURSE_NOT_FOUND"?(a("notFound"),e()):l.errorCode==="COURSE_NOT_ACTIVE"&&(a("notStart"),e()):l instanceof Eu?(a("server"),e()):(a("unknown"),e()),!1}};return g.jsxs("div",{className:kd.pageLayout,children:[g.jsxs("div",{className:kd.reactTitle,children:[g.jsx("span",{className:kd.titleStrong,children:"간단한 반응"}),"을 남기며 소통해보세요"]}),g.jsx("div",{className:kd.reactDesc,children:"이모지로 가볍게 감정을 표현할 수 있어요"}),g.jsx("div",{className:kd.cardContainer,children:ZR.map(o=>g.jsx(KR,{type:o.type,Icon:o.icon,onCardClick:()=>r(o.type)},o.type))}),t&&g.jsx(j3,{text:"라이브 이모지 전송 성공",onClose:()=>n(!1)})]})},JR="_pageLayout_1gvu2_1",eM="_contentContainer_1gvu2_11",tM="_questionTitle_1gvu2_17",nM="_titleStrong_1gvu2_24",sM="_questionDesc_1gvu2_28",iM="_questionLayout_1gvu2_35",rM="_questionContainer_1gvu2_45",oM="_cardContainer_1gvu2_78",pa={pageLayout:JR,contentContainer:eM,questionTitle:tM,titleStrong:nM,questionDesc:sM,questionLayout:iM,questionContainer:rM,cardContainer:oM},aM="_formContainer_1dppo_1",lM="_textareaBox_1dppo_12",cM="_formFooter_1dppo_29",uM="_countText_1dppo_35",dM="_sendButton_1dppo_40",Pd={formContainer:aM,textareaBox:lM,formFooter:cM,countText:uM,sendButton:dM},Fy=({inputValue:a,setInputValue:e,onInputSubmit:t,placeholder:n})=>{const o=l=>{const d=l.target.value;d.length<=200&&e(d)};return g.jsxs("form",{className:Pd.formContainer,onSubmit:t,children:[g.jsx("textarea",{className:Pd.textareaBox,placeholder:n,value:a,onChange:l=>o(l)}),g.jsxs("div",{className:Pd.formFooter,children:[g.jsxs("div",{className:Pd.countText,children:[a.length,"/",200]}),g.jsx("button",{type:"submit",className:Pd.sendButton,disabled:a.trim().length===0,children:"전송"})]})]})},hM="_messageContainer_75yv5_1",fM="_active_75yv5_20",pM="_moveOut_75yv5_1",mM="_messageBox_75yv5_24",gM="_messageContent_75yv5_33",vM="_buttonSvg_75yv5_41",yM="_checkButton_75yv5_53",CM="_checkSvg_75yv5_58",_M="_time_75yv5_64",ho={messageContainer:hM,active:fM,moveOut:pM,messageBox:mM,messageContent:gM,buttonSvg:vM,checkButton:yM,checkSvg:CM,time:_M},wM=a=>S.createElement("svg",{width:18,height:14,viewBox:"0 0 18 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},S.createElement("path",{d:"M17 1.52344L6 12.5234L1 7.52344",stroke:"currentColor",strokeWidth:1.66667,strokeLinecap:"round",strokeLinejoin:"round"})),xM=({message:a,time:e,onMessageClick:t,deleteQuestion:n})=>{const[r,o]=S.useState(!1),l=()=>{t(),o(!0)};return g.jsxs("div",{className:`${ho.messageContainer}  ${r?ho.active:""}`,onAnimationEnd:n,children:[g.jsxs("div",{className:ho.messageBox,children:[g.jsx("div",{className:ho.messageContent,children:a}),g.jsx("button",{onClick:l,className:`${ho.buttonSvg} ${r?ho.checkButton:""}`,disabled:r,children:g.jsx(wM,{className:ho.checkSvg})})]}),g.jsx("div",{className:ho.time,children:e})]})},SM=({setModalType:a,openModal:e,setQuestions:t,questions:n})=>{const[r,o]=S.useState(!1),[l,d]=S.useState(""),h=async C=>{if(C.preventDefault(),l.trim().length>0)try{const{id:y,createdAt:w,content:x}=await $r.sendQuestion(l),A={id:y,content:x,createdAt:w};t(T=>[...T,A]),d(""),o(!0)}catch(y){Mm({error:y,setModalType:a,openModal:e})}},p=async C=>{try{await $r.checkQuestionByStudent(C)}catch(y){console.log(y)}},m=C=>{t(y=>y.filter(w=>w.id!==C))};return g.jsx(g.Fragment,{children:n.length===0?g.jsxs("div",{className:pa.pageLayout,children:[g.jsxs("div",{className:pa.contentContainer,children:[g.jsxs("div",{className:pa.questionTitle,children:["언제든 편리하게",g.jsx("span",{className:pa.titleStrong,children:" 익명"}),"으로 질문하세요"]}),g.jsx("div",{className:pa.questionDesc,children:"답 해주시지 않는다면 피드백 이모지를 활용해보세요"})]}),g.jsx(Fy,{inputValue:l,setInputValue:d,onInputSubmit:h,placeholder:"완전 익명으로 안심하고 질문해보세요"})]}):g.jsxs("div",{className:pa.questionLayout,children:[g.jsx("div",{className:pa.questionContainer,children:n.map(C=>g.jsx(xM,{deleteQuestion:()=>m(C.id),message:C.content,time:C.createdAt,onMessageClick:()=>p(C.id)},C.id))}),g.jsx(Fy,{inputValue:l,setInputValue:d,onInputSubmit:h,placeholder:"완전 익명으로 안심하고 질문해보세요"}),r&&g.jsx(j3,{text:"전송 성공! 답변을 듣고 난 후 질문 체크 잊지마세요!",onClose:()=>o(!1)})]})})},Gg=[{key:"request",label:"요청하기"},{key:"react",label:"반응하기"},{key:"question",label:"질문하기"}],EM=()=>{const a=Vr(),[e,t]=S.useState(Gg[0].key),[n,r]=S.useState({left:0,width:0}),[o,l]=S.useState([]),[d,h]=S.useState(null),p=S.useRef({}),m=S.useRef(null),{openModal:C,closeModal:y,Modal:w}=Zo();S.useEffect(()=>{async function L(){try{const I=await $r.getQuestions();l(I)}catch(I){Mm({error:I,setModalType:h,openModal:C})}}L()},[]),S.useEffect(()=>((()=>{m.current&&m.current.close();const I=new EventSource("${API_URL}/sse/connection/student",{withCredentials:!0});I.onmessage=M=>{const F=JSON.parse(M.data);switch(F.messageType){case"QUESTION_CHECK":l(z=>z.filter(U=>U.id!==F.data.id));break;case"COURSE_CLOSED":h("closedCourse"),C();break}},I.onerror=()=>{I.readyState!==EventSource.CONNECTING&&(I.close(),m.current=null,h("sse"),C())},m.current=I})(),()=>{m.current&&(m.current.close(),m.current.onmessage=null,m.current.onerror=null)}),[]),S.useEffect(()=>(A(),window.addEventListener("resize",A),()=>{window.removeEventListener("resize",A)}),[e]);const x=Gg.findIndex(L=>L.key===e),A=()=>{const L=p.current[e];L&&r({left:L.offsetLeft,width:L.offsetWidth})},T=()=>{y(),h(null),a("/student")},N=()=>{switch(d){case"notFound":return Ui("notFound",T,T);case"notStart":return Ui("notStart",T,T);case"server":return Ui("server",T,T);case"closedCourse":return Ui("closedCourse",T,T);case"sse":return Ui("sse",T,T);default:return Ui("unknown",T,T)}};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:Vs.courseLayout,children:[g.jsxs("header",{className:Vs.headerContainer,children:[g.jsx(If,{className:Vs.logo,onClick:()=>a("/student")}),g.jsxs("div",{className:Vs.TabsContainer,children:[Gg.map(({key:L,label:I})=>g.jsx("button",{ref:M=>p.current[L]=M,className:Vs.TabButton,onClick:()=>{t(L)},children:g.jsx(vR,{text:I,isActive:e===L})},L)),g.jsx("div",{className:Vs.underline,style:{left:n.left,width:n.width}})]})]}),g.jsx("div",{className:Vs.layoutContainer,children:g.jsxs("div",{className:Vs.layoutsWrapper,style:{transform:`translateX(-${x*33.33}%)`},children:[g.jsx("div",{className:Vs.tabLayout,children:g.jsx(OR,{setModalType:h,openModal:C})}),g.jsx("div",{className:Vs.tabLayout,children:g.jsx(QR,{setModalType:h,openModal:C})}),g.jsx("div",{className:Vs.tabLayout,children:g.jsx(SM,{questions:o,setQuestions:l,setModalType:h,openModal:C})})]})})]}),g.jsx(w,{children:N()})]})},AM=()=>(S.useEffect(()=>{document.title="Professor",document.body.style.zoom=`${window.outerWidth/1920}`,document.body.style.backgroundColor="black"},[]),g.jsx(g.Fragment,{children:g.jsx(v3,{})})),bM="_loading_1ivzo_1",kM="_loadingContainer_1ivzo_10",TM="_loadingIcon_1ivzo_29",PM="_rotate_1ivzo_1",NM="_loadingText_1ivzo_35",l1={loading:bM,loadingContainer:kM,loadingIcon:TM,rotate:PM,loadingText:NM},LM=()=>{const{openModal:a,closeModal:e,Modal:t}=Zo(),[n,r]=S.useState(null),o=Vr(),{popupError:l,ErrorModal:d}=Df(),h=()=>{r(null),e(),o("/professor")},p=m=>{r(null),e(),o(`/professor/course/${m}/classroom`)};return S.useEffect(()=>{async function m(){try{const C=await fs.getOpenedCourse();C?(r(g.jsx(hC,{course:C,isStarted:!0,handleClickBackButton:h,handleClickStartButton:()=>p(C.id)})),a()):(e(),r(null))}catch(C){l(C)}}m()},[]),g.jsxs(g.Fragment,{children:[g.jsx("div",{className:l1.loading,children:g.jsxs("div",{className:l1.loadingContainer,children:[g.jsx(_8,{className:l1.loadingIcon}),g.jsx("div",{className:l1.loadingText,children:"Loading..."})]})}),n&&g.jsx(t,{children:n}),g.jsx(d,{})]})},RM=()=>(S.useEffect(()=>{const a=document.querySelector("meta[name='viewport']"),e=a==null?void 0:a.getAttribute("content");return a&&a.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover"),()=>{a&&e&&a.setAttribute("content",e)}},[]),S.useEffect(()=>{const a=()=>{const e=window.outerWidth;window.matchMedia("(min-width: 961px)").matches?(document.body.style.zoom=`${e/1920}`,document.body.style.backgroundColor="var(--gray-200)"):(document.body.style.zoom="1",document.body.style.backgroundColor="")};return a(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),document.body.style.zoom="1"}},[]),g.jsx(g.Fragment,{children:g.jsx(v3,{})}));function MM(){return g.jsx(U7,{children:g.jsxs(y7,{children:[g.jsx(sn,{index:!0,element:g.jsx(iw,{})}),g.jsxs(sn,{path:"professor",element:g.jsx(AM,{}),children:[g.jsxs(sn,{element:g.jsx(rx,{}),children:[g.jsx(sn,{index:!0,element:g.jsx(eA,{})}),g.jsx(sn,{path:"search",element:g.jsx(oA,{})}),g.jsx(sn,{path:"profile",element:g.jsx(lb,{})})]}),g.jsx(sn,{path:"login",element:g.jsx(DA,{})}),g.jsx(sn,{path:"loading",element:g.jsx(LM,{})}),g.jsx(sn,{path:"register",element:g.jsx(GA,{})}),g.jsxs(sn,{path:"course/:courseId",children:[g.jsx(sn,{index:!0,element:g.jsx(pk,{})}),g.jsx(sn,{path:"classroom",element:g.jsx(AL,{})})]})]}),g.jsxs(sn,{path:"student",element:g.jsx(RM,{}),children:[g.jsx(sn,{index:!0,element:g.jsx(rR,{})}),g.jsx(sn,{path:"course",element:g.jsx(EM,{})})]})]})})}k6.createRoot(document.getElementById("root")).render(g.jsx(MM,{}));
